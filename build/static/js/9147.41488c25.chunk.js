"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[9147],{38622:function(n,e,t){t.d(e,{WF:function(){return p},cl:function(){return h},hE:function(){return x},mU:function(){return f}});var r=t(74165),i=t(1413),o=t(15861),a=t(72791),s=t(6075),c=t.n(s),l=t(44887),d=t(89731),u={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};function h(){var n=[d.Hv.chat,{params:{endpoint:"contacts"}}],e=(0,l.ZP)(n,d._i,u),t=e.data,r=e.isLoading,i=e.error,o=e.isValidating;return(0,a.useMemo)((function(){return{contacts:(null===t||void 0===t?void 0:t.contacts)||[],contactsLoading:r,contactsError:i,contactsValidating:o,contactsEmpty:!r&&!(null!==t&&void 0!==t&&t.contacts.length)}}),[null===t||void 0===t?void 0:t.contacts,i,r,o])}function p(){var n=[d.Hv.chat,{params:{endpoint:"conversations"}}],e=(0,l.ZP)(n,d._i,u),t=e.data,r=e.isLoading,i=e.error,o=e.isValidating;return(0,a.useMemo)((function(){var n=c()(null===t||void 0===t?void 0:t.conversations,"id")||{},e=Object.keys(n)||[];return{conversations:{byId:n,allIds:e},conversationsLoading:r,conversationsError:i,conversationsValidating:o,conversationsEmpty:!r&&!e.length}}),[null===t||void 0===t?void 0:t.conversations,i,r,o])}function x(n){var e=n?[d.Hv.chat,{params:{conversationId:n,endpoint:"conversation"}}]:null,t=(0,l.ZP)(e,d._i,u),r=t.data,i=t.isLoading,o=t.error,s=t.isValidating;return(0,a.useMemo)((function(){return{conversation:null===r||void 0===r?void 0:r.conversation,conversationLoading:i,conversationError:o,conversationValidating:s}}),[null===r||void 0===r?void 0:r.conversation,o,i,s])}function f(n){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=d.Hv.chat,(0,l.JG)([t,{params:{endpoint:"conversations"}}],(function(n){var t=n.conversations.map((function(n){return n.id===e?(0,i.Z)((0,i.Z)({},n),{},{unreadCount:0}):n}));return(0,i.Z)((0,i.Z)({},n),{},{conversations:t})}),!1);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},57819:function(n,e,t){t.d(e,{ZP:function(){return k},NX:function(){return o}});var r=t(29439),i=t(72791);function o(n){var e=(0,i.useState)(-1),t=(0,r.Z)(e,2),o=t[0],a=t[1];return{selected:o,open:o>=0,onOpen:(0,i.useCallback)((function(e){var t=n.findIndex((function(n){return"video"===n.type?n.poster===e:n.src===e}));a(t)}),[n]),onClose:(0,i.useCallback)((function(){a(-1)}),[]),setSelected:a}}var a=t(1413),s=t(45987),c=t(62291),l=t(70482),d=t(98628),u=t(73557),h=t(19375),p=t(38559),x=t(36654),f=t(64554),m=t(40268),v=t(13967),g=t(12065),b=t(6199),Z=t(80184);function y(){var n=(0,v.Z)();return(0,Z.jsx)(b.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,g.Fq)(n.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,g.Fq)(n.palette.grey[900],.48)},".yarl__slide_title":{fontSize:n.typography.h5.fontSize,fontWeight:n.typography.h5.fontWeight,lineHeight:n.typography.h5.lineHeight},".yarl__slide_description":{fontSize:n.typography.body2.fontSize,fontWeight:n.typography.body2.fontWeight,lineHeight:n.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:n.palette.common.black}}})}var w=["slides","disabledZoom","disabledVideo","disabledTotal","disabledCaptions","disabledSlideshow","disabledThumbnails","disabledFullscreen","onGetCurrentIndex"],j=24;function k(n){var e=n.slides,t=n.disabledZoom,r=n.disabledVideo,i=n.disabledTotal,o=n.disabledCaptions,l=n.disabledSlideshow,d=n.disabledThumbnails,u=n.disabledFullscreen,h=n.onGetCurrentIndex,p=(0,s.Z)(n,w),x=e?e.length:0;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(y,{}),(0,Z.jsx)(c.ZP,(0,a.Z)({slides:e,animation:{swipe:240},carousel:{finite:x<5},controller:{closeOnBackdropClick:!0},plugins:C({disabledZoom:t,disabledVideo:r,disabledCaptions:o,disabledSlideshow:l,disabledThumbnails:d,disabledFullscreen:u}),on:{view:function(n){var e=n.index;h&&h(e)}},toolbar:{buttons:[(0,Z.jsx)(_,{totalItems:x,disabledTotal:i},0),"close"]},render:{iconClose:function(){return(0,Z.jsx)(m.Z,{width:j,icon:"carbon:close"})},iconZoomIn:function(){return(0,Z.jsx)(m.Z,{width:j,icon:"carbon:zoom-in"})},iconZoomOut:function(){return(0,Z.jsx)(m.Z,{width:j,icon:"carbon:zoom-out"})},iconSlideshowPlay:function(){return(0,Z.jsx)(m.Z,{width:j,icon:"carbon:play"})},iconSlideshowPause:function(){return(0,Z.jsx)(m.Z,{width:j,icon:"carbon:pause"})},iconPrev:function(){return(0,Z.jsx)(m.Z,{width:j+8,icon:"carbon:chevron-left"})},iconNext:function(){return(0,Z.jsx)(m.Z,{width:j+8,icon:"carbon:chevron-right"})},iconExitFullscreen:function(){return(0,Z.jsx)(m.Z,{width:j,icon:"carbon:center-to-fit"})},iconEnterFullscreen:function(){return(0,Z.jsx)(m.Z,{width:j,icon:"carbon:fit-to-screen"})}}},p))]})}function C(n){var e=n.disabledZoom,t=n.disabledVideo,r=n.disabledCaptions,i=n.disabledSlideshow,o=n.disabledThumbnails,a=n.disabledFullscreen,s=[u.Z,p.Z,h.Z,x.Z,d.Z,l.Z];return o&&(s=s.filter((function(n){return n!==x.Z}))),r&&(s=s.filter((function(n){return n!==u.Z}))),a&&(s=s.filter((function(n){return n!==p.Z}))),i&&(s=s.filter((function(n){return n!==h.Z}))),e&&(s=s.filter((function(n){return n!==l.Z}))),t&&(s=s.filter((function(n){return n!==d.Z}))),s}function _(n){var e=n.totalItems,t=n.disabledTotal,r=(0,c.oc)().currentIndex;return t?null:(0,Z.jsxs)(f.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,Z.jsxs)("strong",{children:[" ",r+1," "]})," / ",e]})}},6585:function(n,e,t){t.r(e),t.d(e,{default:function(){return on}});var r=t(6907),i=t(29439),o=t(72791),a=t(57621),s=t(36314),c=t(89164),l=t(4567),d=t(60220),u=t(64554),h=(t(38072),t(19208)),p=t(51318),x=t(38622),f=t(60720),m=t(93433),v=t(1413),g=t(13967),b=t(88654),Z=t(13400),y=(t(48550),t(63466),t(53767),t(38887)),w=t(40268),j=t(47974);function k(){var n=(0,o.useState)(!1),e=(0,i.Z)(n,2),t=e[0],r=e[1],a=(0,o.useState)(!1),s=(0,i.Z)(a,2),c=s[0],l=s[1],d=(0,o.useCallback)((function(){l((function(n){return!n}))}),[]),u=(0,o.useCallback)((function(){l(!1)}),[]);return{openMobile:t,collapseDesktop:c,onOpenMobile:(0,o.useCallback)((function(){r(!0)}),[]),onCloseMobile:(0,o.useCallback)((function(){r(!1)}),[]),onCloseDesktop:u,onCollapseDesktop:d}}var C=t(74165),_=t(15861),S=(t(31207),t(27029)),E=t(49900),F=t(76278),I=t(80184);t(4942),t(94721),t(20068),t(82626);var R=t(4834);t(12652),t(58406),t(52115);t(45987),t(47047);t(96349);var T=t(72064),M=t.n(T),P=t(25506),O=t.n(P),A=t(56125),W=t(22459),z=t(12065),L=t(5574),q=t(39157);function D(n){var e=n.participant,t=n.open,r=n.onClose;return(0,I.jsxs)(L.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:r,children:[(0,I.jsx)(Z.Z,{onClick:r,sx:{position:"absolute",right:8,top:8},children:(0,I.jsx)(w.Z,{icon:"mingcute:close-line"})}),(0,I.jsxs)(q.Z,{sx:{py:5,px:3,display:"flex"},children:[(0,I.jsx)(d.Z,{alt:e.name,src:e.avatarUrl,sx:{width:96,height:96,mr:3}}),(0,I.jsxs)(s.Z,{spacing:1,children:[(0,I.jsx)(l.Z,{variant:"caption",sx:{color:"primary.main"},children:e.role}),(0,I.jsx)(l.Z,{variant:"subtitle1",children:e.name}),(0,I.jsxs)(s.Z,{direction:"row",sx:{typography:"caption",color:"text.disabled"},children:[(0,I.jsx)(w.Z,{icon:"mingcute:location-fill",width:16,sx:{flexShrink:0,mr:.5,mt:"2px"}}),e.address]}),(0,I.jsxs)(s.Z,{spacing:1,direction:"row",sx:{pt:1.5},children:[(0,I.jsx)(Z.Z,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:function(n){return(0,z.Fq)(n.palette.error.main,.08)},"&:hover":{bgcolor:function(n){return(0,z.Fq)(n.palette.error.main,.16)}}},children:(0,I.jsx)(w.Z,{width:18,icon:"solar:phone-bold"})}),(0,I.jsx)(Z.Z,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:function(n){return(0,z.Fq)(n.palette.info.main,.08)},"&:hover":{bgcolor:function(n){return(0,z.Fq)(n.palette.info.main,.16)}}},children:(0,I.jsx)(w.Z,{width:18,icon:"solar:chat-round-dots-bold"})}),(0,I.jsx)(Z.Z,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:function(n){return(0,z.Fq)(n.palette.primary.main,.08)},"&:hover":{bgcolor:function(n){return(0,z.Fq)(n.palette.primary.main,.16)}}},children:(0,I.jsx)(w.Z,{width:18,icon:"fluent:mail-24-filled"})}),(0,I.jsx)(Z.Z,{size:"small",color:"secondary",sx:{borderRadius:1,bgcolor:function(n){return(0,z.Fq)(n.palette.secondary.main,.08)},"&:hover":{bgcolor:function(n){return(0,z.Fq)(n.palette.secondary.main,.16)}}},children:(0,I.jsx)(w.Z,{width:18,icon:"solar:videocamera-record-bold"})})]})]})]})]})}function N(n){var e=n.participants,t=(0,o.useState)(null),r=(0,i.Z)(t,2),a=r[0],s=r[1],c=(0,W.k)(!0),l=(0,o.useCallback)((function(n){s(n)}),[]),h=e.length,p=(0,I.jsxs)(F.Z,{onClick:c.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[(0,I.jsxs)(u.Z,{component:"span",sx:{flexGrow:1},children:["In room (",h,")"]}),(0,I.jsx)(w.Z,{width:16,icon:c.value?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})]}),x=(0,I.jsx)(j.Z,{sx:{height:224},children:e.map((function(n){return(0,I.jsxs)(F.Z,{onClick:function(){return l(n)},children:[(0,I.jsx)(S.Z,{variant:n.status,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,I.jsx)(d.Z,{alt:n.name,src:n.avatarUrl})}),(0,I.jsx)(E.Z,{sx:{ml:2},primary:n.name,secondary:n.role,primaryTypographyProps:{noWrap:!0,typography:"subtitle2"},secondaryTypographyProps:{noWrap:!0,component:"span",typography:"caption"}})]},n.id)}))});return(0,I.jsxs)(I.Fragment,{children:[p,(0,I.jsx)("div",{children:(0,I.jsx)(A.Z,{in:c.value,children:x})}),a&&(0,I.jsx)(D,{participant:a,open:!!a,onClose:function(){s(null)}})]})}function V(n){var e=n.participant,t=(0,W.k)(!0),r=e.name,i=e.avatarUrl,o=e.role,a=e.address,c=e.phoneNumber,h=e.email,p=(0,I.jsxs)(s.Z,{alignItems:"center",sx:{py:5},children:[(0,I.jsx)(d.Z,{alt:r,src:i,sx:{width:96,height:96,mb:2}}),(0,I.jsx)(l.Z,{variant:"subtitle1",children:r}),(0,I.jsx)(l.Z,{variant:"body2",sx:{color:"text.secondary",mt:.5},children:o})]}),x=(0,I.jsxs)(F.Z,{onClick:t.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[(0,I.jsx)(u.Z,{component:"span",sx:{flexGrow:1},children:"Information"}),(0,I.jsx)(w.Z,{width:16,icon:t.value?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})]}),f=(0,I.jsxs)(s.Z,{spacing:2,sx:{px:2,py:2.5,"& svg":{mr:1,flexShrink:0,color:"text.disabled"}},children:[(0,I.jsxs)(s.Z,{direction:"row",children:[(0,I.jsx)(w.Z,{icon:"mingcute:location-fill"}),(0,I.jsx)(l.Z,{variant:"body2",children:a})]}),(0,I.jsxs)(s.Z,{direction:"row",children:[(0,I.jsx)(w.Z,{icon:"solar:phone-bold"}),(0,I.jsx)(l.Z,{variant:"body2",children:c})]}),(0,I.jsxs)(s.Z,{direction:"row",children:[(0,I.jsx)(w.Z,{icon:"fluent:mail-24-filled"}),(0,I.jsx)(l.Z,{variant:"body2",noWrap:!0,children:h})]})]});return(0,I.jsxs)(I.Fragment,{children:[p,x,(0,I.jsx)("div",{children:(0,I.jsx)(A.Z,{in:t.value,children:f})})]})}var G=t(9145),H=t(18197);function U(n){var e=n.attachments,t=(0,W.k)(!0),r=e.length,i=(0,I.jsxs)(F.Z,{disabled:!e.length,onClick:t.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[(0,I.jsxs)(u.Z,{component:"span",sx:{flexGrow:1},children:["Attachments (",r,")"]}),(0,I.jsx)(w.Z,{width:16,icon:(t.value?!e.length&&"eva:arrow-ios-forward-fill":"eva:arrow-ios-forward-fill")||"eva:arrow-ios-downward-fill"})]}),o=(0,I.jsx)(j.Z,{sx:{px:2,py:2.5},children:e.map((function(n,e){return(0,I.jsxs)(s.Z,{spacing:1.5,direction:"row",alignItems:"center",sx:{mb:2},children:[(0,I.jsx)(s.Z,{alignItems:"center",justifyContent:"center",sx:{width:40,height:40,flexShrink:0,borderRadius:1,overflow:"hidden",position:"relative",backgroundColor:"background.neutral"},children:(0,I.jsx)(H.ZP,{imageView:!0,file:n.preview,onDownload:function(){return console.info("DOWNLOAD")},sx:{width:28,height:28}})}),(0,I.jsx)(E.Z,{primary:n.name,secondary:(0,G.zM)(n.createdAt),primaryTypographyProps:{noWrap:!0,typography:"body2"},secondaryTypographyProps:{mt:.25,noWrap:!0,component:"span",typography:"caption",color:"text.disabled"}})]},n.name+e)}))});return(0,I.jsxs)(I.Fragment,{children:[i,(0,I.jsx)(u.Z,{sx:{overflow:"hidden",height:t.value?1:0,transition:function(n){return n.transitions.create(["height"],{duration:n.transitions.duration.shorter})}},children:o})]})}var X=240;function B(n){var e=n.participants,t=n.conversation,r=(0,g.Z)(),i=(0,y.F)("up","lg"),a=k(),c=a.collapseDesktop,l=a.onCloseDesktop,d=a.onCollapseDesktop,h=a.openMobile,p=a.onOpenMobile,x=a.onCloseMobile;(0,o.useEffect)((function(){i||l()}),[l,i]);var f=(0,o.useCallback)((function(){i?d():p()}),[i]),m=e.length>1,j=M()(O()(t.messages.map((function(n){return n.attachments})))),C=(0,I.jsxs)(I.Fragment,{children:[m?(0,I.jsx)(N,{participants:e}):(0,I.jsx)(V,{participant:e[0]}),(0,I.jsx)(U,{attachments:j})]}),_=(0,I.jsx)(Z.Z,{onClick:f,sx:(0,v.Z)({top:12,right:0,zIndex:9,width:32,height:32,borderRight:0,position:"absolute",borderRadius:"12px 0 0 12px",boxShadow:r.customShadows.z8,bgcolor:r.palette.background.paper,border:"solid 1px ".concat(r.palette.divider),"&:hover":{bgcolor:r.palette.background.neutral}},i&&(0,v.Z)({},!c&&{right:X})),children:i?(0,I.jsx)(w.Z,{width:16,icon:c?"eva:arrow-ios-back-fill":"eva:arrow-ios-forward-fill"}):(0,I.jsx)(w.Z,{width:16,icon:"eva:arrow-ios-back-fill"})});return(0,I.jsxs)(u.Z,{sx:{position:"relative"},children:[_,i?(0,I.jsx)(s.Z,{sx:(0,v.Z)({height:1,flexShrink:0,width:X,borderLeft:"solid 1px ".concat(r.palette.divider),transition:r.transitions.create(["width"],{duration:r.transitions.duration.shorter})},c&&{width:0}),children:!c&&C}):(0,I.jsx)(b.ZP,{anchor:"right",open:h,onClose:x,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:X}},children:C})]})}t(57819);function K(n){var e=n.message;n.participants,n.onOpenLightbox,n.typing;console.log(e);(0,p.I)().user;var t="user"===e.role,r="system"===e.role,i=(0,I.jsx)(l.Z,{noWrap:!0,variant:"caption",sx:(0,v.Z)({mb:1,color:"text.disabled"},!t&&{mr:"auto"})}),o=(0,I.jsx)(s.Z,{sx:(0,v.Z)((0,v.Z)({p:1.5,width:1,borderRadius:1,typography:"body2",bgcolor:"background.neutral"},t&&{color:"grey.800",bgcolor:"primary.lighter"}),r&&{display:"none"}),children:e.content});s.Z,(0,v.Z)({pt:.5,opacity:0,top:"100%",left:0,position:"absolute",transition:function(n){return n.transitions.create(["opacity"],{duration:n.transitions.duration.shorter})}},t&&{left:"unset",right:0}),Z.Z,w.Z,Z.Z,w.Z,Z.Z,w.Z;return(0,I.jsx)(s.Z,{direction:"row",children:(0,I.jsxs)(s.Z,{alignItems:"flex-end",children:[i,(0,I.jsx)(s.Z,{direction:"row",alignItems:"center",sx:{position:"relative","&:hover":{"& .message-actions":{opacity:1}},whiteSpace:"pre-wrap"},children:o})]})})}function Y(n){var e=n.messages,t=void 0===e?[]:e,r=(n.participants,n.typing),i=function(n){var e=(0,o.useRef)(null),t=(0,o.useCallback)((function(){n&&e.current&&e.current&&(e.current.scrollTop=e.current.scrollHeight)}),[n]);return(0,o.useEffect)((function(){t()}),[n]),{messagesEndRef:e}}(t),a=i.messagesEndRef;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(j.Z,{ref:a,sx:{px:3,py:5,height:1},children:(0,I.jsx)(u.Z,{children:t.map((function(n,e){return(0,I.jsx)(K,{message:n,typing:r},e)}))})})})}var J=t(41920),$=t(57459),Q=t(77393),nn=t(2102);function en(n){var e=n.recipients,t=(n.onAddRecipients,n.disabled,n.selectedConversationId,n.messages),r=n.setMessages,a=n.setTyping,c=n.setErrorMsg,l=((0,h.tv)(),(0,o.useRef)(null)),d=(0,o.useContext)($.Vo).user,u=(0,o.useState)(""),p=(0,i.Z)(u,2),x=p[0],f=p[1],v=(0,o.useMemo)((function(){return{id:d.id,role:d.role,email:d.email,address:d.address,name:d.displayName,lastActivity:new Date,avatarUrl:d.photoURL,phoneNumber:d.phoneNumber,status:"online"}}),[d]),g=(0,o.useMemo)((function(){return{id:(0,Q.Z)(),attachments:[],body:x,contentType:"text",createdAt:(0,J.Z)(new Date,{minutes:1}),senderId:v.id}}),[x,v.id]),b=((0,o.useMemo)((function(){return{id:(0,Q.Z)(),messages:[g],participants:[].concat((0,m.Z)(e),[v]),type:e.length>1?"GROUP":"ONE_TO_ONE",unreadCount:0}}),[g,v,e]),function(){var n=(0,_.Z)((0,C.Z)().mark((function n(){var e;return(0,C.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!x){n.next=7;break}return e=[].concat((0,m.Z)(t),[{content:x,role:"user"}]),r(e),a(!0),f(""),n.next=7,y(e);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()),y=function(){var n=(0,_.Z)((0,C.Z)().mark((function n(e){var t,i;return(0,C.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,nn.Z.post("/features/ai-chat",{messages:(0,m.Z)(e)},{headers:{Authorization:"Basic ".concat(null===d||void 0===d?void 0:d.token)}});case 3:t=n.sent,(i=t.data)&&(a(!1),c(!1),r([].concat((0,m.Z)(e),[{content:null===i||void 0===i?void 0:i.content,role:null===i||void 0===i?void 0:i.role}]))),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),a(!1),c(!0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(R.ZP,{value:x,onKeyUp:function(n){"Enter"!==n.key||n.shiftKey||(n.preventDefault(),b())},onChange:function(n){f(n.target.value)},placeholder:"Type a message",multiline:!0,endAdornment:(0,I.jsx)(s.Z,{direction:"row",sx:{flexShrink:0},children:(0,I.jsx)(Z.Z,{onClick:b,children:(0,I.jsx)(w.Z,{icon:"majesticons:send"})})}),sx:{px:1,height:"auto",flexShrink:0,border:function(n){return"solid 1px ".concat(n.palette.divider)},borderRadius:"10px",width:"50%",marginBottom:"25px","@media (min-width:769px) and (max-width:1024px )":{width:"70%"},"@media (max-width:768px )":{width:"95%"}}}),(0,I.jsx)("input",{type:"file",ref:l,style:{display:"none"}})]})}t(76348),t(5951);t(85771),t(46314);var tn=t.p+"static/media/okyeame.27aa4570dcb81c8856dd.png";t.p;function rn(){var n=(0,p.I)().user,e=(0,f.K$)(),t=(0,h.lr)().get("id")||"",r=(0,o.useState)([]),m=(0,i.Z)(r,2),v=m[0],g=m[1],b=(0,x.cl)().contacts,Z=(0,x.WF)(),y=(Z.conversations,Z.conversationsLoading,(0,x.hE)("".concat(t))),w=y.conversation,j=(y.conversationError,w?w.participants.filter((function(e){return e.id!==n.id})):[]),k=(0,o.useState)([{role:"system",content:"You are a knowledgeable health-focused assistant, dedicated to providing information and guidance on various health-related topics. Please refrain from answering any questions that do not pertain to health and medical\xa0subjects."}]),C=(0,i.Z)(k,2),_=C[0],S=C[1],E=(0,o.useState)(!1),F=(0,i.Z)(E,2),R=F[0],T=F[1],M=(0,o.useState)(!1),P=(0,i.Z)(M,2),O=P[0],A=P[1],W=(0,o.useCallback)((function(n){g(n)}),[]),z=!!w;console.log(_);s.Z,t&&I.Fragment;var L=(0,I.jsxs)(s.Z,{sx:{width:1,height:1,overflow:"hidden"},children:[(0,I.jsx)(Y,{messages:_,participants:j,typing:R}),R&&(0,I.jsx)(l.Z,{variant:"p",sx:{mb:{xs:3,md:5},mt:"10px",pl:"24px"},children:"...Okyeame AI is typing"}),O&&(0,I.jsx)(l.Z,{variant:"p",sx:{mb:{xs:3,md:5},mt:"10px",pl:"24px"},children:"Error getting response from Telical AI"}),(0,I.jsx)(s.Z,{sx:{width:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,I.jsx)(en,{recipients:v,onAddRecipients:W,selectedConversationId:t,disabled:!v.length&&!t,setMessages:S,messages:_,setTyping:T,setErrorMsg:A})})]});return(0,I.jsxs)(c.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,I.jsxs)(u.Z,{sx:{padding:"10px",textAlign:"center",backgroundImage:"linear-gradient(to right top, #2065d1, #1a59c5, #134db8, #0c42ac, #05369f)",color:"#fff",width:"50%",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px 10px 0px 0px","@media (max-width:725px )":{width:"80%"}},children:[(0,I.jsx)(d.Z,{alt:"Okyeame",src:tn,sx:{width:64,height:64,zIndex:11,left:0,right:0,background:"#fff",mx:"5px",position:"relative"}}),(0,I.jsx)(l.Z,{variant:"h4",sx:{fontWeight:"400",fontSize:"14px !important"},children:"Chat with Okyeame AI"})]}),(0,I.jsx)(s.Z,{component:a.Z,direction:"row",sx:{height:"72vh"},children:(0,I.jsx)(s.Z,{sx:{width:1,height:1,overflow:"hidden"},children:(0,I.jsxs)(s.Z,{direction:"row",sx:{width:1,height:1,overflow:"hidden",borderTop:function(n){return"solid 1px ".concat(n.palette.divider)},backgroundColor:"transparent"},children:[L,z&&(0,I.jsx)(B,{conversation:w,participants:j})]})})})]})}function on(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(r.ql,{children:(0,I.jsx)("title",{children:" Dashboard: AI-Chat"})}),(0,I.jsx)(rn,{})]})}},77393:function(n,e,t){function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=16*Math.random()|0;return("x"===n?e:3&e|8).toString(16)}))}t.d(e,{Z:function(){return r}})},53767:function(n,e,t){t.d(e,{d:function(){return l}});var r=t(72791),i=t(6117),o=t(97054),a=t(84913),s=t(80184);function c(n){return n.substring(2).toLowerCase()}function l(n){var e=n.children,t=n.disableReactTree,l=void 0!==t&&t,d=n.mouseEvent,u=void 0===d?"onClick":d,h=n.onClickAway,p=n.touchEvent,x=void 0===p?"onTouchEnd":p,f=r.useRef(!1),m=r.useRef(null),v=r.useRef(!1),g=r.useRef(!1);r.useEffect((function(){return setTimeout((function(){v.current=!0}),0),function(){v.current=!1}}),[]);var b=(0,i.Z)(e.ref,m),Z=(0,o.Z)((function(n){var e=g.current;g.current=!1;var t=(0,a.Z)(m.current);!v.current||!m.current||"clientX"in n&&function(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}(n,t)||(f.current?f.current=!1:(n.composedPath?n.composedPath().indexOf(m.current)>-1:!t.documentElement.contains(n.target)||m.current.contains(n.target))||!l&&e||h(n))})),y=function(n){return function(t){g.current=!0;var r=e.props[n];r&&r(t)}},w={ref:b};return!1!==x&&(w[x]=y(x)),r.useEffect((function(){if(!1!==x){var n=c(x),e=(0,a.Z)(m.current),t=function(){f.current=!0};return e.addEventListener(n,Z),e.addEventListener("touchmove",t),function(){e.removeEventListener(n,Z),e.removeEventListener("touchmove",t)}}}),[Z,x]),!1!==u&&(w[u]=y(u)),r.useEffect((function(){if(!1!==u){var n=c(u),e=(0,a.Z)(m.current);return e.addEventListener(n,Z),function(){e.removeEventListener(n,Z)}}}),[Z,u]),(0,s.jsx)(r.Fragment,{children:r.cloneElement(e,w)})}},47047:function(n,e,t){t.d(e,{Z:function(){return R}});var r=t(30168),i=t(63366),o=t(87462),a=t(72791),s=t(59278),c=t(52554),l=t(94419);function d(n){return String(n).match(/[\d.\-+]*\s*(.*)/)[1]||""}function u(n){return parseFloat(n)}var h=t(12065),p=t(66934),x=t(31402),f=t(75878),m=t(21217);function v(n){return(0,m.Z)("MuiSkeleton",n)}(0,f.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var g,b,Z,y,w,j,k,C,_=t(80184),S=["animation","className","component","height","style","variant","width"],E=(0,c.F4)(w||(w=g||(g=(0,r.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),F=(0,c.F4)(j||(j=b||(b=(0,r.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),I=(0,p.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e[t.variant],!1!==t.animation&&e[t.animation],t.hasChildren&&e.withChildren,t.hasChildren&&!t.width&&e.fitContent,t.hasChildren&&!t.height&&e.heightAuto]}})((function(n){var e=n.theme,t=n.ownerState,r=d(e.shape.borderRadius)||"px",i=u(e.shape.borderRadius);return(0,o.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,h.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(i).concat(r,"/").concat(Math.round(i/.6*10)/10).concat(r),"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(function(n){return"pulse"===n.ownerState.animation&&(0,c.iv)(k||(k=Z||(Z=(0,r.Z)(["\n      animation: "," 1.5s ease-in-out 0.5s infinite;\n    "]))),E)}),(function(n){var e=n.ownerState,t=n.theme;return"wave"===e.animation&&(0,c.iv)(C||(C=y||(y=(0,r.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),F,(t.vars||t).palette.action.hover)})),R=a.forwardRef((function(n,e){var t=(0,x.Z)({props:n,name:"MuiSkeleton"}),r=t.animation,a=void 0===r?"pulse":r,c=t.className,d=t.component,u=void 0===d?"span":d,h=t.height,p=t.style,f=t.variant,m=void 0===f?"text":f,g=t.width,b=(0,i.Z)(t,S),Z=(0,o.Z)({},t,{animation:a,component:u,variant:m,hasChildren:Boolean(b.children)}),y=function(n){var e=n.classes,t=n.variant,r=n.animation,i=n.hasChildren,o=n.width,a=n.height,s={root:["root",t,r,i&&"withChildren",i&&!o&&"fitContent",i&&!a&&"heightAuto"]};return(0,l.Z)(s,v,e)}(Z);return(0,_.jsx)(I,(0,o.Z)({as:u,ref:e,className:(0,s.Z)(y.root,c),ownerState:Z},b,{style:(0,o.Z)({width:g,height:h},p)}))}))}}]);
//# sourceMappingURL=9147.41488c25.chunk.js.map