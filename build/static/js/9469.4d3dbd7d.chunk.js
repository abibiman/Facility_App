"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[9469],{96832:function(e,t,n){n(72791),n(22459),n(57459),n(80160),n(40268),n(3352),n(52115),n(2102),n(80184)},89469:function(e,t,n){n.d(t,{Xy:function(){return $},A7:function(){return Ze}});var l=n(72791),s=n(38072),r=n(19208),i=(n(57459),n(83854),n(22459)),o=n(2102),a=(n(14993),n(40268)),c=n(47974),d=n(3352),x=n(60720),h=n(50933),u=n(1382),j=(n(96832),n(52115)),p=n(80184);var b=n(57062),y=(n(8007),n(20845),n(87151),n(17070));n(21435);var g=n(89164),m=n(29439),Z=n(66934),f=n(64554),v=n(57621),w=n(79836),C=n(36314),D=n(94721),S=n(9195),G=n(56890),_=n(68745),R=n(53382),k=n(24308),P=n(4567),T=n(39281),F=n(9145),A=n(80160),W=n(96851),I=n(5849),O=n(5574),B=n(20068),N=n(82626),E=n(48550),z=n(13400),M=n(97123),H=n(13239);W.Zx.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});var Q=function(){return(0,l.useMemo)((function(){return W.mM.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",padding:"40px 24px 120px 24px"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}})}),[])};function L(e){var t=e.invoice,n=e.currentStatus,l=t.items,s=t.taxes,r=t.dueDate,i=t.discount,o=t.shipping,a=t.invoiceTo,c=t.createDate,d=t.totalAmount,x=t.invoiceFrom,h=t.invoiceNumber,u=t.subTotal,j=Q();return(0,p.jsx)(W.BB,{children:(0,p.jsxs)(W.T3,{size:"A4",style:j.page,children:[(0,p.jsxs)(W.G7,{style:[j.gridContainer,j.mb40],children:[(0,p.jsx)(W.Ee,{source:"/logo/logo_single.png",style:{width:48,height:48}}),(0,p.jsxs)(W.G7,{style:{alignItems:"flex-end",flexDirection:"column"},children:[(0,p.jsx)(W.xv,{style:j.h3,children:n}),(0,p.jsxs)(W.xv,{children:[" ",h," "]})]})]}),(0,p.jsxs)(W.G7,{style:[j.gridContainer,j.mb40],children:[(0,p.jsxs)(W.G7,{style:j.col6,children:[(0,p.jsx)(W.xv,{style:[j.subtitle2,j.mb4],children:"Invoice from"}),(0,p.jsx)(W.xv,{style:j.body2,children:x.name}),(0,p.jsx)(W.xv,{style:j.body2,children:x.fullAddress}),(0,p.jsx)(W.xv,{style:j.body2,children:x.phoneNumber})]}),(0,p.jsxs)(W.G7,{style:j.col6,children:[(0,p.jsx)(W.xv,{style:[j.subtitle2,j.mb4],children:"Invoice to"}),(0,p.jsx)(W.xv,{style:j.body2,children:a.name}),(0,p.jsx)(W.xv,{style:j.body2,children:a.fullAddress}),(0,p.jsx)(W.xv,{style:j.body2,children:a.phoneNumber})]})]}),(0,p.jsxs)(W.G7,{style:[j.gridContainer,j.mb40],children:[(0,p.jsxs)(W.G7,{style:j.col6,children:[(0,p.jsx)(W.xv,{style:[j.subtitle2,j.mb4],children:"Date create"}),(0,p.jsx)(W.xv,{style:j.body2,children:(0,F.Mu)(c)})]}),(0,p.jsxs)(W.G7,{style:j.col6,children:[(0,p.jsx)(W.xv,{style:[j.subtitle2,j.mb4],children:"Due date"}),(0,p.jsx)(W.xv,{style:j.body2,children:(0,F.Mu)(r)})]})]}),(0,p.jsx)(W.xv,{style:[j.subtitle1,j.mb8],children:"Invoice Details"}),(0,p.jsxs)(W.G7,{style:j.table,children:[(0,p.jsx)(W.G7,{children:(0,p.jsxs)(W.G7,{style:j.tableRow,children:[(0,p.jsx)(W.G7,{style:j.tableCell_1,children:(0,p.jsx)(W.xv,{style:j.subtitle2,children:"#"})}),(0,p.jsx)(W.G7,{style:j.tableCell_2,children:(0,p.jsx)(W.xv,{style:j.subtitle2,children:"Description"})}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{style:j.subtitle2,children:"Qty"})}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{style:j.subtitle2,children:"Unit price"})}),(0,p.jsx)(W.G7,{style:[j.tableCell_3,j.alignRight],children:(0,p.jsx)(W.xv,{style:j.subtitle2,children:"Total"})})]})}),(0,p.jsxs)(W.G7,{children:[l.map((function(e,t){return(0,p.jsxs)(W.G7,{style:j.tableRow,children:[(0,p.jsx)(W.G7,{style:j.tableCell_1,children:(0,p.jsx)(W.xv,{children:t+1})}),(0,p.jsxs)(W.G7,{style:j.tableCell_2,children:[(0,p.jsx)(W.xv,{style:j.subtitle2,children:e.title}),(0,p.jsx)(W.xv,{children:e.description})]}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{children:e.quantity})}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{children:e.price})}),(0,p.jsx)(W.G7,{style:[j.tableCell_3,j.alignRight],children:(0,p.jsx)(W.xv,{children:(0,y.e_)(e.price*e.quantity)})})]},e.id)})),(0,p.jsxs)(W.G7,{style:[j.tableRow,j.noBorder],children:[(0,p.jsx)(W.G7,{style:j.tableCell_1}),(0,p.jsx)(W.G7,{style:j.tableCell_2}),(0,p.jsx)(W.G7,{style:j.tableCell_3}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{children:"Subtotal"})}),(0,p.jsx)(W.G7,{style:[j.tableCell_3,j.alignRight],children:(0,p.jsx)(W.xv,{children:(0,y.e_)(u)})})]}),(0,p.jsxs)(W.G7,{style:[j.tableRow,j.noBorder],children:[(0,p.jsx)(W.G7,{style:j.tableCell_1}),(0,p.jsx)(W.G7,{style:j.tableCell_2}),(0,p.jsx)(W.G7,{style:j.tableCell_3}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{children:"Shipping"})}),(0,p.jsx)(W.G7,{style:[j.tableCell_3,j.alignRight],children:(0,p.jsx)(W.xv,{children:(0,y.e_)(-o)})})]}),(0,p.jsxs)(W.G7,{style:[j.tableRow,j.noBorder],children:[(0,p.jsx)(W.G7,{style:j.tableCell_1}),(0,p.jsx)(W.G7,{style:j.tableCell_2}),(0,p.jsx)(W.G7,{style:j.tableCell_3}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{children:"Discount"})}),(0,p.jsx)(W.G7,{style:[j.tableCell_3,j.alignRight],children:(0,p.jsx)(W.xv,{children:(0,y.e_)(-i)})})]}),(0,p.jsxs)(W.G7,{style:[j.tableRow,j.noBorder],children:[(0,p.jsx)(W.G7,{style:j.tableCell_1}),(0,p.jsx)(W.G7,{style:j.tableCell_2}),(0,p.jsx)(W.G7,{style:j.tableCell_3}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{children:"Taxes"})}),(0,p.jsx)(W.G7,{style:[j.tableCell_3,j.alignRight],children:(0,p.jsx)(W.xv,{children:(0,y.e_)(s)})})]}),(0,p.jsxs)(W.G7,{style:[j.tableRow,j.noBorder],children:[(0,p.jsx)(W.G7,{style:j.tableCell_1}),(0,p.jsx)(W.G7,{style:j.tableCell_2}),(0,p.jsx)(W.G7,{style:j.tableCell_3}),(0,p.jsx)(W.G7,{style:j.tableCell_3,children:(0,p.jsx)(W.xv,{style:j.h4,children:"Total"})}),(0,p.jsx)(W.G7,{style:[j.tableCell_3,j.alignRight],children:(0,p.jsx)(W.xv,{style:j.h4,children:(0,y.e_)(d)})})]})]})]}),(0,p.jsxs)(W.G7,{style:[j.gridContainer,j.footer],fixed:!0,children:[(0,p.jsxs)(W.G7,{style:j.col8,children:[(0,p.jsx)(W.xv,{style:j.subtitle2,children:"NOTES"}),(0,p.jsx)(W.xv,{children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,p.jsxs)(W.G7,{style:[j.col4,j.alignRight],children:[(0,p.jsx)(W.xv,{style:j.subtitle2,children:"Have a Question?"}),(0,p.jsx)(W.xv,{children:"support@abcapp.com"})]})]})]})})}function q(e){var t=e.invoice,n=e.currentStatus,o=e.statusOptions,c=e.onChangeStatus,d=(0,r.tv)(),x=(0,i.k)(),h=(0,l.useCallback)((function(){d.push(s.H.dashboard.invoice.edit(t.id))}),[t.id,d]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(C.Z,{spacing:3,direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"},sx:{mb:{xs:3,md:5}},children:[(0,p.jsxs)(C.Z,{direction:"row",spacing:1,flexGrow:1,sx:{width:1},children:[(0,p.jsx)(B.Z,{title:"Edit",children:(0,p.jsx)(z.Z,{onClick:h,children:(0,p.jsx)(a.Z,{icon:"solar:pen-bold"})})}),(0,p.jsx)(B.Z,{title:"View",children:(0,p.jsx)(z.Z,{onClick:x.onTrue,children:(0,p.jsx)(a.Z,{icon:"solar:eye-bold"})})}),(0,p.jsx)(W.WD,{document:(0,p.jsx)(L,{invoice:t,currentStatus:n}),fileName:t.invoiceNumber,style:{textDecoration:"none"},children:function(e){var t=e.loading;return(0,p.jsx)(B.Z,{title:"Download",children:(0,p.jsx)(z.Z,{children:t?(0,p.jsx)(H.Z,{size:24,color:"inherit"}):(0,p.jsx)(a.Z,{icon:"eva:cloud-download-fill"})})})}}),(0,p.jsx)(B.Z,{title:"Print",children:(0,p.jsx)(z.Z,{children:(0,p.jsx)(a.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,p.jsx)(B.Z,{title:"Send",children:(0,p.jsx)(z.Z,{children:(0,p.jsx)(a.Z,{icon:"iconamoon:send-fill"})})}),(0,p.jsx)(B.Z,{title:"Share",children:(0,p.jsx)(z.Z,{children:(0,p.jsx)(a.Z,{icon:"solar:share-bold"})})})]}),(0,p.jsx)(E.Z,{fullWidth:!0,select:!0,label:"Status",value:n,onChange:c,sx:{maxWidth:160},children:o.map((function(e){return(0,p.jsx)(N.Z,{value:e.value,children:e.label},e.value)}))})]}),(0,p.jsx)(O.Z,{fullScreen:!0,open:x.value,children:(0,p.jsxs)(f.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,p.jsx)(M.Z,{sx:{p:1.5},children:(0,p.jsx)(I.Z,{color:"inherit",variant:"contained",onClick:x.onFalse,children:"Close"})}),(0,p.jsx)(f.Z,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:(0,p.jsx)(W.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,p.jsx)(L,{invoice:t,currentStatus:n})})})]})})]})}var U=(0,Z.ZP)(S.Z)((function(e){var t=e.theme;return{"& td":{textAlign:"right",borderBottom:"none",paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}}));function V(e){var t=e.invoice,n=(0,l.useState)(t.status),s=(0,m.Z)(n,2),r=s[0],i=s[1],o=(0,l.useCallback)((function(e){i(e.target.value)}),[]),a=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(U,{children:[(0,p.jsx)(_.Z,{colSpan:3}),(0,p.jsxs)(_.Z,{sx:{color:"text.secondary"},children:[(0,p.jsx)(f.Z,{sx:{mt:2}}),"Subtotal"]}),(0,p.jsxs)(_.Z,{width:120,sx:{typography:"subtitle2"},children:[(0,p.jsx)(f.Z,{sx:{mt:2}}),(0,y.e_)(t.subTotal)]})]}),(0,p.jsxs)(U,{children:[(0,p.jsx)(_.Z,{colSpan:3}),(0,p.jsx)(_.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,p.jsx)(_.Z,{width:120,sx:{color:"error.main",typography:"body2"},children:(0,y.e_)(-t.shipping)})]}),(0,p.jsxs)(U,{children:[(0,p.jsx)(_.Z,{colSpan:3}),(0,p.jsx)(_.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,p.jsx)(_.Z,{width:120,sx:{color:"error.main",typography:"body2"},children:(0,y.e_)(-t.discount)})]}),(0,p.jsxs)(U,{children:[(0,p.jsx)(_.Z,{colSpan:3}),(0,p.jsx)(_.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,p.jsx)(_.Z,{width:120,children:(0,y.e_)(t.taxes)})]}),(0,p.jsxs)(U,{children:[(0,p.jsx)(_.Z,{colSpan:3}),(0,p.jsx)(_.Z,{sx:{typography:"subtitle1"},children:"Total"}),(0,p.jsx)(_.Z,{width:140,sx:{typography:"subtitle1"},children:(0,y.e_)(t.totalAmount)})]})]}),d=(0,p.jsxs)(k.Z,{container:!0,children:[(0,p.jsxs)(k.Z,{xs:12,md:9,sx:{py:3},children:[(0,p.jsx)(P.Z,{variant:"subtitle2",children:"NOTES"}),(0,p.jsx)(P.Z,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,p.jsxs)(k.Z,{xs:12,md:3,sx:{py:3,textAlign:"right"},children:[(0,p.jsx)(P.Z,{variant:"subtitle2",children:"Have a Question?"}),(0,p.jsx)(P.Z,{variant:"body2",children:"support@minimals.cc"})]})]}),x=(0,p.jsx)(T.Z,{sx:{overflow:"unset",mt:5},children:(0,p.jsx)(c.Z,{children:(0,p.jsxs)(w.Z,{sx:{minWidth:960},children:[(0,p.jsx)(G.Z,{children:(0,p.jsxs)(S.Z,{children:[(0,p.jsx)(_.Z,{width:40,children:"#"}),(0,p.jsx)(_.Z,{sx:{typography:"subtitle2"},children:"Description"}),(0,p.jsx)(_.Z,{children:"Qty"}),(0,p.jsx)(_.Z,{align:"right",children:"Unit price"}),(0,p.jsx)(_.Z,{align:"right",children:"Total"})]})}),(0,p.jsxs)(R.Z,{children:[t.items.map((function(e,t){return(0,p.jsxs)(S.Z,{children:[(0,p.jsx)(_.Z,{children:t+1}),(0,p.jsx)(_.Z,{children:(0,p.jsxs)(f.Z,{sx:{maxWidth:560},children:[(0,p.jsx)(P.Z,{variant:"subtitle2",children:e.title}),(0,p.jsx)(P.Z,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.description})]})}),(0,p.jsx)(_.Z,{children:e.quantity}),(0,p.jsx)(_.Z,{align:"right",children:(0,y.e_)(e.price)}),(0,p.jsx)(_.Z,{align:"right",children:(0,y.e_)(e.price*e.quantity)})]},t)})),a]})]})})});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(q,{invoice:t,currentStatus:r||"",onChangeStatus:o,statusOptions:b.Dp}),(0,p.jsxs)(v.Z,{sx:{pt:5,px:5},children:[(0,p.jsxs)(f.Z,{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,p.jsx)(f.Z,{component:"img",alt:"logo",src:"/logo/logo_single.svg",sx:{width:48,height:48}}),(0,p.jsxs)(C.Z,{spacing:1,alignItems:{xs:"flex-start",md:"flex-end"},children:[(0,p.jsx)(A.Z,{variant:"soft",color:("paid"===r?"success":"pending"===r&&"warning")||"overdue"===r&&"error"||"default",children:r}),(0,p.jsx)(P.Z,{variant:"h6",children:t.invoiceNumber})]}),(0,p.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,p.jsx)(P.Z,{variant:"subtitle2",sx:{mb:1},children:"Invoice From"}),t.invoiceFrom.name,(0,p.jsx)("br",{}),t.invoiceFrom.fullAddress,(0,p.jsx)("br",{}),"Phone: ",t.invoiceFrom.phoneNumber,(0,p.jsx)("br",{})]}),(0,p.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,p.jsx)(P.Z,{variant:"subtitle2",sx:{mb:1},children:"Invoice To"}),t.invoiceTo.name,(0,p.jsx)("br",{}),t.invoiceTo.fullAddress,(0,p.jsx)("br",{}),"Phone: ",t.invoiceTo.phoneNumber,(0,p.jsx)("br",{})]}),(0,p.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,p.jsx)(P.Z,{variant:"subtitle2",sx:{mb:1},children:"Date Create"}),(0,F.Mu)(t.createDate)]}),(0,p.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,p.jsx)(P.Z,{variant:"subtitle2",sx:{mb:1},children:"Due Date"}),(0,F.Mu)(t.dueDate)]})]}),x,(0,p.jsx)(D.Z,{sx:{mt:5,borderStyle:"dashed"}}),d]})]})}function $(e){var t=e.id,n=(0,x.K$)(),l=b.Ot.filter((function(e){return e.id===t}))[0];return(0,p.jsxs)(g.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,p.jsx)(h.Z,{heading:null===l||void 0===l?void 0:l.invoiceNumber,links:[{name:"Dashboard",href:s.H.dashboard.root},{name:"Invoice",href:s.H.dashboard.invoice.root},{name:null===l||void 0===l?void 0:l.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,p.jsx)(V,{invoice:l})]})}var K=n(4942),X=n(1413),J=n(74165),Y=n(15861),ee=n(93433),te=n(49900),ne=n(32869),le=n(16386),se=n(12258);function re(e){var t=e.row,n=e.selected,s=e.onViewRow,r=(e.onSelectRow,e.onDeleteRow),c=e.fetchAllOrders,x=(t.orderType,t.priority),h=t.status,u=(t.appointmentDate,t.patientName),b=(t._id,t.dateOrdered),y=t.labItems,g=t.labOrderId,Z=(0,ee.Z)(new Set(y.map((function(e){return e.category})))),v=(0,i.k)(),w=(0,j.S)(),C=(0,l.useState)(!1),D=(0,m.Z)(C,2),G=(D[0],D[1],(0,l.useState)(!1)),R=(0,m.Z)(G,2),k=(R[0],R[1],(0,l.useState)(!1)),P=(0,m.Z)(k,2),T=(P[0],P[1],(0,l.useState)(!1)),F=(0,m.Z)(T,2),W=F[0],O=F[1],B=(0,l.useState)(!1),E=(0,m.Z)(B,2),M=E[0],H=E[1],Q=(0,ne.Ds)().enqueueSnackbar,L=function(){var e=(0,Y.Z)((0,J.Z)().mark((function e(){var t;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,o.Z.patch("/medical-labs/facility/result/complete/".concat(g));case 4:(t=e.sent)&&(Q("Successfully marked as completed"),c()),console.log(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,H(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),q=(0,p.jsxs)(S.Z,{hover:!0,selected:n,children:[(0,p.jsx)(_.Z,{children:(0,p.jsx)(f.Z,{onClick:s,sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"".concat(g)})}),(0,p.jsx)(_.Z,{children:(0,p.jsx)(te.Z,{primary:u,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"}})}),(0,p.jsx)(_.Z,{children:(0,p.jsx)(te.Z,{primary:(0,le.Z)(new Date(b),"dd/MM/yyyy"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,p.jsxs)(_.Z,{align:"center",children:[" ",Z.join(", ")," "]}),(0,p.jsx)(_.Z,{children:(0,p.jsx)(A.Z,{variant:"soft",color:("approved"===h?"success":"pending"===h&&"warning")||"default",children:"Completed"})}),(0,p.jsx)(_.Z,{children:(0,p.jsx)(A.Z,{variant:"soft",color:("regular"===x?"success":"urgent"===x&&"warning")||"emergency"===x&&"error"||"default",children:x})}),(0,p.jsx)(_.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,p.jsx)(z.Z,{color:w.open?"inherit":"default",onClick:w.onOpen,children:(0,p.jsx)(a.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,p.jsxs)(p.Fragment,{children:[q,(0,p.jsx)(j.Z,{open:w.open,onClose:w.onClose,arrow:"right-top",sx:{maxWidth:200},children:(0,p.jsxs)(N.Z,{onClick:function(){O(!0)},children:[(0,p.jsx)(a.Z,{icon:"fluent-mdl2:completed-solid"}),"Mark as completed"]})}),(0,p.jsx)(d.Q,{open:W,onClose:function(){return O(!1)},title:"Complete Upload of Lab Result",content:"Are you sure you want to set order to complete?",action:(0,p.jsx)(se.Z,{variant:"contained",color:"success",loading:M,onClick:function(){return L()},children:"Complete"})})," ",(0,p.jsx)(d.Q,{open:v.value,onClose:v.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,p.jsx)(I.Z,{variant:"contained",color:"error",onClick:r,children:"Delete"})})]})}var ie=n(53106),oe=n(63466);function ae(e){var t=e.filters,n=e.onFilters,s=e.canReset,r=e.onResetFilters,i=(0,j.S)(),o=(0,l.useCallback)((function(e){n("orderType",e.target.value)}),[n]),c=(0,l.useCallback)((function(e){n("startDate",e)}),[n]),d=(0,l.useCallback)((function(e){n("endDate",e)}),[n]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(C.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,p.jsx)(ie.M,{label:"Start date",value:t.startDate,onChange:c,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,p.jsx)(ie.M,{label:"End date",value:t.endDate,onChange:d,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,p.jsxs)(C.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,p.jsx)(E.Z,{fullWidth:!0,value:t.orderType,onChange:o,placeholder:"Search by order type...",InputProps:{startAdornment:(0,p.jsx)(oe.Z,{position:"start",children:(0,p.jsx)(a.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,p.jsx)(z.Z,{onClick:i.onOpen,children:(0,p.jsx)(a.Z,{icon:"eva:more-vertical-fill"})})]}),s&&(0,p.jsx)(I.Z,{color:"error",sx:{flexShrink:0},onClick:r,startIcon:(0,p.jsx)(a.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]}),(0,p.jsxs)(j.Z,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:140},children:[(0,p.jsxs)(N.Z,{onClick:function(){i.onClose()},children:[(0,p.jsx)(a.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,p.jsxs)(N.Z,{onClick:function(){i.onClose()},children:[(0,p.jsx)(a.Z,{icon:"solar:export-bold"}),"Export"]})]})]})}var ce=n(45987),de=n(85771),xe=n(27938),he=n(25265),ue=["filters","onFilters","onResetFilters","results"],je=["label","children","sx"];function pe(e){var t=e.filters,n=e.onFilters,l=e.onResetFilters,s=e.results,r=(0,ce.Z)(e,ue),i=(0,he.l2)(t.startDate,t.endDate);return(0,p.jsxs)(C.Z,(0,X.Z)((0,X.Z)({spacing:1.5},r),{},{children:[(0,p.jsxs)(f.Z,{sx:{typography:"body2"},children:[(0,p.jsx)("strong",{children:s}),(0,p.jsx)(f.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,p.jsxs)(C.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:["all"!==t.status&&(0,p.jsx)(be,{label:"Status:",children:(0,p.jsx)(de.Z,{size:"small",label:t.status,onDelete:function(){n("status","all")}})}),t.startDate&&t.endDate&&(0,p.jsx)(be,{label:"Date:",children:(0,p.jsx)(de.Z,{size:"small",label:i,onDelete:function(){n("startDate",null),n("endDate",null)}})}),(0,p.jsx)(I.Z,{color:"error",onClick:l,startIcon:(0,p.jsx)(a.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function be(e){var t=e.label,n=e.children,l=e.sx,s=(0,ce.Z)(e,je);return(0,p.jsxs)(C.Z,(0,X.Z)((0,X.Z)({component:xe.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,X.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},l)},s),{},{children:[(0,p.jsx)(f.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,p.jsx)(C.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]}))}var ye=n(8976),ge=([{value:"all",label:"All"}].concat((0,ee.Z)(b.s8)),[{id:"orderNumber",label:"Appointment ID",width:180},{id:"name",label:"Patient",width:120},{id:"createdAt",label:"Date",width:120},{id:"totalQuantity",label:"Order Type",width:200},{id:"totalAmount",label:"Status",width:140},{id:"status",label:"Priority",width:110},{id:"",width:88}]),me={name:"",status:"all",startDate:null,endDate:null,orderType:"",labOrderId:""};function Ze(){var e=(0,u.x6)({defaultOrderBy:"orderNumber"}),t=(0,x.K$)(),n=(0,r.tv)(),d=(0,i.k)(),j=(0,l.useState)([]),b=(0,m.Z)(j,2),y=b[0],Z=b[1],f=(0,l.useState)(me),C=(0,m.Z)(f,2),D=C[0],S=C[1],G=(0,ye.E)().user,_=function(){var e=(0,Y.Z)((0,J.Z)().mark((function e(){var t,n;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/medical-labs/facility/result/uncompleted/".concat(null===G||void 0===G?void 0:G.facilityID));case 3:t=e.sent,n=t.data,Z(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){_()}),[]);var k=!(!D.startDate||!D.endDate)&&D.startDate.getTime()>D.endDate.getTime(),P=function(e){var t=e.inputData,n=e.comparator,l=e.filters,s=e.dateError,r=l.status,i=(l.name,l.startDate),o=l.endDate,a=l.orderType,c=(l.labOrderId,t.map((function(e,t){return[e,t]})));c.sort((function(e,t){var l=n(e[0],t[0]);return 0!==l?l:e[1]-t[1]})),t=c.map((function(e){return e[0]})),a&&(t=t.filter((function(e){return-1!==e.orderType.toLowerCase().indexOf(a.toLowerCase())})));"all"!==r&&(t=t.filter((function(e){return e.status===r})));s||i&&o&&(t=t.filter((function(e){return(0,F.IO)(e.createdAt)>=(0,F.IO)(i)&&(0,F.IO)(e.createdAt)<=(0,F.IO)(o)})));return t}({inputData:y,comparator:(0,u.sQ)(e.order,e.orderBy),filters:D,dateError:k}),A=P.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),W=e.dense?52:72,I=!!D.name||"all"!==D.status||!!D.startDate&&!!D.endDate,O=!P.length&&I||!P.length,N=(0,l.useCallback)((function(t,n){e.onResetPage(),S((function(e){return(0,X.Z)((0,X.Z)({},e),{},(0,K.Z)({},t,n))}))}),[e]),E=(0,l.useCallback)((function(t){var n=y.filter((function(e){return e.id!==t}));Z(n),e.onUpdatePageDeleteRow(A.length)}),[A.length,e,y]),M=((0,l.useCallback)((function(){var t=y.filter((function(t){return!e.selected.includes(t.id)}));Z(t),e.onUpdatePageDeleteRows({totalRows:y.length,totalRowsInPage:A.length,totalRowsFiltered:P.length})}),[P.length,A.length,e,y]),(0,l.useCallback)((function(){S(me)}),[])),H=(0,l.useCallback)((function(e){n.push(s.H.dashboard.order.details(e))}),[n]);(0,l.useCallback)((function(e,t){N("status",t)}),[N]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(g.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,p.jsx)(h.Z,{heading:"All Lab Results",links:[{name:"Dashboard",href:s.H.dashboard.root},{name:"Appointments",href:s.H.dashboard.order.root},{name:"List"}],sx:{mb:{xs:3,md:5}}}),(0,p.jsxs)(v.Z,{children:[(0,p.jsx)(ae,{filters:D,onFilters:N,canReset:I,onResetFilters:M}),I&&(0,p.jsx)(pe,{filters:D,onFilters:N,onResetFilters:M,results:P.length,sx:{p:2.5,pt:0}}),(0,p.jsxs)(T.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,p.jsx)(u.Z4,{dense:e.dense,numSelected:e.selected.length,rowCount:y.length,onSelectAllRows:function(t){return e.onSelectAllRows(t,y.map((function(e){return e.id})))},action:(0,p.jsx)(B.Z,{title:"Delete",children:(0,p.jsx)(z.Z,{color:"primary",onClick:d.onTrue,children:(0,p.jsx)(a.Z,{icon:"solar:trash-bin-trash-bold"})})})}),(0,p.jsx)(c.Z,{children:(0,p.jsxs)(w.Z,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[(0,p.jsx)(u.K,{order:e.order,orderBy:e.orderBy,headLabel:ge,rowCount:y.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:function(t){return e.onSelectAllRows(t,y.map((function(e){return e.id})))}}),(0,p.jsxs)(R.Z,{children:[P.sort((function(e,t){return new Date(t.dateOrdered)-new Date(e.dateOrdered)})).slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((function(t){return(0,p.jsx)(re,{row:t,selected:e.selected.includes(t.id),onSelectRow:function(){return e.onSelectRow(t.id)},onDeleteRow:function(){return E(t.id)},onViewRow:function(){return H(t.id)},fetchAllOrders:_},t.id)})),(0,p.jsx)(u.$W,{height:W,emptyRows:(0,u.fQ)(e.page,e.rowsPerPage,y.length)}),(0,p.jsx)(u.et,{notFound:O})]})]})})]}),(0,p.jsx)(u.S_,{count:P.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]})})}}}]);
//# sourceMappingURL=9469.4d3dbd7d.chunk.js.map