"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[7289],{50933:function(e,n,r){r.d(n,{Z:function(){return p}});var t=r(1413),o=r(45987),i=r(64554),s=r(50533),a=r(36314),l=r(4567),d=r(93517),c=r(83854),u=r(80184);function x(e){var n=e.link,r=e.activeLast,o=e.disabled,a=n.name,l=n.href,d=n.icon,x=(0,t.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},o&&!r&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),h=(0,u.jsxs)(u.Fragment,{children:[d&&(0,u.jsx)(i.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:d}),a]});return l?(0,u.jsx)(s.Z,{component:c.r,href:l,sx:x,children:h}):(0,u.jsxs)(i.Z,{sx:x,children:[" ",h," "]})}var h=["links","action","heading","moreLink","activeLast","sx"];function p(e){var n=e.links,r=e.action,c=e.heading,p=e.moreLink,m=e.activeLast,g=e.sx,j=(0,o.Z)(e,h),f=n[n.length-1].name;return(0,u.jsxs)(i.Z,{sx:(0,t.Z)({},g),children:[(0,u.jsxs)(a.Z,{direction:"row",alignItems:"center",sx:{"@media (max-width: 475px)":{flexDirection:"column"}},children:[(0,u.jsxs)(i.Z,{sx:{flexGrow:1},children:[c&&(0,u.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:c}),!!n.length&&(0,u.jsx)(d.Z,(0,t.Z)((0,t.Z)({separator:(0,u.jsx)(Z,{})},j),{},{children:n.map((function(e){return(0,u.jsx)(x,{link:e,activeLast:m,disabled:e.name===f},e.name||"")}))}))]}),r&&(0,u.jsxs)(i.Z,{sx:{flexShrink:0},children:[" ",r," "]})]}),!!p&&(0,u.jsx)(i.Z,{sx:{mt:2},children:p.map((function(e){return(0,u.jsx)(s.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function Z(){return(0,u.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},25265:function(e,n,r){r.d(n,{ZP:function(){return C},l2:function(){return a},wE:function(){return c}});var t=r(82599),o=r(54690),i=r(85375),s=r(9145);function a(e,n){var r=(new Date).getFullYear(),a=e?(0,t.Z)(e):null,l=n?(0,t.Z)(n):null,d=r===a&&r===l,c=!(!e||!n)&&(0,o.Z)(new Date(e),new Date(n)),u=!(!e||!n)&&(0,i.Z)(new Date(e),new Date(n));return d?u?c?(0,s.Mu)(n,"dd MMM yy"):"".concat((0,s.Mu)(e,"dd")," - ").concat((0,s.Mu)(n,"dd MMM yy")):"".concat((0,s.Mu)(e,"dd MMM")," - ").concat((0,s.Mu)(n,"dd MMM yy")):"".concat((0,s.Mu)(e,"dd MMM yy")," - ").concat((0,s.Mu)(n,"dd MMM yy"))}var l=r(29439),d=r(72791);function c(e,n){var r=(0,d.useState)(!1),t=(0,l.Z)(r,2),o=t[0],i=t[1],c=(0,d.useState)(n),u=(0,l.Z)(c,2),x=u[0],h=u[1],p=(0,d.useState)(e),Z=(0,l.Z)(p,2),m=Z[0],g=Z[1],j=!(!e||!n)&&new Date(e).getTime()>new Date(n).getTime(),f=(0,d.useCallback)((function(){i(!0)}),[]),y=(0,d.useCallback)((function(){i(!1)}),[]);return{startDate:m,endDate:x,onChangeStartDate:(0,d.useCallback)((function(e){g(e)}),[]),onChangeEndDate:(0,d.useCallback)((function(e){j&&h(null),h(e)}),[j]),open:o,onOpen:f,onClose:y,onReset:(0,d.useCallback)((function(){g(null),h(null)}),[]),selected:!!m&&!!x,error:j,label:"".concat((0,s.Mu)(m)," - ").concat((0,s.Mu)(x)),shortLabel:a(m,x),setStartDate:g,setEndDate:h}}var u=r(1413),x=r(53106),h=r(78521),p=r(27938),Z=r(36314),m=r(5849),g=r(5574),j=r(65661),f=r(97123),y=r(39157),b=r(30035),v=r(38887),w=r(80184);function C(e){var n=e.title,r=void 0===n?"Select date range":n,t=e.variant,o=void 0===t?"input":t,i=e.startDate,s=e.endDate,a=e.onChangeStartDate,l=e.onChangeEndDate,d=e.open,c=e.onClose,C=e.error,S=(0,v.F)("up","md"),D="calendar"===o;return(0,w.jsxs)(g.Z,{fullWidth:!0,maxWidth:!D&&"xs",open:d,onClose:c,PaperProps:{sx:(0,u.Z)({},D&&{maxWidth:720})},children:[(0,w.jsx)(j.Z,{sx:{pb:2},children:r}),(0,w.jsxs)(y.Z,{sx:(0,u.Z)({},D&&S&&{overflow:"unset"}),children:[(0,w.jsx)(Z.Z,{justifyContent:"center",spacing:D?3:2,direction:D&&S?"row":"column",sx:{pt:1},children:D?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(h.W,{value:i,onChange:a})}),(0,w.jsx)(p.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(h.W,{value:s,onChange:l})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x.M,{label:"Start date",value:i,onChange:a}),(0,w.jsx)(x.M,{label:"End date",value:s,onChange:l})]})}),C&&(0,w.jsx)(b.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,w.jsxs)(f.Z,{children:[(0,w.jsx)(m.Z,{variant:"outlined",color:"inherit",onClick:c,children:"Cancel"}),(0,w.jsx)(m.Z,{disabled:C,variant:"contained",onClick:c,children:"Apply"})]})]})}},11633:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(1413),o=r(45987),i=r(12065),s=r(64554),a=r(4567),l=r(36314),d=r(80184),c=["title","imgUrl","action","filled","description","sx"];function u(e){var n=e.title,r=e.imgUrl,u=e.action,x=e.filled,h=e.description,p=e.sx,Z=(0,o.Z)(e,c);return(0,d.jsxs)(l.Z,(0,t.Z)((0,t.Z)({flexGrow:1,alignItems:"center",justifyContent:"center",sx:(0,t.Z)((0,t.Z)({px:3,height:1},x&&{borderRadius:2,bgcolor:function(e){return(0,i.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat((0,i.Fq)(e.palette.grey[500],.08))}}),p)},Z),{},{children:[(0,d.jsx)(s.Z,{component:"img",alt:"empty content",src:r||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,d.jsx)(a.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),h&&(0,d.jsx)(a.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:h}),u&&u]}))}},1382:function(e,n,r){function t(e,n,r){return e?Math.max(0,(1+e)*n-r):0}function o(e,n,r){return null===e[r]?1:null===n[r]||n[r]<e[r]?-1:n[r]>e[r]?1:0}function i(e,n){return"desc"===e?function(e,r){return o(e,r,n)}:function(e,r){return-o(e,r,n)}}r.d(n,{$W:function(){return y},K:function(){return S},et:function(){return Z},S_:function(){return M},Z4:function(){return I},hM:function(){return f},fQ:function(){return t},sQ:function(){return i},x6:function(){return d}});var s=r(93433),a=r(29439),l=r(72791);function d(e){var n=(0,l.useState)(!(null===e||void 0===e||!e.defaultDense)),r=(0,a.Z)(n,2),t=r[0],o=r[1],i=(0,l.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),d=(0,a.Z)(i,2),c=d[0],u=d[1],x=(0,l.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),h=(0,a.Z)(x,2),p=h[0],Z=h[1],m=(0,l.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||5),g=(0,a.Z)(m,2),j=g[0],f=g[1],y=(0,l.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),b=(0,a.Z)(y,2),v=b[0],w=b[1],C=(0,l.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),S=(0,a.Z)(C,2),D=S[0],P=S[1],k=(0,l.useCallback)((function(e){""!==e&&(w(p===e&&"asc"===v?"desc":"asc"),Z(e))}),[v,p]),R=(0,l.useCallback)((function(e){var n=D.includes(e)?D.filter((function(n){return n!==e})):[].concat((0,s.Z)(D),[e]);P(n)}),[D]),I=(0,l.useCallback)((function(e){u(0),f(parseInt(e.target.value,10))}),[]),O=(0,l.useCallback)((function(e){o(e.target.checked)}),[]),F=(0,l.useCallback)((function(e,n){P(e?n:[])}),[]),A=(0,l.useCallback)((function(e,n){u(n)}),[]),T=(0,l.useCallback)((function(){u(0)}),[]),M=(0,l.useCallback)((function(e){P([]),c&&e<2&&u(c-1)}),[c]),B=(0,l.useCallback)((function(e){var n=e.totalRows,r=e.totalRowsInPage,t=e.totalRowsFiltered,o=D.length;if(P([]),c)if(o===r)u(c-1);else if(o===t)u(0);else if(o>r){var i=Math.ceil((n-o)/j)-1;u(i)}}),[c,j,D.length]);return{dense:t,order:v,page:c,orderBy:p,rowsPerPage:j,selected:D,onSelectRow:R,onSelectAllRows:F,onSort:k,onChangePage:A,onChangeDense:O,onResetPage:T,onChangeRowsPerPage:I,onUpdatePageDeleteRow:M,onUpdatePageDeleteRows:B,setPage:u,setDense:o,setOrder:w,setOrderBy:Z,setSelected:P,setRowsPerPage:f}}var c=r(1413),u=r(9195),x=r(68745),h=r(11633),p=r(80184);function Z(e){var n=e.notFound,r=e.sx;return(0,p.jsx)(u.Z,{children:n?(0,p.jsx)(x.Z,{colSpan:12,children:(0,p.jsx)(h.Z,{filled:!0,title:"No Data",sx:(0,c.Z)({py:10},r)})}):(0,p.jsx)(x.Z,{colSpan:12,sx:{p:0}})})}var m=r(36459),g=r(36314),j=r(47047);function f(e){var n=Object.assign({},((0,m.Z)(e),e));return(0,p.jsx)(u.Z,(0,c.Z)((0,c.Z)({},n),{},{children:(0,p.jsx)(x.Z,{colSpan:12,children:(0,p.jsxs)(g.Z,{spacing:3,direction:"row",alignItems:"center",children:[(0,p.jsx)(j.Z,{sx:{borderRadius:1.5,width:48,height:48,flexShrink:0}}),(0,p.jsx)(j.Z,{sx:{width:1,height:12}}),(0,p.jsx)(j.Z,{sx:{width:180,height:12}}),(0,p.jsx)(j.Z,{sx:{width:160,height:12}}),(0,p.jsx)(j.Z,{sx:{width:140,height:12}}),(0,p.jsx)(j.Z,{sx:{width:120,height:12}})]})})}))}function y(e){var n=e.emptyRows,r=e.height;return n?(0,p.jsx)(u.Z,{sx:(0,c.Z)({},r&&{height:r*n}),children:(0,p.jsx)(x.Z,{colSpan:9})}):null}var b=r(64554),v=r(56890),w=r(80720),C={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function S(e){var n=e.order,r=e.orderBy,t=(e.rowCount,e.headLabel),o=(e.numSelected,e.onSort),i=(e.onSelectAllRows,e.sx);return(0,p.jsx)(v.Z,{sx:i,children:(0,p.jsx)(u.Z,{children:t.map((function(e){return(0,p.jsx)(x.Z,{align:e.align||"left",sortDirection:r===e.id&&n,sx:{width:e.width,minWidth:e.minWidth,background:function(e){return"light"===e.palette.mode?"#e8effb !important":""}},children:o?(0,p.jsxs)(w.Z,{hideSortIcon:!0,active:r===e.id,direction:r===e.id?n:"asc",onClick:function(){return o(e.id)},children:[e.label,r===e.id?(0,p.jsx)(b.Z,{sx:(0,c.Z)({},C),children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)}))})})}var D=r(45987),P=r(13034),k=r(4567),R=["dense","action","rowCount","numSelected","onSelectAllRows","sx"];function I(e){var n=e.dense,r=e.action,t=e.rowCount,o=e.numSelected,i=e.onSelectAllRows,s=e.sx,a=(0,D.Z)(e,R);return o?(0,p.jsxs)(g.Z,(0,c.Z)((0,c.Z)({direction:"row",alignItems:"center",sx:(0,c.Z)((0,c.Z)({pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter"},n&&{height:38}),s)},a),{},{children:[(0,p.jsx)(P.Z,{indeterminate:!!o&&o<t,checked:!!t&&o===t,onChange:function(e){return i(e.target.checked)}}),(0,p.jsxs)(k.Z,{variant:"subtitle2",sx:(0,c.Z)({ml:2,flexGrow:1,color:"primary.main"},n&&{ml:3}),children:[o," selected"]}),r&&r]})):null}var O=r(89891),F=r(25801),A=r(5446),T=["dense","onChangeDense","rowsPerPageOptions","sx"];function M(e){var n=e.dense,r=e.onChangeDense,t=e.rowsPerPageOptions,o=void 0===t?[5,10,25]:t,i=e.sx,s=(0,D.Z)(e,T);return(0,p.jsxs)(b.Z,{sx:(0,c.Z)({position:"relative"},i),children:[(0,p.jsx)(A.Z,(0,c.Z)((0,c.Z)({rowsPerPageOptions:o,component:"div"},s),{},{sx:{borderTopColor:"transparent"}})),r&&(0,p.jsx)(F.Z,{label:"Dense",control:(0,p.jsx)(O.Z,{checked:n,onChange:r}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},24233:function(e,n,r){r.d(n,{GV:function(){return f},gq:function(){return D},ab:function(){return O},un:function(){return k}});var t=r(12065),o=r(64554),i=r(27938),s=r(4567),a=r(17070),l=r(18197),d=r(80184);function c(e){var n=e.fileRejections;return n.length?(0,d.jsx)(i.Z,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:function(e){return(0,t.Fq)(e.palette.error.main,.08)}},children:n.map((function(e){var n=e.file,r=e.errors,t=(0,l.ht)(n),i=t.path,c=t.size;return(0,d.jsxs)(o.Z,{sx:{my:1},children:[(0,d.jsxs)(s.Z,{variant:"subtitle2",noWrap:!0,children:[i," - ",c?(0,a.oe)(c):""]}),r.map((function(e){return(0,d.jsxs)(o.Z,{component:"span",sx:{typography:"caption"},children:["- ",e.message]},e.code)}))]},i)}))}):null}var u=r(1413),x=r(83791),h=r(45358),p=r(36314),Z=r(13400),m=r(49900),g=r(40268),j=r(82486);function f(e){var n=e.thumbnail,r=e.files,o=e.onRemove,i=e.sx;return(0,d.jsx)(x.M,{initial:!1,children:null===r||void 0===r?void 0:r.map((function(e){var r=(0,l.ht)(e),s=r.key,c=r.name,x=void 0===c?"":c,f=r.size,y=void 0===f?0:f,b="string"===typeof e;return n?(0,d.jsxs)(p.Z,(0,u.Z)((0,u.Z)({component:h.m.div},(0,j.EU)().inUp),{},{alignItems:"center",display:"inline-flex",justifyContent:"center",sx:(0,u.Z)({m:.5,width:80,height:80,borderRadius:1.25,overflow:"hidden",position:"relative",border:function(e){return"solid 1px ".concat((0,t.Fq)(e.palette.grey[500],.16))}},i),children:[(0,d.jsx)(l.ZP,{tooltip:!0,imageView:!0,file:e,sx:{position:"absolute"},imgSx:{position:"absolute"}}),o&&(0,d.jsx)(Z.Z,{size:"small",onClick:function(){return o(e)},sx:{p:.5,top:4,right:4,position:"absolute",color:"common.white",bgcolor:function(e){return(0,t.Fq)(e.palette.grey[900],.48)},"&:hover":{bgcolor:function(e){return(0,t.Fq)(e.palette.grey[900],.72)}}},children:(0,d.jsx)(g.Z,{icon:"mingcute:close-line",width:14})})]}),s):(0,d.jsxs)(p.Z,(0,u.Z)((0,u.Z)({component:h.m.div},(0,j.EU)().inUp),{},{spacing:2,direction:"row",alignItems:"center",sx:(0,u.Z)({my:1,py:1,px:1.5,borderRadius:1,border:function(e){return"solid 1px ".concat((0,t.Fq)(e.palette.grey[500],.16))}},i),children:[(0,d.jsx)(l.ZP,{file:e}),(0,d.jsx)(m.Z,{primary:b?e:x,secondary:b?"":(0,a.oe)(y),secondaryTypographyProps:{component:"span",typography:"caption"}}),o&&(0,d.jsx)(Z.Z,{size:"small",onClick:function(){return o(e)},children:(0,d.jsx)(g.Z,{icon:"mingcute:close-line",width:16})})]}),s)}))})}var y=r(9546),b=r(45987),v=r(80788),w=r(5849),C=r(3597),S=["disabled","multiple","error","helperText","file","onDelete","files","thumbnail","onUpload","onRemove","onRemoveAll","sx"];function D(e){var n=e.disabled,r=e.multiple,i=void 0!==r&&r,a=e.error,l=e.helperText,x=e.file,h=e.onDelete,m=e.files,j=e.thumbnail,D=e.onUpload,P=e.onRemove,k=e.onRemoveAll,R=e.sx,I=(0,b.Z)(e,S),O=(0,v.uI)((0,u.Z)({multiple:i,disabled:n},I)),F=O.getRootProps,A=O.getInputProps,T=O.isDragActive,M=O.isDragReject,B=O.fileRejections,U=!!x&&!i,W=!!m&&i&&!!m.length,N=M||!!a,L=(0,d.jsxs)(p.Z,{spacing:3,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[(0,d.jsx)(C.A2,{sx:{width:1,maxWidth:200}}),(0,d.jsxs)(p.Z,{spacing:1,sx:{textAlign:"center"},children:[(0,d.jsx)(s.Z,{variant:"h6",children:"Drop or Select file"}),(0,d.jsxs)(s.Z,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click",(0,d.jsx)(o.Z,{component:"span",sx:{mx:.5,color:"primary.main",textDecoration:"underline"},children:"browse"}),"thorough your machine"]})]})]}),q=(0,d.jsx)(y.Z,{imgUrl:"string"===typeof x?x:null===x||void 0===x?void 0:x.preview}),E=U&&h&&(0,d.jsx)(Z.Z,{size:"small",onClick:h,sx:{top:16,right:16,zIndex:9,position:"absolute",color:function(e){return(0,t.Fq)(e.palette.common.white,.8)},bgcolor:function(e){return(0,t.Fq)(e.palette.grey[900],.72)},"&:hover":{bgcolor:function(e){return(0,t.Fq)(e.palette.grey[900],.48)}}},children:(0,d.jsx)(g.Z,{icon:"mingcute:close-line",width:18})}),_=W&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Z,{sx:{my:3},children:(0,d.jsx)(f,{files:m,thumbnail:j,onRemove:P})}),(0,d.jsxs)(p.Z,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:[k&&(0,d.jsx)(w.Z,{color:"inherit",variant:"outlined",size:"small",onClick:k,children:"Remove All"}),D&&(0,d.jsx)(w.Z,{size:"small",variant:"contained",onClick:D,startIcon:(0,d.jsx)(g.Z,{icon:"eva:cloud-upload-fill"}),children:"Upload"})]})]});return(0,d.jsxs)(o.Z,{sx:(0,u.Z)({width:1,position:"relative"},R),children:[(0,d.jsxs)(o.Z,(0,u.Z)((0,u.Z)({},F()),{},{sx:(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:function(e){return(0,t.Fq)(e.palette.grey[500],.08)},border:function(e){return"1px dashed ".concat((0,t.Fq)(e.palette.grey[500],.2))},transition:function(e){return e.transitions.create(["opacity","padding"])},"&:hover":{opacity:.72}},T&&{opacity:.72}),n&&{opacity:.48,pointerEvents:"none"}),N&&{color:"error.main",borderColor:"error.main",bgcolor:function(e){return(0,t.Fq)(e.palette.error.main,.08)}}),U&&{padding:"24% 0"}),children:[(0,d.jsx)("input",(0,u.Z)({},A())),U?q:L]})),E,l&&l,(0,d.jsx)(c,{fileRejections:B}),_]})}var P=["placeholder","error","disabled","sx"];function k(e){var n=e.placeholder,r=e.error,i=e.disabled,s=e.sx,a=(0,b.Z)(e,P),l=(0,v.uI)((0,u.Z)({disabled:i},a)),c=l.getRootProps,x=l.getInputProps,h=l.isDragActive,p=l.isDragReject||r;return(0,d.jsxs)(o.Z,(0,u.Z)((0,u.Z)({},c()),{},{sx:(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({m:.5,width:64,height:64,flexShrink:0,display:"flex",borderRadius:1,cursor:"pointer",alignItems:"center",color:"text.disabled",justifyContent:"center",bgcolor:function(e){return(0,t.Fq)(e.palette.grey[500],.08)},border:function(e){return"dashed 1px ".concat((0,t.Fq)(e.palette.grey[500],.16))}},h&&{opacity:.72}),i&&{opacity:.48,pointerEvents:"none"}),p&&{color:"error.main",borderColor:"error.main",bgcolor:function(e){return(0,t.Fq)(e.palette.error.main,.08)}}),{},{"&:hover":{opacity:.72}},s),children:[(0,d.jsx)("input",(0,u.Z)({},x())),n||(0,d.jsx)(g.Z,{icon:"eva:cloud-upload-fill",width:28})]}))}var R=r(32471),I=["error","file","disabled","helperText","sx"];function O(e){var n=e.error,r=e.file,i=e.disabled,a=e.helperText,l=e.sx,x=(0,b.Z)(e,I),h=(0,v.uI)((0,u.Z)({multiple:!1,disabled:i,accept:{"image/*":[]}},x)),Z=h.getRootProps,m=h.getInputProps,j=h.isDragActive,f=h.isDragReject,y=h.fileRejections,w=!!r,C=f||!!n,S="string"===typeof r?r:null===r||void 0===r?void 0:r.preview,D=w&&(0,d.jsx)(R.Z,{alt:"avatar",src:S,sx:{width:1,height:1,borderRadius:"50%"}}),P=(0,d.jsxs)(p.Z,{alignItems:"center",justifyContent:"center",spacing:1,className:"upload-placeholder",sx:(0,u.Z)((0,u.Z)({top:0,left:0,width:1,height:1,zIndex:9,borderRadius:"50%",position:"absolute",color:"text.disabled",bgcolor:function(e){return(0,t.Fq)(e.palette.grey[500],.08)},transition:function(e){return e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},"&:hover":{opacity:.72}},C&&{color:"error.main",bgcolor:function(e){return(0,t.Fq)(e.palette.error.main,.08)}}),w&&{zIndex:9,opacity:0,color:"common.white",bgcolor:function(e){return(0,t.Fq)(e.palette.grey[900],.64)}}),children:[(0,d.jsx)(g.Z,{icon:"solar:camera-add-bold",width:32}),(0,d.jsx)(s.Z,{variant:"caption",children:r?"Update photo":"Upload photo"})]}),k=(0,d.jsxs)(o.Z,{sx:{width:1,height:1,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[D,P]});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.Z,(0,u.Z)((0,u.Z)({},Z()),{},{sx:(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({p:1,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:function(e){return"1px dashed ".concat((0,t.Fq)(e.palette.grey[500],.2))}},j&&{opacity:.72}),i&&{opacity:.48,pointerEvents:"none"}),C&&{borderColor:"error.main"}),w&&(0,u.Z)((0,u.Z)({},C&&{bgcolor:function(e){return(0,t.Fq)(e.palette.error.main,.08)}}),{},{"&:hover .upload-placeholder":{opacity:1}})),l),children:[(0,d.jsx)("input",(0,u.Z)({},m())),k]})),a&&a,(0,d.jsx)(c,{fileRejections:y})]})}},9546:function(e,n,r){r.d(n,{Z:function(){return s}});var t=r(64554),o=r(32471),i=r(80184);function s(e){var n=e.imgUrl,r=void 0===n?"":n;return(0,i.jsx)(t.Z,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:(0,i.jsx)(o.Z,{alt:"file preview",src:r,sx:{width:1,height:1,borderRadius:1}})})}},97289:function(e,n,r){r.d(n,{ZL:function(){return _e},HR:function(){return Te},Cd:function(){return me}});var t=r(4942),o=r(1413),i=r(74165),s=r(15861),a=r(29439),l=r(93433),d=r(72791),c=r(57621),u=r(79836),x=r(5849),h=r(20068),p=r(89164),Z=r(53382),m=r(13400),g=r(39281),j=r(38072),f=r(19208),y=r(57062),b=r(9145),v=r(22459),w=r(80160),C=r(40268),S=r(47974),D=r(3352),P=r(60720),k=r(50933),R=r(1382),I=r(64554),O=r(94721),F=r(82626),A=r(9195),T=r(68745),M=r(49900),B=r(52115),U=r(27938),W=r(36314),N=r(4567),L=r(5574),q=r(65661),E=r(97123),_=r(39157),z=r(2102),Q=r(16386),H=r(56890),G=r(80184);function V(e){var n=e.row,r=e.openDialogBox,t=e.setOpenDialogBox,o=e.setOpenAppointmentBox,i=n.dateOrdered,s=n.labOrderId,a=(n.appointmentDate,n.providerContact,n.patientContact,n.providerName,n.labItems),l=(new Date(i).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}),a.reduce((function(e,n){return e+n.cost}),0));return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(L.Z,{open:r,onClose:function(){return t(!1)},sx:{"& .MuiDialog-paper":{width:"50%",maxWidth:"none",maxHeight:"90vh"}},children:[(0,G.jsx)(q.Z,{align:"center",children:(0,G.jsx)(M.Z,{primary:s,secondary:"General Laboratory Request Form",primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsx)(_.Z,{children:(0,G.jsxs)(W.Z,{spacing:2,component:U.Z,variant:"outlined",sx:{p:2.5,minWidth:300,flexShrink:0,borderRadius:5,typography:"body1",borderStyle:"dashed"},children:[(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Patient Name"}),n.patientName]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Patient Phone Number"}),null===n||void 0===n?void 0:n.patientContact.phoneNumber]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Patient Email"}),null===n||void 0===n?void 0:n.patientContact.email]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Provider Name"}),n.providerName]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Provider Phone Number"}),null===n||void 0===n?void 0:n.providerContact.phoneNumber]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Provider Email"}),null===n||void 0===n?void 0:n.providerContact.email]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Appointment Date"}),(0,Q.Z)(new Date(i),"dd/MM/yyyy")]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Priority"}),n.priority]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Message"}),n.description]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Category and Test Type"}),(0,G.jsx)(g.Z,{sx:{border:"0.5px solid #bdbdbd",borderRadius:"10px"},children:(0,G.jsxs)(u.Z,{children:[(0,G.jsx)(H.Z,{children:(0,G.jsxs)(A.Z,{children:[(0,G.jsx)(T.Z,{children:"Category"})," ",(0,G.jsx)(T.Z,{children:"Test"}),(0,G.jsx)(T.Z,{children:"Price (GH\u20b5)"})]})}),(0,G.jsxs)(Z.Z,{children:[a.map((function(e,n){return(0,G.jsxs)(A.Z,{children:[(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(N.Z,{children:e.category})}),(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(N.Z,{sx:{color:"primary.main"},children:e.test})}),(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(N.Z,{sx:{color:"primary.main"},children:e.cost})})]},n)})),(0,G.jsxs)(A.Z,{children:[(0,G.jsx)(T.Z,{colSpan:2,children:(0,G.jsx)(N.Z,{variant:"h6",children:"Total Cost:"})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(N.Z,{variant:"h6",children:l})})]})]})]})})]})]})}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:function(){return o(!0)},variant:"outlined",color:"inherit",children:"pending"===n.status?"Schedule":"Reschedule"}),(0,G.jsx)(x.Z,{onClick:function(){return t(!1)},variant:"outlined",color:"inherit",children:"Cancel"})]})]})})}var K=r(48550),$=r(12258);function Y(e){var n=e.row,r=e.onDeleteRow,t=e.fetchAllOrders,c=e.setOpenAppointmentBox,u=e.openAppointmentBox,h=n.id,p=n.labOrderId,Z=n.labItems,m=(0,v.k)(),g=(0,d.useState)(""),j=(0,a.Z)(g,2),f=j[0],y=j[1],b=(0,d.useState)(""),w=(0,a.Z)(b,2),C=w[0],S=w[1],P=(0,d.useState)(""),k=(0,a.Z)(P,2),R=(k[0],k[1],(0,d.useState)(Z.map((function(e){return{listID:e._id,cost:e.cost||0}})))),I=(0,a.Z)(R,2),O=I[0],F=I[1],A=(0,d.useState)(!1),T=(0,a.Z)(A,2),M=T[0],B=T[1],U=function(){return c(!1)},W=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),n={appointmentDate:f,appointmentTime:f,labItems:O,labOrderId:p},e.prev=2,e.next=5,z.Z.patch("/medical-labs/facility/approve/".concat(h),n);case 5:e.sent&&t(),B(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),B(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(L.Z,{open:u,onClose:U,sx:{"& .MuiDialog-paper":{width:"40%",maxWidth:"none"}},children:[(0,G.jsx)(q.Z,{align:"center",children:"Set Appointment"}),(0,G.jsxs)(_.Z,{children:[(0,G.jsx)(N.Z,{sx:{mb:3},children:"Please fill the form below"}),(0,G.jsx)(K.Z,{autoFocus:!0,fullWidth:!0,type:"date",margin:"dense",variant:"outlined",value:f,onChange:function(e){return y(e.target.value)}}),(0,G.jsx)(K.Z,{autoFocus:!0,fullWidth:!0,type:"time",margin:"dense",variant:"outlined",value:C,onChange:function(e){return S(e.target.value)}}),Z.map((function(e,n){return(0,G.jsx)(K.Z,{fullWidth:!0,type:"number",margin:"dense",variant:"outlined",label:"Cost for ".concat(e.category," - ").concat(e.test," (GH\u20b5)"),value:0===O[n].cost?"":O[n].cost||"",onChange:function(e){return F((function(r){var t=(0,l.Z)(r);return t[n]=(0,o.Z)((0,o.Z)({},t[n]),{},{cost:parseFloat(e.target.value)||0}),t}))}},e._id)}))]}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:U,variant:"outlined",color:"inherit",children:"Cancel"}),(0,G.jsx)($.Z,{onClick:function(){return W()},variant:"contained",loading:M,children:"Book Appointment"})]})]}),(0,G.jsx)(D.Q,{open:m.value,onClose:m.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:r,children:"Delete"})})]})}var J=r(24233),X=r(58518);r(9546);function ee(e){var n=e.row,r=(e.onDeleteRow,e.fetchAllOrders,e.setOpenAppointmentBox,e.openAppointmentBox,e.openUploadBox),t=e.handleClose,o=e.currentTest._id,c=e.setCompletedTests,u=e.setDownloadURL,h=((0,v.k)(),(0,d.useState)("")),p=(0,a.Z)(h,2),Z=(p[0],p[1],n.labOrderId),m=(0,d.useState)([]),g=(0,a.Z)(m,2),j=g[0],f=g[1],y=(0,d.useState)(null),b=(0,a.Z)(y,2),w=(b[0],b[1]),C=(0,d.useState)(null),S=(0,a.Z)(C,2),D=(S[0],S[1]),P=(0,d.useState)(null),k=(0,a.Z)(P,2),R=(k[0],k[1],(0,d.useState)(!1)),I=(0,a.Z)(R,2),O=I[0],F=I[1],A=(0,v.k)(),T=((0,d.useCallback)((function(e){var n=e[0];n&&w(Object.assign(n,{preview:URL.createObjectURL(n)}))}),[]),(0,d.useCallback)((function(e){var n=e[0];n&&D(Object.assign(n,{preview:URL.createObjectURL(n)}))}),[]),(0,d.useCallback)((function(e){if(e.length>0&&0===j.length){var n=e[0];f([Object.assign(n,{preview:URL.createObjectURL(n)})])}}),[j]));console.log(j);var M=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,n=new FormData,r=j[0],n.append("image",r),u((function(e){return[].concat((0,l.Z)(e),[{_id:o,singleFile:r}])})),n.append("labOrderId",Z.trim()),console.log(n.get("image")),e.next=10,z.Z.patch("/medical-labs/facility/result/upload/".concat(o),n);case 10:s=e.sent,c((function(e){return[].concat((0,l.Z)(e),[o])})),t(),f([]),console.log(s),(0,X.yv)("Upload successful!"),F(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.error(e.t0),F(!1);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}();return console.log(j),(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(L.Z,{open:r,onClose:t,sx:{"& .MuiDialog-paper":{maxWidth:"500px"}},children:[(0,G.jsx)(q.Z,{align:"center",children:"Upload Results"}),(0,G.jsx)(_.Z,{children:(0,G.jsx)(J.gq,{multiple:!0,thumbnail:A.value,files:j,onDrop:T,onRemove:function(e){var n=j.filter((function(n){return n!==e}));f(n)},disabled:j.length>0})}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:t,variant:"outlined",color:"inherit",children:"Discard"}),(0,G.jsx)($.Z,{onClick:M,variant:"contained",loading:O,disabled:0===j.length,children:"Upload"})]})]})})}function ne(e){var n=e.row,r=e.onDeleteRow,t=(e.fetchAllOrders,e.handleClose),o=e.openUploadList,i=(n.id,n.labOrderId,n.labItems),s=(0,v.k)();console.log(n);var l=(0,d.useState)(!1),c=(0,a.Z)(l,2),u=c[0],h=c[1],p=(0,d.useState)({}),Z=(0,a.Z)(p,2),m=Z[0],g=Z[1],j=(0,d.useState)([]),f=(0,a.Z)(j,2),y=f[0],b=f[1],w=(0,d.useState)([]),C=(0,a.Z)(w,2),S=C[0],P=C[1],k=(0,d.useState)(!1),R=(0,a.Z)(k,2),I=R[0],O=R[1];return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(L.Z,{open:o,onClose:t,sx:{"& .MuiDialog-paper":{width:"500px",maxWidth:"none"},"@media (max-width: 500px )":{width:"100%"}},children:[(0,G.jsx)(q.Z,{align:"center",children:"Upload Lab Results"}),(0,G.jsxs)(_.Z,{children:[(0,G.jsxs)(W.Z,{direction:"row",justifyContent:"space-between",marginBottom:2,children:[(0,G.jsx)(x.Z,{variant:"outlined",color:"primary",onClick:function(){h(!0),O(!1)},disabled:!I,children:"Upload Single File"}),(0,G.jsx)(x.Z,{variant:"outlined",color:"primary",onClick:function(){return O(!0)},disabled:I,children:"Upload Individual Results"})]}),(0,G.jsx)(W.Z,{sx:{display:I?"flex":"none"},children:i.map((function(e){return(0,G.jsxs)(W.Z,{flexDirection:"row",sx:{margin:"25px 0"},children:[(0,G.jsx)(M.Z,{primary:e.category,secondary:e.test,primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}}),y.includes(e._id)?(0,G.jsx)(x.Z,{variant:"outlined",color:"primary",onClick:function(){return function(e){var n=S.find((function(n){return n._id===e}));n?window.open(n.singleFile.preview,"_blank"):console.error("File not found for lab item with id: ".concat(e))}(e._id)},children:"Preview"}):(0,G.jsx)(x.Z,{variant:"outlined",color:"primary",onClick:function(){h(!0),g(e)},children:"Upload Result"})]},e.id)}))})]})]}),(0,G.jsx)(D.Q,{open:s.value,onClose:s.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:r,children:"Delete"})}),(0,G.jsx)(ee,{row:n,currentTest:m,openUploadBox:u,handleClose:function(){return h(!1)},setCompletedTests:b,setDownloadURL:P})]})}function re(e){var n=e.row,r=e.selected,t=e.onViewRow,o=(e.onSelectRow,e.onDeleteRow),i=(e.fetchAllOrders,n.orderType,n.priority),s=n.status,c=n.patientName,u=(n.id,n.labItems),h=n.dateOrdered,p=(n.appointmentDate,n.labOrderId),Z=(0,v.k)(),g=(0,B.S)(),j=(0,d.useState)(!1),f=(0,a.Z)(j,2),y=f[0],b=f[1],S=(0,d.useState)(!1),P=(0,a.Z)(S,2),k=(P[0],P[1],(0,d.useState)(!1)),R=(0,a.Z)(k,2),U=(R[0],R[1]),W=(0,d.useState)(!1),N=(0,a.Z)(W,2),L=N[0],q=N[1],E=(0,d.useState)(!1),_=(0,a.Z)(E,2),z=_[0],H=_[1],K=(0,d.useState)(!1),$=(0,a.Z)(K,2);$[0],$[1];console.log(n);var J=(0,G.jsxs)(A.Z,{hover:!0,selected:r,children:[(0,G.jsx)(T.Z,{children:(0,G.jsx)(I.Z,{onClick:t,sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"".concat(p)})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(M.Z,{primary:c,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"}})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(M.Z,{primary:(0,Q.Z)(new Date(h),"dd/MM/yyyy"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsxs)(T.Z,{align:"center",children:[(0,l.Z)(new Set(u.map((function(e){return e.category})))).join(", ")," "]}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:("approved"===s?"success":"pending"===s&&"warning")||"default",children:s})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:("regular"===i?"success":"urgent"===i&&"warning")||"emergency"===i&&"error"||"default",children:i})}),(0,G.jsx)(T.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,G.jsx)(m.Z,{color:g.open?"inherit":"default",onClick:g.onOpen,children:(0,G.jsx)(C.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,G.jsxs)(G.Fragment,{children:[J,(0,G.jsxs)(B.Z,{open:g.open,onClose:g.onClose,arrow:"right-top",sx:{maxWidth:200},children:[(0,G.jsxs)(F.Z,{onClick:function(){b(!0),g.onClose()},children:[(0,G.jsx)(C.Z,{icon:"solar:eye-bold"}),"View"]}),(0,G.jsxs)(F.Z,{onClick:function(){q(!0),g.onClose()},children:[(0,G.jsx)(C.Z,{icon:"material-symbols-light:upload-sharp"}),"Upload Results"]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed"}}),(0,G.jsxs)(F.Z,{onClick:function(){alert("Cancel Order")},children:[(0,G.jsx)(C.Z,{icon:"flat-color-icons:cancel"}),"Cancel"]})]}),(0,G.jsx)(V,{row:n,openDialogBox:y,setOpenDialogBox:b,setOpenAppointmentBox:H}),(0,G.jsx)(Y,{openAppointmentBox:z,setOpenAppointmentBox:H,row:n}),(0,G.jsx)(ne,{openUploadList:L,handleClose:function(){return q(!1)},setOpenUploadBox:U,row:n}),(0,G.jsx)(D.Q,{open:Z.value,onClose:Z.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var te=r(53106),oe=r(63466);function ie(e){var n=e.filters,r=e.onFilters,t=e.canReset,o=e.onResetFilters,i=(0,B.S)(),s=(0,d.useCallback)((function(e){r("orderType",e.target.value)}),[r]),a=(0,d.useCallback)((function(e){r("startDate",e)}),[r]),l=(0,d.useCallback)((function(e){r("endDate",e)}),[r]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(W.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,G.jsx)(te.M,{label:"Start date",value:n.startDate,onChange:a,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,G.jsx)(te.M,{label:"End date",value:n.endDate,onChange:l,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,G.jsx)(K.Z,{fullWidth:!0,value:n.orderType,onChange:s,placeholder:"Search by order type...",InputProps:{startAdornment:(0,G.jsx)(oe.Z,{position:"start",children:(0,G.jsx)(C.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,G.jsx)(m.Z,{onClick:i.onOpen,children:(0,G.jsx)(C.Z,{icon:"eva:more-vertical-fill"})})]}),t&&(0,G.jsx)(x.Z,{color:"error",sx:{flexShrink:0},onClick:o,startIcon:(0,G.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]}),(0,G.jsxs)(B.Z,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:140},children:[(0,G.jsxs)(F.Z,{onClick:function(){i.onClose()},children:[(0,G.jsx)(C.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,G.jsxs)(F.Z,{onClick:function(){i.onClose()},children:[(0,G.jsx)(C.Z,{icon:"solar:export-bold"}),"Export"]})]})]})}var se=r(45987),ae=r(85771),le=r(25265),de=["filters","onFilters","onResetFilters","results"],ce=["label","children","sx"];function ue(e){var n=e.filters,r=e.onFilters,t=e.onResetFilters,i=e.results,s=(0,se.Z)(e,de),a=(0,le.l2)(n.startDate,n.endDate);return(0,G.jsxs)(W.Z,(0,o.Z)((0,o.Z)({spacing:1.5},s),{},{children:[(0,G.jsxs)(I.Z,{sx:{typography:"body2"},children:[(0,G.jsx)("strong",{children:i}),(0,G.jsx)(I.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,G.jsxs)(W.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:["all"!==n.status&&(0,G.jsx)(xe,{label:"Status:",children:(0,G.jsx)(ae.Z,{size:"small",label:n.status,onDelete:function(){r("status","all")}})}),n.startDate&&n.endDate&&(0,G.jsx)(xe,{label:"Date:",children:(0,G.jsx)(ae.Z,{size:"small",label:a,onDelete:function(){r("startDate",null),r("endDate",null)}})}),(0,G.jsx)(x.Z,{color:"error",onClick:t,startIcon:(0,G.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function xe(e){var n=e.label,r=e.children,t=e.sx,i=(0,se.Z)(e,ce);return(0,G.jsxs)(W.Z,(0,o.Z)((0,o.Z)({component:U.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,o.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},t)},i),{},{children:[(0,G.jsx)(I.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,G.jsx)(W.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:r})]}))}var he=r(8976),pe=([{value:"all",label:"All"}].concat((0,l.Z)(y.s8)),[{id:"orderNumber",label:"Appointment ID",width:110},{id:"name",label:"Patient",width:140},{id:"createdAt",label:"Date",width:120},{id:"totalQuantity",label:"Order Type",width:200,align:"center"},{id:"totalAmount",label:"Status",width:110},{id:"status",label:"Priority",width:110},{id:"",width:88}]),Ze={name:"",status:"all",startDate:null,endDate:null,orderType:"",labOrderId:""};function me(){var e=(0,R.x6)({defaultOrderBy:"orderNumber"}),n=(0,P.K$)(),r=(0,f.tv)(),l=(0,v.k)(),y=(0,d.useState)([]),w=(0,a.Z)(y,2),I=w[0],O=w[1],F=(0,d.useState)(Ze),A=(0,a.Z)(F,2),T=A[0],M=A[1],B=(0,he.E)().user,U=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.Z.get("/medical-labs/facility/approved/".concat(null===B||void 0===B?void 0:B.facilityID));case 3:n=e.sent,r=n.data,O(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();console.log(I),(0,d.useEffect)((function(){U()}),[]);var W=!(!T.startDate||!T.endDate)&&T.startDate.getTime()>T.endDate.getTime(),N=function(e){var n=e.inputData,r=e.comparator,t=e.filters,o=e.dateError,i=t.status,s=(t.name,t.startDate),a=t.endDate,l=t.orderType,d=(t.labOrderId,n.map((function(e,n){return[e,n]})));d.sort((function(e,n){var t=r(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),n=d.map((function(e){return e[0]})),l&&(n=n.filter((function(e){return-1!==e.orderType.toLowerCase().indexOf(l.toLowerCase())})));"all"!==i&&(n=n.filter((function(e){return e.status===i})));o||s&&a&&(n=n.filter((function(e){return(0,b.IO)(e.dateOrdered)>=(0,b.IO)(s)&&(0,b.IO)(e.dateOrdered)<=(0,b.IO)(a)})));return n}({inputData:I,comparator:(0,R.sQ)(e.order,e.orderBy),filters:T,dateError:W}),L=N.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),q=e.dense?52:72,E=!!T.name||"all"!==T.status||!!T.startDate&&!!T.endDate,_=!N.length&&E||!N.length,Q=(0,d.useCallback)((function(n,r){e.onResetPage(),M((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,t.Z)({},n,r))}))}),[e]),H=(0,d.useCallback)((function(n){var r=I.filter((function(e){return e.id!==n}));O(r),e.onUpdatePageDeleteRow(L.length)}),[L.length,e,I]),V=(0,d.useCallback)((function(){var n=I.filter((function(n){return!e.selected.includes(n.id)}));O(n),e.onUpdatePageDeleteRows({totalRows:I.length,totalRowsInPage:L.length,totalRowsFiltered:N.length})}),[N.length,L.length,e,I]),K=(0,d.useCallback)((function(){M(Ze)}),[]),$=(0,d.useCallback)((function(e){r.push(j.H.dashboard.order.details(e))}),[r]);(0,d.useCallback)((function(e,n){Q("status",n)}),[Q]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(p.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,G.jsx)(k.Z,{heading:"All Appointments",links:[{name:"Dashboard",href:j.H.dashboard.root},{name:"Appointments",href:j.H.dashboard.order.root},{name:"List"}],sx:{mb:{xs:3,md:5}}}),(0,G.jsxs)(c.Z,{children:[(0,G.jsx)(ie,{filters:T,onFilters:Q,canReset:E,onResetFilters:K}),E&&(0,G.jsx)(ue,{filters:T,onFilters:Q,onResetFilters:K,results:N.length,sx:{p:2.5,pt:0}}),(0,G.jsxs)(g.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,G.jsx)(R.Z4,{dense:e.dense,numSelected:e.selected.length,rowCount:I.length,onSelectAllRows:function(n){return e.onSelectAllRows(n,I.map((function(e){return e.id})))},action:(0,G.jsx)(h.Z,{title:"Delete",children:(0,G.jsx)(m.Z,{color:"primary",onClick:l.onTrue,children:(0,G.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"})})})}),(0,G.jsx)(S.Z,{children:(0,G.jsxs)(u.Z,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[(0,G.jsx)(R.K,{order:e.order,orderBy:e.orderBy,headLabel:pe,rowCount:I.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:function(n){return e.onSelectAllRows(n,I.map((function(e){return e.id})))}}),(0,G.jsxs)(Z.Z,{children:[N.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).sort((function(e,n){return new Date(n.dateOrdered)-new Date(e.dateOrdered)})).map((function(n){return(0,G.jsx)(re,{row:n,selected:e.selected.includes(n.id),onSelectRow:function(){return e.onSelectRow(n.id)},onDeleteRow:function(){return H(n.id)},onViewRow:function(){return $(n.id)},fetchAllOrders:U},n.id)})),(0,G.jsx)(R.$W,{height:q,emptyRows:(0,R.fQ)(e.page,e.rowsPerPage,I.length)}),(0,G.jsx)(R.et,{notFound:_})]})]})})]}),(0,G.jsx)(R.S_,{count:N.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,G.jsx)(D.Q,{open:l.value,onClose:l.onFalse,title:"Delete",content:(0,G.jsxs)(G.Fragment,{children:["Are you sure want to delete"," ",(0,G.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:function(){V(),l.onFalse()},children:"Delete"})})]})}var ge=r(24308),je=r(50533),fe=r(60220),ye=r(9585);function be(e){var n=e.customer,r=e.delivery,t=e.payment,o=e.shippingAddress,i=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(ye.Z,{title:"Customer Info",action:(0,G.jsx)(m.Z,{children:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"})})}),(0,G.jsxs)(W.Z,{direction:"row",sx:{p:3},children:[(0,G.jsx)(fe.Z,{alt:n.name,src:n.avatarUrl,sx:{width:48,height:48,mr:2}}),(0,G.jsxs)(W.Z,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[(0,G.jsx)(N.Z,{variant:"subtitle2",children:n.name}),(0,G.jsx)(I.Z,{sx:{color:"text.secondary"},children:n.email}),(0,G.jsxs)(I.Z,{children:["IP Address:",(0,G.jsx)(I.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:n.ipAddress})]}),(0,G.jsx)(x.Z,{size:"small",color:"error",startIcon:(0,G.jsx)(C.Z,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]}),s=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(ye.Z,{title:"Delivery",action:(0,G.jsx)(m.Z,{children:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"})})}),(0,G.jsxs)(W.Z,{spacing:1.5,sx:{p:3,typography:"body2"},children:[(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(I.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),r.shipBy]}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(I.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),r.speedy]}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(I.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),(0,G.jsx)(je.Z,{underline:"always",color:"inherit",children:r.trackingNumber})]})]})]}),a=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(ye.Z,{title:"Shipping",action:(0,G.jsx)(m.Z,{children:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"})})}),(0,G.jsxs)(W.Z,{spacing:1.5,sx:{p:3,typography:"body2"},children:[(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(I.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),o.fullAddress]}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(I.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),o.phoneNumber]})]})]}),l=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(ye.Z,{title:"Payment",action:(0,G.jsx)(m.Z,{children:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"})})}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",sx:{p:3,typography:"body2"},children:[(0,G.jsx)(I.Z,{component:"span",sx:{color:"text.secondary",flexGrow:1},children:"Phone number"}),t.cardNumber,(0,G.jsx)(C.Z,{icon:"logos:mastercard",width:24,sx:{ml:.5}})]})]});return(0,G.jsxs)(c.Z,{children:[i,(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed"}}),s,(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed"}}),a,(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed"}}),l]})}var ve=r(17070);function we(e){var n=e.items,r=e.shipping,t=e.discount,i=e.taxes,s=e.subTotal,a=e.totalAmount,l=(0,G.jsxs)(W.Z,{spacing:2,alignItems:"flex-end",sx:{my:3,textAlign:"right",typography:"body2"},children:[(0,G.jsxs)(W.Z,{direction:"row",children:[(0,G.jsx)(I.Z,{sx:{color:"text.secondary"},children:"Subtotal"}),(0,G.jsx)(I.Z,{sx:{width:160,typography:"subtitle2"},children:(0,ve.e_)(s)||"-"})]}),(0,G.jsxs)(W.Z,{direction:"row",children:[(0,G.jsx)(I.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,G.jsx)(I.Z,{sx:(0,o.Z)({width:160},r&&{color:"error.main"}),children:r?"- ".concat((0,ve.e_)(r)):"-"})]}),(0,G.jsxs)(W.Z,{direction:"row",children:[(0,G.jsx)(I.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,G.jsx)(I.Z,{sx:(0,o.Z)({width:160},t&&{color:"error.main"}),children:t?"- ".concat((0,ve.e_)(t)):"-"})]}),(0,G.jsxs)(W.Z,{direction:"row",children:[(0,G.jsx)(I.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,G.jsx)(I.Z,{sx:{width:160},children:i?(0,ve.e_)(i):"-"})]}),(0,G.jsxs)(W.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,G.jsx)(I.Z,{children:"Total"}),(0,G.jsx)(I.Z,{sx:{width:160},children:(0,ve.e_)(a)||"-"})]})]});return(0,G.jsxs)(c.Z,{children:[(0,G.jsx)(ye.Z,{title:"Details"}),(0,G.jsxs)(W.Z,{sx:{px:3},children:[(0,G.jsx)(S.Z,{children:n.map((function(e){return(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",sx:{py:3,minWidth:640,borderBottom:function(e){return"dashed 2px ".concat(e.palette.background.neutral)}},children:[(0,G.jsx)(fe.Z,{src:e.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),(0,G.jsx)(M.Z,{primary:e.name,secondary:e.sku,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),(0,G.jsxs)(I.Z,{sx:{typography:"body2"},children:["x",e.quantity]}),(0,G.jsx)(I.Z,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:(0,ve.e_)(e.price)})]},e.id)}))}),l]})]})}var Ce=r(83854);function Se(e){var n=e.status,r=e.backLink,t=e.createdAt,o=e.orderNumber,i=e.statusOptions,s=e.onChangeStatus,a=(0,B.S)();return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(W.Z,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[(0,G.jsxs)(W.Z,{spacing:1,direction:"row",alignItems:"flex-start",children:[(0,G.jsx)(m.Z,{component:Ce.r,href:r,children:(0,G.jsx)(C.Z,{icon:"eva:arrow-ios-back-fill"})}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsxs)(W.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,G.jsxs)(N.Z,{variant:"h4",children:[" Order ",o," "]}),(0,G.jsx)(w.Z,{variant:"soft",color:("completed"===n?"success":"pending"===n&&"warning")||"cancelled"===n&&"error"||"default",children:n})]}),(0,G.jsx)(N.Z,{variant:"body2",sx:{color:"text.disabled"},children:(0,b.zM)(t)})]})]}),(0,G.jsxs)(W.Z,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[(0,G.jsx)(x.Z,{color:"inherit",variant:"outlined",endIcon:(0,G.jsx)(C.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:a.onOpen,sx:{textTransform:"capitalize"},children:n}),(0,G.jsx)(x.Z,{color:"inherit",variant:"outlined",startIcon:(0,G.jsx)(C.Z,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),(0,G.jsx)(x.Z,{color:"inherit",variant:"contained",startIcon:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),(0,G.jsx)(B.Z,{open:a.open,onClose:a.onClose,arrow:"top-right",sx:{width:140},children:i.map((function(e){return(0,G.jsx)(F.Z,{selected:e.value===n,onClick:function(){a.onClose(),s(e.value)},children:e.label},e.value)}))})]})}var De=r(36562),Pe=r(35651),ke=r(27454),Re=r(28666),Ie=r(65552),Oe=r(21658),Fe=r(23454);function Ae(e){var n=e.history,r=(0,G.jsxs)(W.Z,{spacing:2,component:U.Z,variant:"outlined",sx:{p:2.5,minWidth:260,flexShrink:0,borderRadius:2,typography:"body2",borderStyle:"dashed"},children:[(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Order time"}),(0,b.zM)(n.orderTime)]}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Payment time"}),(0,b.zM)(n.orderTime)]}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Delivery time for the carrier"}),(0,b.zM)(n.orderTime)]}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Completion time"}),(0,b.zM)(n.orderTime)]})]}),o=(0,G.jsx)(De.Z,{sx:(0,t.Z)({p:0,m:0},"& .".concat(Oe.Z.root,":before"),{flex:0,padding:0}),children:n.timeline.map((function(e,r){var t=0===r,o=r===n.timeline.length-1;return(0,G.jsxs)(Fe.Z,{children:[(0,G.jsxs)(Re.Z,{children:[(0,G.jsx)(Pe.Z,{color:t?"primary":"grey"}),o?null:(0,G.jsx)(Ie.Z,{})]}),(0,G.jsxs)(ke.Z,{children:[(0,G.jsx)(N.Z,{variant:"subtitle2",children:e.title}),(0,G.jsx)(I.Z,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:(0,b.zM)(e.time)})]})]},e.title)}))});return(0,G.jsxs)(c.Z,{children:[(0,G.jsx)(ye.Z,{title:"History"}),(0,G.jsxs)(W.Z,{spacing:3,alignItems:{md:"flex-start"},direction:{xs:"column-reverse",md:"row"},sx:{p:3},children:[o,r]})]})}function Te(e){var n=e.id,r=(0,P.K$)(),t=y._Q.filter((function(e){return e.id===n}))[0],o=(0,d.useState)(t.status),i=(0,a.Z)(o,2),s=i[0],l=i[1],c=(0,d.useCallback)((function(e){l(e)}),[]);return(0,G.jsxs)(p.Z,{maxWidth:!r.themeStretch&&"lg",children:[(0,G.jsx)(Se,{backLink:j.H.dashboard.order.root,orderNumber:t.orderNumber,createdAt:t.createdAt,status:s,onChangeStatus:c,statusOptions:y.s8}),(0,G.jsxs)(ge.Z,{container:!0,spacing:3,children:[(0,G.jsx)(ge.Z,{xs:12,md:8,children:(0,G.jsxs)(W.Z,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:[(0,G.jsx)(we,{items:t.items,taxes:t.taxes,shipping:t.shipping,discount:t.discount,subTotal:t.subTotal,totalAmount:t.totalAmount}),(0,G.jsx)(Ae,{history:t.history})]})}),(0,G.jsx)(ge.Z,{xs:12,md:4,children:(0,G.jsx)(be,{customer:t.customer,delivery:t.delivery,payment:t.payment,shippingAddress:t.shippingAddress})})]})]})}var Me=r(12065),Be=r(61474),Ue=r(2101);function We(e){var n=e.row,r=e.openDialogBox,t=e.setOpenDialogBox,o=e.setOpenAppointmentBox,i=n.dateOrdered,s=n.labOrderId,a=(n.appointmentDate,n.providerContact,n.patientContact,n.providerName,n.labItems);new Date(i).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"});return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(L.Z,{open:r,onClose:function(){return t(!1)},sx:{"& .MuiDialog-paper":{width:"50%",maxWidth:"none",maxHeight:"90vh"}},children:[(0,G.jsx)(q.Z,{align:"center",children:(0,G.jsx)(M.Z,{primary:s,secondary:"General Laboratory Request Form",primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsx)(_.Z,{children:(0,G.jsxs)(W.Z,{spacing:2,component:U.Z,variant:"outlined",sx:{p:2.5,minWidth:300,flexShrink:0,borderRadius:5,typography:"body1",borderStyle:"dashed"},children:[(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Patient Name"}),n.patientName]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Patient Phone Number"}),null===n||void 0===n?void 0:n.patientContact.phoneNumber]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Patient Email"}),null===n||void 0===n?void 0:n.patientContact.email]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Provider Name"}),n.providerName]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Provider Phone Number"}),null===n||void 0===n?void 0:n.providerContact.phoneNumber]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Provider Email"}),null===n||void 0===n?void 0:n.providerContact.email]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Appointment Date"}),(0,Q.Z)(new Date(i),"dd/MM/yyyy")]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Priority"}),n.priority]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Message"}),n.description]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(I.Z,{sx:{color:"text.disabled"},children:"Category and Test Type"}),(0,G.jsx)(g.Z,{sx:{border:"0.5px solid #bdbdbd",borderRadius:"10px"},children:(0,G.jsxs)(u.Z,{children:[(0,G.jsx)(H.Z,{children:(0,G.jsxs)(A.Z,{children:[(0,G.jsx)(T.Z,{children:"Category"})," ",(0,G.jsx)(T.Z,{children:"Test"})]})}),(0,G.jsx)(Z.Z,{children:a.map((function(e,n){return(0,G.jsxs)(A.Z,{children:[(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(N.Z,{children:e.category})}),(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(N.Z,{sx:{color:"primary.main"},children:e.test})})]},n)}))})]})})]})]})}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:function(){return o(!0)},variant:"outlined",color:"inherit",children:"pending"===n.status?"Schedule":"Reschedule"}),(0,G.jsx)(x.Z,{onClick:function(){return t(!1)},variant:"outlined",color:"inherit",children:"Cancel"})]})]})})}function Ne(e){var n=e.row,r=e.selected,t=e.onViewRow,o=(e.onSelectRow,e.onDeleteRow),i=e.fetchAllOrders,s=(n.orderNo,n.doctor,n.reqDate,n.labItems),c=n.priority,u=(n.photo,n.status),h=(n.appointmentTime,n._id,n.providerID,n.userID,n.patientName),p=(n.facilityID,n.description,n.appointmentID,n.dateOrdered),Z=(n.result,n.feeAmount,n.paid,n.labOrderId),g=(0,v.k)(),j=(0,B.S)(),f=(0,d.useState)(!1),y=(0,a.Z)(f,2),b=y[0],S=y[1],P=(0,d.useState)(!1),k=(0,a.Z)(P,2),R=k[0],U=k[1],W=(0,l.Z)(new Set(s.map((function(e){return e.category})))),N=(0,G.jsxs)(A.Z,{hover:!0,selected:r,children:[(0,G.jsx)(T.Z,{children:(0,G.jsx)(I.Z,{onClick:t,sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"".concat(Z)})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(M.Z,{primary:h,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"},sx:{whiteSpace:"nowrap"}})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(M.Z,{primary:(0,Q.Z)(new Date(p),"dd/MM/yyyy"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsx)(T.Z,{align:"center",children:W.join(", ")}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:("approved"===u?"success":"pending"===u&&"warning")||"default",children:u})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:("regular"===c?"success":"urgent"===c&&"warning")||"emergency"===c&&"error"||"default",children:c})}),(0,G.jsx)(T.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,G.jsx)(m.Z,{color:j.open?"inherit":"default",onClick:j.onOpen,children:(0,G.jsx)(C.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,G.jsxs)(G.Fragment,{children:[N,(0,G.jsxs)(B.Z,{open:j.open,onClose:j.onClose,arrow:"right-top",sx:{width:160},children:[(0,G.jsxs)(F.Z,{onClick:function(){S(!0),j.onClose()},children:[(0,G.jsx)(C.Z,{icon:"solar:eye-bold"}),"View Order"]}),(0,G.jsx)(O.Z,{sx:{borderStyle:"dashed"}}),(0,G.jsxs)(F.Z,{onClick:function(){alert("Cancel Order")},children:[(0,G.jsx)(C.Z,{icon:"flat-color-icons:cancel"}),"Cancel Order"]})]}),(0,G.jsx)(We,{row:n,openDialogBox:b,setOpenDialogBox:S,setOpenAppointmentBox:U}),(0,G.jsx)(Y,{openAppointmentBox:R,setOpenAppointmentBox:U,row:n,fetchAllOrders:function(){return i()}}),(0,G.jsx)(D.Q,{open:g.value,onClose:g.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var Le=[{value:"all",label:"All"}].concat([{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"cancelled",label:"Cancelled"}]),qe=[{id:"orderNumber",label:"Order",width:120},{id:"name",label:"Patient",width:120},{id:"createdAt",label:"Requested Date (MM/DD/YYYY)",width:120},{id:"totalQuantity",label:"Order Type",width:200,align:"center"},{id:"totalAmount",label:"Status",width:110},{id:"status",label:"Priority",width:110},{id:"",width:88}],Ee={labOrderId:"",status:"all",startDate:null,endDate:null,orderType:""};function _e(){var e=(0,R.x6)({defaultOrderBy:"orderNo"}),n=(0,P.K$)(),r=(0,f.tv)(),l=(0,v.k)(),y=(0,d.useState)([]),I=(0,a.Z)(y,2),O=I[0],F=I[1],A=(0,d.useState)(Ee),T=(0,a.Z)(A,2),M=T[0],B=T[1],U=(0,he.E)().user,W=(0,d.useState)([]),N=(0,a.Z)(W,2),L=(N[0],N[1],function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.Z.get("/medical-labs/faclity/pending/".concat(null===U||void 0===U?void 0:U.facilityID));case 3:n=e.sent,r=n.data,F(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}());console.log(O),(0,d.useEffect)((function(){L()}),[]);var q=!(!M.startDate||!M.endDate)&&M.startDate.getTime()>M.endDate.getTime(),E=function(e){var n=e.inputData,r=e.comparator,t=e.filters,o=e.dateError,i=t.status,s=t.startDate,a=t.endDate,l=(t.labOrderId,t.orderType),d=n.map((function(e,n){return[e,n]}));d.sort((function(e,n){var t=r(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),n=d.map((function(e){return e[0]})),l&&(n=n.filter((function(e){return-1!==e.orderType.toLowerCase().indexOf(l.toLowerCase())})));"all"!==i&&(n=n.filter((function(e){return e.status===i})));o||s&&a&&(n=n.filter((function(e){return(0,b.IO)(e.createdAt)>=(0,b.IO)(s)&&(0,b.IO)(e.createdAt)<=(0,b.IO)(a)})));return n}({inputData:O,comparator:(0,R.sQ)(e.order,e.orderBy),filters:M,dateError:q}),_=E.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),Q=e.dense?52:72,H=!!M.name||"all"!==M.status||!!M.startDate&&!!M.endDate,V=!E.length&&H||!E.length,K=(0,d.useCallback)((function(n,r){e.onResetPage(),B((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,t.Z)({},n,r))}))}),[e]),$=(0,d.useCallback)((function(n){var r=O.filter((function(e){return e.id!==n}));F(r),e.onUpdatePageDeleteRow(_.length)}),[_.length,e,O]),Y=(0,d.useCallback)((function(){var n=O.filter((function(n){return!e.selected.includes(n.id)}));F(n),e.onUpdatePageDeleteRows({totalRows:O.length,totalRowsInPage:_.length,totalRowsFiltered:E.length})}),[E.length,_.length,e,O]),J=(0,d.useCallback)((function(){B(Ee)}),[]),X=(0,d.useCallback)((function(e){r.push(j.H.dashboard.order.details(e))}),[r]),ee=(0,d.useCallback)((function(e,n){K("status",n)}),[K]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(p.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,G.jsx)(k.Z,{heading:"All Orders",links:[{name:"Dashboard",href:j.H.dashboard.root},{name:"Orders",href:j.H.dashboard.order.root},{name:"List"}],sx:{mb:{xs:3,md:5}}}),(0,G.jsxs)(c.Z,{children:[(0,G.jsx)(Ue.Z,{value:M.status,onChange:ee,sx:{px:2.5,boxShadow:function(e){return"inset 0 -2px 0 0 ".concat((0,Me.Fq)(e.palette.grey[500],.08))}},children:Le.map((function(e){return(0,G.jsx)(Be.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,G.jsxs)(w.Z,{variant:"all"===e.value||e.value===M.status?"filled":"soft",color:("approved"===e.value?"success":"pending"===e.value&&"warning")||"cancelled"===e.value&&"error"||"default",children:["all"===e.value&&O.length,"approved"===e.value&&O.filter((function(e){return"approved"===e.status})).length,"pending"===e.value&&O.filter((function(e){return"pending"===e.status})).length,"cancelled"===e.value&&O.filter((function(e){return"cancelled"===e.status})).length]})},e.value)}))}),(0,G.jsx)(ie,{filters:M,onFilters:K,canReset:H,onResetFilters:J}),H&&(0,G.jsx)(ue,{filters:M,onFilters:K,onResetFilters:J,results:E.length,sx:{p:2.5,pt:0}}),(0,G.jsxs)(g.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,G.jsx)(R.Z4,{dense:e.dense,numSelected:e.selected.length,rowCount:O.length,onSelectAllRows:function(n){return e.onSelectAllRows(n,O.map((function(e){return e.id})))},action:(0,G.jsx)(h.Z,{title:"Delete",children:(0,G.jsx)(m.Z,{color:"primary",onClick:l.onTrue,children:(0,G.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"})})})}),(0,G.jsx)(S.Z,{children:(0,G.jsxs)(u.Z,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[(0,G.jsx)(R.K,{order:e.order,orderBy:e.orderBy,headLabel:qe,rowCount:O.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:function(n){return e.onSelectAllRows(n,O.map((function(e){return e.id})))}}),(0,G.jsxs)(Z.Z,{children:[E.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).sort((function(e,n){return new Date(n.dateOrdered)-new Date(e.dateOrdered)})).map((function(n){return(0,G.jsx)(Ne,{row:n,fetchAllOrders:L,selected:e.selected.includes(n.id),onSelectRow:function(){return e.onSelectRow(n.id)},onDeleteRow:function(){return $(n.id)},onViewRow:function(){return X(n.id)}},n.id)})),(0,G.jsx)(R.$W,{height:Q,emptyRows:(0,R.fQ)(e.page,e.rowsPerPage,O.length)}),(0,G.jsx)(R.et,{notFound:V})]})]})})]}),(0,G.jsx)(R.S_,{count:E.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,G.jsx)(D.Q,{open:l.value,onClose:l.onFalse,title:"Delete",content:(0,G.jsxs)(G.Fragment,{children:["Are you sure want to delete"," ",(0,G.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:function(){Y(),l.onFalse()},children:"Delete"})})]})}},17070:function(e,n,r){r.d(n,{FK:function(){return i},e_:function(){return s},f2:function(){return a},oe:function(){return d},v1:function(){return l}});var t=r(26098),o=r.n(t);function i(e){return o()(e).format()}function s(e){return c(e?o()(e).format("$0,0.00"):"",".00")}function a(e){return c(e?o()(Number(e)/100).format("0.0%"):"",".0")}function l(e){return c(e?o()(e).format("0.00a"):"",".00")}function d(e){return c(e?o()(e).format("0.0 b"):"",".0")}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".00";return e.includes(n)?e.replace(n,""):e}}}]);
//# sourceMappingURL=7289.0ae74fbd.chunk.js.map