"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[3889],{50933:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(1413),o=t(45987),i=t(64554),s=t(50533),a=t(36314),l=t(4567),c=t(93517),d=t(83854),u=t(80184);function x(e){var n=e.link,t=e.activeLast,o=e.disabled,a=n.name,l=n.href,c=n.icon,x=(0,r.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},o&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),p=(0,u.jsxs)(u.Fragment,{children:[c&&(0,u.jsx)(i.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:c}),a]});return l?(0,u.jsx)(s.Z,{component:d.r,href:l,sx:x,children:p}):(0,u.jsxs)(i.Z,{sx:x,children:[" ",p," "]})}var p=["links","action","heading","moreLink","activeLast","sx"];function h(e){var n=e.links,t=e.action,d=e.heading,h=e.moreLink,m=e.activeLast,g=e.sx,j=(0,o.Z)(e,p),f=n[n.length-1].name;return(0,u.jsxs)(i.Z,{sx:(0,r.Z)({},g),children:[(0,u.jsxs)(a.Z,{direction:"row",alignItems:"center",sx:{"@media (max-width: 475px)":{flexDirection:"column"}},children:[(0,u.jsxs)(i.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:d}),!!n.length&&(0,u.jsx)(c.Z,(0,r.Z)((0,r.Z)({separator:(0,u.jsx)(Z,{})},j),{},{children:n.map((function(e){return(0,u.jsx)(x,{link:e,activeLast:m,disabled:e.name===f},e.name||"")}))}))]}),t&&(0,u.jsxs)(i.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!h&&(0,u.jsx)(i.Z,{sx:{mt:2},children:h.map((function(e){return(0,u.jsx)(s.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function Z(){return(0,u.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},25265:function(e,n,t){t.d(n,{ZP:function(){return C},l2:function(){return a},wE:function(){return d}});var r=t(82599),o=t(54690),i=t(85375),s=t(9145);function a(e,n){var t=(new Date).getFullYear(),a=e?(0,r.Z)(e):null,l=n?(0,r.Z)(n):null,c=t===a&&t===l,d=!(!e||!n)&&(0,o.Z)(new Date(e),new Date(n)),u=!(!e||!n)&&(0,i.Z)(new Date(e),new Date(n));return c?u?d?(0,s.Mu)(n,"dd MMM yy"):"".concat((0,s.Mu)(e,"dd")," - ").concat((0,s.Mu)(n,"dd MMM yy")):"".concat((0,s.Mu)(e,"dd MMM")," - ").concat((0,s.Mu)(n,"dd MMM yy")):"".concat((0,s.Mu)(e,"dd MMM yy")," - ").concat((0,s.Mu)(n,"dd MMM yy"))}var l=t(29439),c=t(72791);function d(e,n){var t=(0,c.useState)(!1),r=(0,l.Z)(t,2),o=r[0],i=r[1],d=(0,c.useState)(n),u=(0,l.Z)(d,2),x=u[0],p=u[1],h=(0,c.useState)(e),Z=(0,l.Z)(h,2),m=Z[0],g=Z[1],j=!(!e||!n)&&new Date(e).getTime()>new Date(n).getTime(),f=(0,c.useCallback)((function(){i(!0)}),[]),y=(0,c.useCallback)((function(){i(!1)}),[]);return{startDate:m,endDate:x,onChangeStartDate:(0,c.useCallback)((function(e){g(e)}),[]),onChangeEndDate:(0,c.useCallback)((function(e){j&&p(null),p(e)}),[j]),open:o,onOpen:f,onClose:y,onReset:(0,c.useCallback)((function(){g(null),p(null)}),[]),selected:!!m&&!!x,error:j,label:"".concat((0,s.Mu)(m)," - ").concat((0,s.Mu)(x)),shortLabel:a(m,x),setStartDate:g,setEndDate:p}}var u=t(1413),x=t(53106),p=t(78521),h=t(27938),Z=t(36314),m=t(5849),g=t(5574),j=t(65661),f=t(97123),y=t(39157),b=t(30035),v=t(38887),w=t(80184);function C(e){var n=e.title,t=void 0===n?"Select date range":n,r=e.variant,o=void 0===r?"input":r,i=e.startDate,s=e.endDate,a=e.onChangeStartDate,l=e.onChangeEndDate,c=e.open,d=e.onClose,C=e.error,S=(0,v.F)("up","md"),D="calendar"===o;return(0,w.jsxs)(g.Z,{fullWidth:!0,maxWidth:!D&&"xs",open:c,onClose:d,PaperProps:{sx:(0,u.Z)({},D&&{maxWidth:720})},children:[(0,w.jsx)(j.Z,{sx:{pb:2},children:t}),(0,w.jsxs)(y.Z,{sx:(0,u.Z)({},D&&S&&{overflow:"unset"}),children:[(0,w.jsx)(Z.Z,{justifyContent:"center",spacing:D?3:2,direction:D&&S?"row":"column",sx:{pt:1},children:D?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(h.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(p.W,{value:i,onChange:a})}),(0,w.jsx)(h.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(p.W,{value:s,onChange:l})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x.M,{label:"Start date",value:i,onChange:a}),(0,w.jsx)(x.M,{label:"End date",value:s,onChange:l})]})}),C&&(0,w.jsx)(b.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,w.jsxs)(f.Z,{children:[(0,w.jsx)(m.Z,{variant:"outlined",color:"inherit",onClick:d,children:"Cancel"}),(0,w.jsx)(m.Z,{disabled:C,variant:"contained",onClick:d,children:"Apply"})]})]})}},11633:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(1413),o=t(45987),i=t(12065),s=t(64554),a=t(4567),l=t(36314),c=t(80184),d=["title","imgUrl","action","filled","description","sx"];function u(e){var n=e.title,t=e.imgUrl,u=e.action,x=e.filled,p=e.description,h=e.sx,Z=(0,o.Z)(e,d);return(0,c.jsxs)(l.Z,(0,r.Z)((0,r.Z)({flexGrow:1,alignItems:"center",justifyContent:"center",sx:(0,r.Z)((0,r.Z)({px:3,height:1},x&&{borderRadius:2,bgcolor:function(e){return(0,i.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat((0,i.Fq)(e.palette.grey[500],.08))}}),h)},Z),{},{children:[(0,c.jsx)(s.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,c.jsx)(a.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),p&&(0,c.jsx)(a.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:p}),u&&u]}))}},1382:function(e,n,t){function r(e,n,t){return e?Math.max(0,(1+e)*n-t):0}function o(e,n,t){return null===e[t]?1:null===n[t]||n[t]<e[t]?-1:n[t]>e[t]?1:0}function i(e,n){return"desc"===e?function(e,t){return o(e,t,n)}:function(e,t){return-o(e,t,n)}}t.d(n,{$W:function(){return y},K:function(){return S},et:function(){return Z},S_:function(){return M},Z4:function(){return O},hM:function(){return f},fQ:function(){return r},sQ:function(){return i},x6:function(){return c}});var s=t(93433),a=t(29439),l=t(72791);function c(e){var n=(0,l.useState)(!(null===e||void 0===e||!e.defaultDense)),t=(0,a.Z)(n,2),r=t[0],o=t[1],i=(0,l.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),c=(0,a.Z)(i,2),d=c[0],u=c[1],x=(0,l.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),p=(0,a.Z)(x,2),h=p[0],Z=p[1],m=(0,l.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||5),g=(0,a.Z)(m,2),j=g[0],f=g[1],y=(0,l.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),b=(0,a.Z)(y,2),v=b[0],w=b[1],C=(0,l.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),S=(0,a.Z)(C,2),D=S[0],k=S[1],P=(0,l.useCallback)((function(e){""!==e&&(w(h===e&&"asc"===v?"desc":"asc"),Z(e))}),[v,h]),R=(0,l.useCallback)((function(e){var n=D.includes(e)?D.filter((function(n){return n!==e})):[].concat((0,s.Z)(D),[e]);k(n)}),[D]),O=(0,l.useCallback)((function(e){u(0),f(parseInt(e.target.value,10))}),[]),F=(0,l.useCallback)((function(e){o(e.target.checked)}),[]),A=(0,l.useCallback)((function(e,n){k(e?n:[])}),[]),I=(0,l.useCallback)((function(e,n){u(n)}),[]),T=(0,l.useCallback)((function(){u(0)}),[]),M=(0,l.useCallback)((function(e){k([]),d&&e<2&&u(d-1)}),[d]),U=(0,l.useCallback)((function(e){var n=e.totalRows,t=e.totalRowsInPage,r=e.totalRowsFiltered,o=D.length;if(k([]),d)if(o===t)u(d-1);else if(o===r)u(0);else if(o>t){var i=Math.ceil((n-o)/j)-1;u(i)}}),[d,j,D.length]);return{dense:r,order:v,page:d,orderBy:h,rowsPerPage:j,selected:D,onSelectRow:R,onSelectAllRows:A,onSort:P,onChangePage:I,onChangeDense:F,onResetPage:T,onChangeRowsPerPage:O,onUpdatePageDeleteRow:M,onUpdatePageDeleteRows:U,setPage:u,setDense:o,setOrder:w,setOrderBy:Z,setSelected:k,setRowsPerPage:f}}var d=t(1413),u=t(9195),x=t(68745),p=t(11633),h=t(80184);function Z(e){var n=e.notFound,t=e.sx;return(0,h.jsx)(u.Z,{children:n?(0,h.jsx)(x.Z,{colSpan:12,children:(0,h.jsx)(p.Z,{filled:!0,title:"No Data",sx:(0,d.Z)({py:10},t)})}):(0,h.jsx)(x.Z,{colSpan:12,sx:{p:0}})})}var m=t(36459),g=t(36314),j=t(47047);function f(e){var n=Object.assign({},((0,m.Z)(e),e));return(0,h.jsx)(u.Z,(0,d.Z)((0,d.Z)({},n),{},{children:(0,h.jsx)(x.Z,{colSpan:12,children:(0,h.jsxs)(g.Z,{spacing:3,direction:"row",alignItems:"center",children:[(0,h.jsx)(j.Z,{sx:{borderRadius:1.5,width:48,height:48,flexShrink:0}}),(0,h.jsx)(j.Z,{sx:{width:1,height:12}}),(0,h.jsx)(j.Z,{sx:{width:180,height:12}}),(0,h.jsx)(j.Z,{sx:{width:160,height:12}}),(0,h.jsx)(j.Z,{sx:{width:140,height:12}}),(0,h.jsx)(j.Z,{sx:{width:120,height:12}})]})})}))}function y(e){var n=e.emptyRows,t=e.height;return n?(0,h.jsx)(u.Z,{sx:(0,d.Z)({},t&&{height:t*n}),children:(0,h.jsx)(x.Z,{colSpan:9})}):null}var b=t(64554),v=t(56890),w=t(80720),C={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function S(e){var n=e.order,t=e.orderBy,r=(e.rowCount,e.headLabel),o=(e.numSelected,e.onSort),i=(e.onSelectAllRows,e.sx);return(0,h.jsx)(v.Z,{sx:i,children:(0,h.jsx)(u.Z,{children:r.map((function(e){return(0,h.jsx)(x.Z,{align:e.align||"left",sortDirection:t===e.id&&n,sx:{width:e.width,minWidth:e.minWidth,background:function(e){return"light"===e.palette.mode?"#e8effb !important":""}},children:o?(0,h.jsxs)(w.Z,{hideSortIcon:!0,active:t===e.id,direction:t===e.id?n:"asc",onClick:function(){return o(e.id)},children:[e.label,t===e.id?(0,h.jsx)(b.Z,{sx:(0,d.Z)({},C),children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)}))})})}var D=t(45987),k=t(13034),P=t(4567),R=["dense","action","rowCount","numSelected","onSelectAllRows","sx"];function O(e){var n=e.dense,t=e.action,r=e.rowCount,o=e.numSelected,i=e.onSelectAllRows,s=e.sx,a=(0,D.Z)(e,R);return o?(0,h.jsxs)(g.Z,(0,d.Z)((0,d.Z)({direction:"row",alignItems:"center",sx:(0,d.Z)((0,d.Z)({pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter"},n&&{height:38}),s)},a),{},{children:[(0,h.jsx)(k.Z,{indeterminate:!!o&&o<r,checked:!!r&&o===r,onChange:function(e){return i(e.target.checked)}}),(0,h.jsxs)(P.Z,{variant:"subtitle2",sx:(0,d.Z)({ml:2,flexGrow:1,color:"primary.main"},n&&{ml:3}),children:[o," selected"]}),t&&t]})):null}var F=t(89891),A=t(25801),I=t(5446),T=["dense","onChangeDense","rowsPerPageOptions","sx"];function M(e){var n=e.dense,t=e.onChangeDense,r=e.rowsPerPageOptions,o=void 0===r?[5,10,25]:r,i=e.sx,s=(0,D.Z)(e,T);return(0,h.jsxs)(b.Z,{sx:(0,d.Z)({position:"relative"},i),children:[(0,h.jsx)(I.Z,(0,d.Z)((0,d.Z)({rowsPerPageOptions:o,component:"div"},s),{},{sx:{borderTopColor:"transparent"}})),t&&(0,h.jsx)(A.Z,{label:"Dense",control:(0,h.jsx)(F.Z,{checked:n,onChange:t}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},24233:function(e,n,t){t.d(n,{GV:function(){return f},gq:function(){return D},ab:function(){return F},un:function(){return P}});var r=t(12065),o=t(64554),i=t(27938),s=t(4567),a=t(17070),l=t(18197),c=t(80184);function d(e){var n=e.fileRejections;return n.length?(0,c.jsx)(i.Z,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:function(e){return(0,r.Fq)(e.palette.error.main,.08)}},children:n.map((function(e){var n=e.file,t=e.errors,r=(0,l.ht)(n),i=r.path,d=r.size;return(0,c.jsxs)(o.Z,{sx:{my:1},children:[(0,c.jsxs)(s.Z,{variant:"subtitle2",noWrap:!0,children:[i," - ",d?(0,a.oe)(d):""]}),t.map((function(e){return(0,c.jsxs)(o.Z,{component:"span",sx:{typography:"caption"},children:["- ",e.message]},e.code)}))]},i)}))}):null}var u=t(1413),x=t(83791),p=t(45358),h=t(36314),Z=t(13400),m=t(49900),g=t(40268),j=t(82486);function f(e){var n=e.thumbnail,t=e.files,o=e.onRemove,i=e.sx;return(0,c.jsx)(x.M,{initial:!1,children:null===t||void 0===t?void 0:t.map((function(e){var t=(0,l.ht)(e),s=t.key,d=t.name,x=void 0===d?"":d,f=t.size,y=void 0===f?0:f,b="string"===typeof e;return n?(0,c.jsxs)(h.Z,(0,u.Z)((0,u.Z)({component:p.m.div},(0,j.EU)().inUp),{},{alignItems:"center",display:"inline-flex",justifyContent:"center",sx:(0,u.Z)({m:.5,width:80,height:80,borderRadius:1.25,overflow:"hidden",position:"relative",border:function(e){return"solid 1px ".concat((0,r.Fq)(e.palette.grey[500],.16))}},i),children:[(0,c.jsx)(l.ZP,{tooltip:!0,imageView:!0,file:e,sx:{position:"absolute"},imgSx:{position:"absolute"}}),o&&(0,c.jsx)(Z.Z,{size:"small",onClick:function(){return o(e)},sx:{p:.5,top:4,right:4,position:"absolute",color:"common.white",bgcolor:function(e){return(0,r.Fq)(e.palette.grey[900],.48)},"&:hover":{bgcolor:function(e){return(0,r.Fq)(e.palette.grey[900],.72)}}},children:(0,c.jsx)(g.Z,{icon:"mingcute:close-line",width:14})})]}),s):(0,c.jsxs)(h.Z,(0,u.Z)((0,u.Z)({component:p.m.div},(0,j.EU)().inUp),{},{spacing:2,direction:"row",alignItems:"center",sx:(0,u.Z)({my:1,py:1,px:1.5,borderRadius:1,border:function(e){return"solid 1px ".concat((0,r.Fq)(e.palette.grey[500],.16))}},i),children:[(0,c.jsx)(l.ZP,{file:e}),(0,c.jsx)(m.Z,{primary:b?e:x,secondary:b?"":(0,a.oe)(y),secondaryTypographyProps:{component:"span",typography:"caption"}}),o&&(0,c.jsx)(Z.Z,{size:"small",onClick:function(){return o(e)},children:(0,c.jsx)(g.Z,{icon:"mingcute:close-line",width:16})})]}),s)}))})}var y=t(9546),b=t(45987),v=t(80788),w=t(5849),C=t(3597),S=["disabled","multiple","error","helperText","file","onDelete","files","thumbnail","onUpload","onRemove","onRemoveAll","sx"];function D(e){var n=e.disabled,t=e.multiple,i=void 0!==t&&t,a=e.error,l=e.helperText,x=e.file,p=e.onDelete,m=e.files,j=e.thumbnail,D=e.onUpload,k=e.onRemove,P=e.onRemoveAll,R=e.sx,O=(0,b.Z)(e,S),F=(0,v.uI)((0,u.Z)({multiple:i,disabled:n},O)),A=F.getRootProps,I=F.getInputProps,T=F.isDragActive,M=F.isDragReject,U=F.fileRejections,B=!!x&&!i,W=!!m&&i&&!!m.length,L=M||!!a,N=(0,c.jsxs)(h.Z,{spacing:3,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[(0,c.jsx)(C.A2,{sx:{width:1,maxWidth:200}}),(0,c.jsxs)(h.Z,{spacing:1,sx:{textAlign:"center"},children:[(0,c.jsx)(s.Z,{variant:"h6",children:"Drop or Select file"}),(0,c.jsxs)(s.Z,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click",(0,c.jsx)(o.Z,{component:"span",sx:{mx:.5,color:"primary.main",textDecoration:"underline"},children:"browse"}),"thorough your machine"]})]})]}),q=(0,c.jsx)(y.Z,{imgUrl:"string"===typeof x?x:null===x||void 0===x?void 0:x.preview}),E=B&&p&&(0,c.jsx)(Z.Z,{size:"small",onClick:p,sx:{top:16,right:16,zIndex:9,position:"absolute",color:function(e){return(0,r.Fq)(e.palette.common.white,.8)},bgcolor:function(e){return(0,r.Fq)(e.palette.grey[900],.72)},"&:hover":{bgcolor:function(e){return(0,r.Fq)(e.palette.grey[900],.48)}}},children:(0,c.jsx)(g.Z,{icon:"mingcute:close-line",width:18})}),_=W&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{sx:{my:3},children:(0,c.jsx)(f,{files:m,thumbnail:j,onRemove:k})}),(0,c.jsxs)(h.Z,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:[P&&(0,c.jsx)(w.Z,{color:"inherit",variant:"outlined",size:"small",onClick:P,children:"Remove All"}),D&&(0,c.jsx)(w.Z,{size:"small",variant:"contained",onClick:D,startIcon:(0,c.jsx)(g.Z,{icon:"eva:cloud-upload-fill"}),children:"Upload"})]})]});return(0,c.jsxs)(o.Z,{sx:(0,u.Z)({width:1,position:"relative"},R),children:[(0,c.jsxs)(o.Z,(0,u.Z)((0,u.Z)({},A()),{},{sx:(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:function(e){return(0,r.Fq)(e.palette.grey[500],.08)},border:function(e){return"1px dashed ".concat((0,r.Fq)(e.palette.grey[500],.2))},transition:function(e){return e.transitions.create(["opacity","padding"])},"&:hover":{opacity:.72}},T&&{opacity:.72}),n&&{opacity:.48,pointerEvents:"none"}),L&&{color:"error.main",borderColor:"error.main",bgcolor:function(e){return(0,r.Fq)(e.palette.error.main,.08)}}),B&&{padding:"24% 0"}),children:[(0,c.jsx)("input",(0,u.Z)({},I())),B?q:N]})),E,l&&l,(0,c.jsx)(d,{fileRejections:U}),_]})}var k=["placeholder","error","disabled","sx"];function P(e){var n=e.placeholder,t=e.error,i=e.disabled,s=e.sx,a=(0,b.Z)(e,k),l=(0,v.uI)((0,u.Z)({disabled:i},a)),d=l.getRootProps,x=l.getInputProps,p=l.isDragActive,h=l.isDragReject||t;return(0,c.jsxs)(o.Z,(0,u.Z)((0,u.Z)({},d()),{},{sx:(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({m:.5,width:64,height:64,flexShrink:0,display:"flex",borderRadius:1,cursor:"pointer",alignItems:"center",color:"text.disabled",justifyContent:"center",bgcolor:function(e){return(0,r.Fq)(e.palette.grey[500],.08)},border:function(e){return"dashed 1px ".concat((0,r.Fq)(e.palette.grey[500],.16))}},p&&{opacity:.72}),i&&{opacity:.48,pointerEvents:"none"}),h&&{color:"error.main",borderColor:"error.main",bgcolor:function(e){return(0,r.Fq)(e.palette.error.main,.08)}}),{},{"&:hover":{opacity:.72}},s),children:[(0,c.jsx)("input",(0,u.Z)({},x())),n||(0,c.jsx)(g.Z,{icon:"eva:cloud-upload-fill",width:28})]}))}var R=t(32471),O=["error","file","disabled","helperText","sx"];function F(e){var n=e.error,t=e.file,i=e.disabled,a=e.helperText,l=e.sx,x=(0,b.Z)(e,O),p=(0,v.uI)((0,u.Z)({multiple:!1,disabled:i,accept:{"image/*":[]}},x)),Z=p.getRootProps,m=p.getInputProps,j=p.isDragActive,f=p.isDragReject,y=p.fileRejections,w=!!t,C=f||!!n,S="string"===typeof t?t:null===t||void 0===t?void 0:t.preview,D=w&&(0,c.jsx)(R.Z,{alt:"avatar",src:S,sx:{width:1,height:1,borderRadius:"50%"}}),k=(0,c.jsxs)(h.Z,{alignItems:"center",justifyContent:"center",spacing:1,className:"upload-placeholder",sx:(0,u.Z)((0,u.Z)({top:0,left:0,width:1,height:1,zIndex:9,borderRadius:"50%",position:"absolute",color:"text.disabled",bgcolor:function(e){return(0,r.Fq)(e.palette.grey[500],.08)},transition:function(e){return e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},"&:hover":{opacity:.72}},C&&{color:"error.main",bgcolor:function(e){return(0,r.Fq)(e.palette.error.main,.08)}}),w&&{zIndex:9,opacity:0,color:"common.white",bgcolor:function(e){return(0,r.Fq)(e.palette.grey[900],.64)}}),children:[(0,c.jsx)(g.Z,{icon:"solar:camera-add-bold",width:32}),(0,c.jsx)(s.Z,{variant:"caption",children:t?"Update photo":"Upload photo"})]}),P=(0,c.jsxs)(o.Z,{sx:{width:1,height:1,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[D,k]});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o.Z,(0,u.Z)((0,u.Z)({},Z()),{},{sx:(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({p:1,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:function(e){return"1px dashed ".concat((0,r.Fq)(e.palette.grey[500],.2))}},j&&{opacity:.72}),i&&{opacity:.48,pointerEvents:"none"}),C&&{borderColor:"error.main"}),w&&(0,u.Z)((0,u.Z)({},C&&{bgcolor:function(e){return(0,r.Fq)(e.palette.error.main,.08)}}),{},{"&:hover .upload-placeholder":{opacity:1}})),l),children:[(0,c.jsx)("input",(0,u.Z)({},m())),P]})),a&&a,(0,c.jsx)(d,{fileRejections:y})]})}},9546:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(64554),o=t(32471),i=t(80184);function s(e){var n=e.imgUrl,t=void 0===n?"":n;return(0,i.jsx)(r.Z,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:(0,i.jsx)(o.Z,{alt:"file preview",src:t,sx:{width:1,height:1,borderRadius:1}})})}},93889:function(e,n,t){t.d(n,{ZL:function(){return ze},HR:function(){return Me},Cd:function(){return ge}});var r=t(4942),o=t(1413),i=t(74165),s=t(15861),a=t(29439),l=t(93433),c=t(72791),d=t(57621),u=t(79836),x=t(5849),p=t(20068),h=t(89164),Z=t(53382),m=t(13400),g=t(39281),j=t(38072),f=t(19208),y=t(57062),b=t(9145),v=t(22459),w=t(80160),C=t(40268),S=t(47974),D=t(3352),k=t(60720),P=t(50933),R=t(1382),O=t(64554),F=t(94721),A=t(82626),I=t(9195),T=t(68745),M=t(49900),U=t(52115),B=t(27938),W=t(36314),L=t(4567),N=t(5574),q=t(65661),E=t(97123),_=t(39157),z=t(2102),Q=t(16386),H=t(56890),G=t(80184);function V(e){var n=e.row,t=e.openDialogBox,r=e.setOpenDialogBox,o=e.setOpenAppointmentBox,i=n.dateOrdered,s=n.labOrderId,a=(n.appointmentDate,n.providerContact,n.patientContact,n.providerName,n.labItems),l=(new Date(i).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}),a.reduce((function(e,n){return e+Number(n.cost)}),0));return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(N.Z,{open:t,onClose:function(){return r(!1)},sx:{"& .MuiDialog-paper":{width:"50%",maxWidth:"none",maxHeight:"90vh"}},children:[(0,G.jsx)(q.Z,{align:"center",children:(0,G.jsx)(M.Z,{primary:s,secondary:"General Laboratory Request Form",primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsx)(_.Z,{children:(0,G.jsxs)(W.Z,{spacing:2,component:B.Z,variant:"outlined",sx:{p:2.5,minWidth:300,flexShrink:0,borderRadius:5,typography:"body1",borderStyle:"dashed"},children:[(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Patient Name"}),n.patientName]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Patient Phone Number"}),null===n||void 0===n?void 0:n.patientContact.phoneNumber]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Patient Email"}),null===n||void 0===n?void 0:n.patientContact.email]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Provider Name"}),n.providerName]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Provider Phone Number"}),null===n||void 0===n?void 0:n.providerContact.phoneNumber]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Provider Email"}),null===n||void 0===n?void 0:n.providerContact.email]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Appointment Date"}),(0,Q.Z)(new Date(i),"dd/MM/yyyy")]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Priority"}),n.priority]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Message"}),n.description]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Category and Test Type"}),(0,G.jsx)(g.Z,{sx:{border:"0.5px solid #bdbdbd",borderRadius:"10px"},children:(0,G.jsxs)(u.Z,{children:[(0,G.jsx)(H.Z,{children:(0,G.jsxs)(I.Z,{children:[(0,G.jsx)(T.Z,{children:"Category"})," ",(0,G.jsx)(T.Z,{children:"Test"}),(0,G.jsx)(T.Z,{children:"Price (GH\u20b5)"})]})}),(0,G.jsxs)(Z.Z,{children:[a.map((function(e,n){return(0,G.jsxs)(I.Z,{children:[(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(L.Z,{children:e.category})}),(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(L.Z,{sx:{color:"primary.main"},children:e.test})}),(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(L.Z,{sx:{color:"primary.main"},children:e.cost})})]},n)})),(0,G.jsxs)(I.Z,{children:[(0,G.jsx)(T.Z,{colSpan:2,children:(0,G.jsx)(L.Z,{variant:"h6",children:"Total Cost:"})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(L.Z,{variant:"h6",children:Number(l)})})]})]})]})})]})]})}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:function(){return o(!0)},variant:"outlined",color:"inherit",children:"pending"===n.status?"Schedule":"Reschedule"}),(0,G.jsx)(x.Z,{onClick:function(){return r(!1)},variant:"outlined",color:"inherit",children:"Cancel"})]})]})})}var K=t(48550),$=t(12258);function Y(e){var n=e.row,t=e.onDeleteRow,r=e.fetchAllOrders,d=e.setOpenAppointmentBox,u=e.openAppointmentBox,p=n.id,h=n.labOrderId,Z=n.labItems,m=(0,v.k)(),g=(0,c.useState)(""),j=(0,a.Z)(g,2),f=j[0],y=j[1],b=(0,c.useState)(""),w=(0,a.Z)(b,2),C=w[0],S=w[1],k=(0,c.useState)(""),P=(0,a.Z)(k,2),R=(P[0],P[1],(0,c.useState)("")),O=(0,a.Z)(R,2),F=O[0],A=O[1],I=(0,c.useState)(Z.map((function(e){return{listID:e._id,cost:e.cost||0}}))),T=(0,a.Z)(I,2),M=T[0],U=T[1];(0,c.useEffect)((function(){A(M.reduce((function(e,n){return e+n.cost}),0))}),[M]),console.log(F),console.log(M);var B=(0,c.useState)(!1),W=(0,a.Z)(B,2),Q=W[0],H=W[1],V=function(){return d(!1)},Y=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),n={appointmentDate:f,appointmentTime:f,labItems:M,labOrderId:h,feeAmount:F},console.log(n),e.prev=3,e.next=6,z.Z.patch("/medical-labs/facility/approve/".concat(p),n);case 6:e.sent&&r(),H(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),H(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(N.Z,{open:u,onClose:V,sx:{"& .MuiDialog-paper":{width:"40%",maxWidth:"none"}},children:[(0,G.jsx)(q.Z,{align:"center",children:"Set Appointment"}),(0,G.jsxs)(_.Z,{children:[(0,G.jsx)(L.Z,{sx:{mb:3},children:"Please fill the form below"}),(0,G.jsx)(K.Z,{autoFocus:!0,fullWidth:!0,type:"date",margin:"dense",variant:"outlined",value:f,onChange:function(e){return y(e.target.value)}}),(0,G.jsx)(K.Z,{autoFocus:!0,fullWidth:!0,type:"time",margin:"dense",variant:"outlined",value:C,onChange:function(e){return S(e.target.value)}}),Z.map((function(e,n){return(0,G.jsx)(K.Z,{fullWidth:!0,type:"number",margin:"dense",variant:"outlined",label:"Cost for ".concat(e.category," - ").concat(e.test," (GH\u20b5)"),value:0===M[n].cost?"":M[n].cost||"",onChange:function(e){return U((function(t){var r=(0,l.Z)(t);return r[n]=(0,o.Z)((0,o.Z)({},r[n]),{},{cost:parseFloat(e.target.value)||0}),r}))}},e._id)}))]}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:V,variant:"outlined",color:"inherit",children:"Cancel"}),(0,G.jsx)($.Z,{onClick:function(){return Y()},variant:"contained",loading:Q,children:"Book Appointment"})]})]}),(0,G.jsx)(D.Q,{open:m.value,onClose:m.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:t,children:"Delete"})})]})}var J=t(24233),X=t(58518);t(9546);function ee(e){var n=e.row,t=(e.onDeleteRow,e.fetchAllOrders,e.setOpenAppointmentBox,e.openAppointmentBox,e.openUploadBox),r=e.handleClose,o=e.currentTest,d=e.setCompletedTests,u=e.setDownloadURL,p=((0,v.k)(),(0,c.useState)("")),h=(0,a.Z)(p,2),Z=(h[0],h[1],n.labOrderId),m=o._id;console.log(o);var g=(0,c.useState)([]),j=(0,a.Z)(g,2),f=j[0],y=j[1],b=(0,c.useState)(null),w=(0,a.Z)(b,2),C=(w[0],w[1]),S=(0,c.useState)(null),D=(0,a.Z)(S,2),k=(D[0],D[1]),P=(0,c.useState)(null),R=(0,a.Z)(P,2),O=(R[0],R[1],(0,c.useState)(!1)),F=(0,a.Z)(O,2),A=F[0],I=F[1],T=(0,v.k)(),M=((0,c.useCallback)((function(e){var n=e[0];n&&C(Object.assign(n,{preview:URL.createObjectURL(n)}))}),[]),(0,c.useCallback)((function(e){var n=e[0];n&&k(Object.assign(n,{preview:URL.createObjectURL(n)}))}),[]),(0,c.useCallback)((function(e){if(e.length>0&&0===f.length){var n=e[0];y([Object.assign(n,{preview:URL.createObjectURL(n)})])}}),[f]));console.log(n);var U=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,n=new FormData,t=f[0],n.append("image",t),u((function(e){return[].concat((0,l.Z)(e),[{_id:m,singleFile:t}])})),n.append("labOrderId",Z.trim()),n.append("orderType","laboratory"),e.next=10,z.Z.patch("/medical-labs/facility/result/upload/".concat(m),n);case 10:e.sent,d((function(e){return[].concat((0,l.Z)(e),[m])})),r(),y([]),(0,X.yv)("Upload successful!"),I(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error(e.t0),I(!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(N.Z,{open:t,onClose:r,sx:{"& .MuiDialog-paper":{maxWidth:"500px"}},children:[(0,G.jsx)(q.Z,{align:"center",children:"Upload Results"}),(0,G.jsx)(_.Z,{children:(0,G.jsx)(J.gq,{multiple:!0,thumbnail:T.value,files:f,onDrop:M,onRemove:function(e){var n=f.filter((function(n){return n!==e}));y(n)},disabled:f.length>0})}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:r,variant:"outlined",color:"inherit",children:"Discard"}),(0,G.jsx)($.Z,{onClick:U,variant:"contained",loading:A,disabled:0===f.length,children:"Upload"})]})]})})}function ne(e){var n=e.row,t=(e.onDeleteRow,e.fetchAllOrders,e.setOpenAppointmentBox,e.openAppointmentBox,e.openUploadBox),r=e.handleClose,o=e.currentTest,d=e.setCompletedTests,u=e.setDownloadURL,p=((0,v.k)(),(0,c.useState)("")),h=(0,a.Z)(p,2),Z=h[0],m=h[1],g=(0,c.useState)(""),j=(0,a.Z)(g,2),f=j[0],y=j[1],b=(0,c.useState)(""),w=(0,a.Z)(b,2),C=w[0],S=w[1],D=n.labOrderId,k=o._id;console.log(n);var P=(0,c.useState)([]),R=(0,a.Z)(P,2),O=R[0],F=R[1],A=(0,c.useState)(null),I=(0,a.Z)(A,2),T=(I[0],I[1]),M=(0,c.useState)(null),U=(0,a.Z)(M,2),B=(U[0],U[1]),W=(0,c.useState)(null),L=(0,a.Z)(W,2),Q=(L[0],L[1],(0,c.useState)(!1)),H=(0,a.Z)(Q,2),V=H[0],Y=H[1],ee=(0,v.k)(),ne=((0,c.useCallback)((function(e){var n=e[0];n&&T(Object.assign(n,{preview:URL.createObjectURL(n)}))}),[]),(0,c.useCallback)((function(e){var n=e[0];n&&B(Object.assign(n,{preview:URL.createObjectURL(n)}))}),[]),(0,c.useCallback)((function(e){if(e.length>0&&0===O.length){var n=e[0];F([Object.assign(n,{preview:URL.createObjectURL(n)})])}}),[O]));console.log(n);var te=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.prev=1,t=new FormData,o=O[0],t.append("image",o),u((function(e){return[].concat((0,l.Z)(e),[{_id:k,singleFile:o}])})),t.append("labOrderId",D.trim()),t.append("orderType","laboratory"),t.append("category",f),t.append("test",C),t.append("description",Z),e.next=13,z.Z.patch("/medical-labs/facility/result/upload-v2/".concat(null===n||void 0===n?void 0:n.id),t);case 13:e.sent,d((function(e){return[].concat((0,l.Z)(e),[k])})),r(),F([]),(0,X.yv)("Upload successful!"),Y(!1),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0),Y(!1);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}();return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(N.Z,{open:t,onClose:r,sx:{"& .MuiDialog-paper":{maxWidth:"500px"}},children:[(0,G.jsx)(q.Z,{align:"center",children:"Upload Results"}),(0,G.jsxs)(_.Z,{children:[(0,G.jsx)(J.gq,{multiple:!0,thumbnail:ee.value,files:O,onDrop:ne,onRemove:function(e){var n=O.filter((function(n){return n!==e}));F(n)},disabled:O.length>0}),(0,G.jsx)(K.Z,{autoFocus:!0,fullWidth:!0,type:"text",margin:"dense",variant:"outlined",label:"Category",value:f,onChange:function(e){return y(e.target.value)},sx:{mt:"15px"}}),(0,G.jsx)(K.Z,{autoFocus:!0,fullWidth:!0,type:"text",margin:"dense",variant:"outlined",label:"Test",value:C,onChange:function(e){return S(e.target.value)},sx:{mt:"15px"}}),(0,G.jsx)(K.Z,{autoFocus:!0,fullWidth:!0,type:"text",margin:"dense",variant:"outlined",label:"Description",multiline:!0,minRows:3,value:Z,onChange:function(e){return m(e.target.value)},sx:{mt:"15px"}})]}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:r,variant:"outlined",color:"inherit",children:"Discard"}),(0,G.jsx)($.Z,{onClick:te,variant:"contained",loading:V,disabled:0===O.length,children:"Upload"})]})]})})}function te(e){var n=e.row,t=e.onDeleteRow,r=(e.fetchAllOrders,e.handleClose),o=e.openUploadList,i=(n.id,n.labOrderId,n.labItems),s=(0,v.k)(),l=(0,c.useState)(!1),d=(0,a.Z)(l,2),u=d[0],p=d[1],h=(0,c.useState)(!1),Z=(0,a.Z)(h,2),m=Z[0],g=Z[1],j=(0,c.useState)({}),f=(0,a.Z)(j,2),y=f[0],b=f[1],w=(0,c.useState)([]),C=(0,a.Z)(w,2),S=C[0],k=C[1],P=(0,c.useState)([]),R=(0,a.Z)(P,2),O=R[0],F=R[1],A=(0,c.useState)(!1),I=(0,a.Z)(A,2),T=I[0],U=I[1];return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(N.Z,{open:o,onClose:r,sx:{"& .MuiDialog-paper":{width:"500px",maxWidth:"none"},"@media (max-width: 500px )":{width:"100%"}},children:[(0,G.jsx)(q.Z,{align:"center",children:"Upload Lab Results"}),(0,G.jsxs)(_.Z,{children:[(0,G.jsxs)(W.Z,{direction:"row",justifyContent:"space-between",marginBottom:2,children:[(0,G.jsx)(x.Z,{variant:"outlined",color:"primary",onClick:function(){g(!0),U(!1),b(i[0])},disabled:!T,children:"Upload Single File"}),(0,G.jsx)(x.Z,{variant:"outlined",color:"primary",onClick:function(){return U(!0)},disabled:T,children:"Upload Individual Results"})]}),(0,G.jsx)(W.Z,{sx:{display:T?"flex":"none"},children:i.map((function(e){return(0,G.jsxs)(W.Z,{flexDirection:"row",sx:{margin:"25px 0"},children:[(0,G.jsx)(M.Z,{primary:e.category,secondary:e.test,primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}}),S.includes(e._id)?(0,G.jsx)(x.Z,{variant:"outlined",color:"primary",onClick:function(){return function(e){var n=O.find((function(n){return n._id===e}));n?window.open(n.singleFile.preview,"_blank"):console.error("File not found for lab item with id: ".concat(e))}(e._id)},children:"Preview"}):(0,G.jsx)(x.Z,{variant:"outlined",color:"primary",onClick:function(){b(e),p(!0)},children:"Upload Result"})]},e.id)}))})]})]}),(0,G.jsx)(D.Q,{open:s.value,onClose:s.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:t,children:"Delete"})}),(0,G.jsx)(ee,{row:n,currentTest:y,openUploadBox:u,handleClose:function(){return p(!1)},setCompletedTests:k,setDownloadURL:F}),(0,G.jsx)(ne,{row:n,currentTest:y,openUploadBox:m,handleClose:function(){return p(!1)},setCompletedTests:k,setDownloadURL:F})]})}function re(e){var n=e.row,t=e.selected,r=e.onViewRow,o=(e.onSelectRow,e.onDeleteRow),i=(e.fetchAllOrders,n.orderType,n.priority),s=n.status,d=n.patientName,u=(n.id,n.labItems),p=n.dateOrdered,h=(n.appointmentDate,n.paid),Z=n.labOrderId,g=(0,v.k)(),j=(0,U.S)(),f=(0,c.useState)(!1),y=(0,a.Z)(f,2),b=y[0],S=y[1],k=(0,c.useState)(!1),P=(0,a.Z)(k,2),R=(P[0],P[1],(0,c.useState)(!1)),B=(0,a.Z)(R,2),W=(B[0],B[1]),L=(0,c.useState)(!1),N=(0,a.Z)(L,2),q=N[0],E=N[1],_=(0,c.useState)(!1),z=(0,a.Z)(_,2),H=z[0],K=z[1],$=(0,c.useState)(!1),J=(0,a.Z)($,2);J[0],J[1];console.log(n);var X=(0,G.jsxs)(I.Z,{hover:!0,selected:t,children:[(0,G.jsx)(T.Z,{children:(0,G.jsx)(O.Z,{onClick:r,sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"".concat(Z)})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(M.Z,{primary:d,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"}})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(M.Z,{primary:(0,Q.Z)(new Date(p),"dd/MM/yyyy"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsxs)(T.Z,{align:"center",children:[(0,l.Z)(new Set(u.map((function(e){return e.category})))).join(", ")," "]}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:("approved"===s?"success":"pending"===s&&"warning")||"default",children:s})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:h?"success":"error",children:h?"Paid":"Pending"})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:("regular"===i?"success":"urgent"===i&&"warning")||"emergency"===i&&"error"||"default",children:i})}),(0,G.jsx)(T.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,G.jsx)(m.Z,{color:j.open?"inherit":"default",onClick:j.onOpen,children:(0,G.jsx)(C.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,G.jsxs)(G.Fragment,{children:[X,(0,G.jsxs)(U.Z,{open:j.open,onClose:j.onClose,arrow:"right-top",sx:{maxWidth:200},children:[(0,G.jsxs)(A.Z,{onClick:function(){S(!0),j.onClose()},children:[(0,G.jsx)(C.Z,{icon:"solar:eye-bold"}),"View"]}),(0,G.jsxs)(A.Z,{onClick:function(){E(!0),j.onClose()},children:[(0,G.jsx)(C.Z,{icon:"material-symbols-light:upload-sharp"}),"Upload Results"]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed"}}),(0,G.jsxs)(A.Z,{onClick:function(){alert("Cancel Order")},children:[(0,G.jsx)(C.Z,{icon:"flat-color-icons:cancel"}),"Cancel"]})]}),(0,G.jsx)(V,{row:n,openDialogBox:b,setOpenDialogBox:S,setOpenAppointmentBox:K}),(0,G.jsx)(Y,{openAppointmentBox:H,setOpenAppointmentBox:K,row:n}),(0,G.jsx)(te,{openUploadList:q,handleClose:function(){return E(!1)},setOpenUploadBox:W,row:n}),(0,G.jsx)(D.Q,{open:g.value,onClose:g.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var oe=t(53106),ie=t(63466);function se(e){var n=e.filters,t=e.onFilters,r=e.canReset,o=e.onResetFilters,i=(0,U.S)(),s=(0,c.useCallback)((function(e){t("orderType",e.target.value)}),[t]),a=(0,c.useCallback)((function(e){t("startDate",e)}),[t]),l=(0,c.useCallback)((function(e){t("endDate",e)}),[t]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(W.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,G.jsx)(oe.M,{label:"Start date",value:n.startDate,onChange:a,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,G.jsx)(oe.M,{label:"End date",value:n.endDate,onChange:l,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,G.jsx)(K.Z,{fullWidth:!0,value:n.orderType,onChange:s,placeholder:"Search by order type...",InputProps:{startAdornment:(0,G.jsx)(ie.Z,{position:"start",children:(0,G.jsx)(C.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,G.jsx)(m.Z,{onClick:i.onOpen,children:(0,G.jsx)(C.Z,{icon:"eva:more-vertical-fill"})})]}),r&&(0,G.jsx)(x.Z,{color:"error",sx:{flexShrink:0},onClick:o,startIcon:(0,G.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]}),(0,G.jsxs)(U.Z,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:140},children:[(0,G.jsxs)(A.Z,{onClick:function(){i.onClose()},children:[(0,G.jsx)(C.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,G.jsxs)(A.Z,{onClick:function(){i.onClose()},children:[(0,G.jsx)(C.Z,{icon:"solar:export-bold"}),"Export"]})]})]})}var ae=t(45987),le=t(85771),ce=t(25265),de=["filters","onFilters","onResetFilters","results"],ue=["label","children","sx"];function xe(e){var n=e.filters,t=e.onFilters,r=e.onResetFilters,i=e.results,s=(0,ae.Z)(e,de),a=(0,ce.l2)(n.startDate,n.endDate);return(0,G.jsxs)(W.Z,(0,o.Z)((0,o.Z)({spacing:1.5},s),{},{children:[(0,G.jsxs)(O.Z,{sx:{typography:"body2"},children:[(0,G.jsx)("strong",{children:i}),(0,G.jsx)(O.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,G.jsxs)(W.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:["all"!==n.status&&(0,G.jsx)(pe,{label:"Status:",children:(0,G.jsx)(le.Z,{size:"small",label:n.status,onDelete:function(){t("status","all")}})}),n.startDate&&n.endDate&&(0,G.jsx)(pe,{label:"Date:",children:(0,G.jsx)(le.Z,{size:"small",label:a,onDelete:function(){t("startDate",null),t("endDate",null)}})}),(0,G.jsx)(x.Z,{color:"error",onClick:r,startIcon:(0,G.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function pe(e){var n=e.label,t=e.children,r=e.sx,i=(0,ae.Z)(e,ue);return(0,G.jsxs)(W.Z,(0,o.Z)((0,o.Z)({component:B.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,o.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},r)},i),{},{children:[(0,G.jsx)(O.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,G.jsx)(W.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]}))}var he=t(8976),Ze=([{value:"all",label:"All"}].concat((0,l.Z)(y.s8)),[{id:"orderNumber",label:"Appointment ID",width:110},{id:"name",label:"Patient",width:140},{id:"createdAt",label:"Date",width:120},{id:"totalQuantity",label:"Order Type",width:200,align:"center"},{id:"totalAmount",label:"Status",width:110},{id:"payment",label:"Payment Status",width:110},{id:"status",label:"Priority",width:110},{id:"",width:88}]),me={name:"",status:"all",startDate:null,endDate:null,orderType:"",labOrderId:""};function ge(){var e=(0,R.x6)({defaultOrderBy:"orderNumber"}),n=(0,k.K$)(),t=(0,f.tv)(),l=(0,v.k)(),y=(0,c.useState)([]),w=(0,a.Z)(y,2),O=w[0],F=w[1],A=(0,c.useState)(me),I=(0,a.Z)(A,2),T=I[0],M=I[1],U=(0,he.E)().user,B=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.Z.get("/medical-labs/facility/approved/".concat(null===U||void 0===U?void 0:U.facilityID));case 3:n=e.sent,t=n.data,F(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();console.log(O),(0,c.useEffect)((function(){B()}),[]);var W=!(!T.startDate||!T.endDate)&&T.startDate.getTime()>T.endDate.getTime(),L=function(e){var n=e.inputData,t=e.comparator,r=e.filters,o=e.dateError,i=r.status,s=(r.name,r.startDate),a=r.endDate,l=r.orderType,c=(r.labOrderId,n.map((function(e,n){return[e,n]})));c.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n=c.map((function(e){return e[0]})),l&&(n=n.filter((function(e){return-1!==e.orderType.toLowerCase().indexOf(l.toLowerCase())})));"all"!==i&&(n=n.filter((function(e){return e.status===i})));o||s&&a&&(n=n.filter((function(e){return(0,b.IO)(e.dateOrdered)>=(0,b.IO)(s)&&(0,b.IO)(e.dateOrdered)<=(0,b.IO)(a)})));return n}({inputData:O,comparator:(0,R.sQ)(e.order,e.orderBy),filters:T,dateError:W}),N=L.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),q=e.dense?52:72,E=!!T.name||"all"!==T.status||!!T.startDate&&!!T.endDate,_=!L.length&&E||!L.length,Q=(0,c.useCallback)((function(n,t){e.onResetPage(),M((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},n,t))}))}),[e]),H=(0,c.useCallback)((function(n){var t=O.filter((function(e){return e.id!==n}));F(t),e.onUpdatePageDeleteRow(N.length)}),[N.length,e,O]),V=(0,c.useCallback)((function(){var n=O.filter((function(n){return!e.selected.includes(n.id)}));F(n),e.onUpdatePageDeleteRows({totalRows:O.length,totalRowsInPage:N.length,totalRowsFiltered:L.length})}),[L.length,N.length,e,O]),K=(0,c.useCallback)((function(){M(me)}),[]),$=(0,c.useCallback)((function(e){t.push(j.H.dashboard.order.details(e))}),[t]);(0,c.useCallback)((function(e,n){Q("status",n)}),[Q]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(h.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,G.jsx)(P.Z,{heading:"All Appointments",links:[{name:"Dashboard",href:j.H.dashboard.root},{name:"Appointments",href:j.H.dashboard.order.root},{name:"List"}],sx:{mb:{xs:3,md:5}}}),(0,G.jsxs)(d.Z,{children:[(0,G.jsx)(se,{filters:T,onFilters:Q,canReset:E,onResetFilters:K}),E&&(0,G.jsx)(xe,{filters:T,onFilters:Q,onResetFilters:K,results:L.length,sx:{p:2.5,pt:0}}),(0,G.jsxs)(g.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,G.jsx)(R.Z4,{dense:e.dense,numSelected:e.selected.length,rowCount:O.length,onSelectAllRows:function(n){return e.onSelectAllRows(n,O.map((function(e){return e.id})))},action:(0,G.jsx)(p.Z,{title:"Delete",children:(0,G.jsx)(m.Z,{color:"primary",onClick:l.onTrue,children:(0,G.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"})})})}),(0,G.jsx)(S.Z,{children:(0,G.jsxs)(u.Z,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[(0,G.jsx)(R.K,{order:e.order,orderBy:e.orderBy,headLabel:Ze,rowCount:O.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:function(n){return e.onSelectAllRows(n,O.map((function(e){return e.id})))}}),(0,G.jsxs)(Z.Z,{children:[L.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).sort((function(e,n){return new Date(n.dateOrdered)-new Date(e.dateOrdered)})).map((function(n){return(0,G.jsx)(re,{row:n,selected:e.selected.includes(n.id),onSelectRow:function(){return e.onSelectRow(n.id)},onDeleteRow:function(){return H(n.id)},onViewRow:function(){return $(n.id)},fetchAllOrders:B},n.id)})),(0,G.jsx)(R.$W,{height:q,emptyRows:(0,R.fQ)(e.page,e.rowsPerPage,O.length)}),(0,G.jsx)(R.et,{notFound:_})]})]})})]}),(0,G.jsx)(R.S_,{count:L.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,G.jsx)(D.Q,{open:l.value,onClose:l.onFalse,title:"Delete",content:(0,G.jsxs)(G.Fragment,{children:["Are you sure want to delete"," ",(0,G.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:function(){V(),l.onFalse()},children:"Delete"})})]})}var je=t(24308),fe=t(50533),ye=t(60220),be=t(9585);function ve(e){var n=e.customer,t=e.delivery,r=e.payment,o=e.shippingAddress,i=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(be.Z,{title:"Customer Info",action:(0,G.jsx)(m.Z,{children:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"})})}),(0,G.jsxs)(W.Z,{direction:"row",sx:{p:3},children:[(0,G.jsx)(ye.Z,{alt:n.name,src:n.avatarUrl,sx:{width:48,height:48,mr:2}}),(0,G.jsxs)(W.Z,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[(0,G.jsx)(L.Z,{variant:"subtitle2",children:n.name}),(0,G.jsx)(O.Z,{sx:{color:"text.secondary"},children:n.email}),(0,G.jsxs)(O.Z,{children:["IP Address:",(0,G.jsx)(O.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:n.ipAddress})]}),(0,G.jsx)(x.Z,{size:"small",color:"error",startIcon:(0,G.jsx)(C.Z,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]}),s=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(be.Z,{title:"Delivery",action:(0,G.jsx)(m.Z,{children:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"})})}),(0,G.jsxs)(W.Z,{spacing:1.5,sx:{p:3,typography:"body2"},children:[(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(O.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),t.shipBy]}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(O.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),t.speedy]}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(O.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),(0,G.jsx)(fe.Z,{underline:"always",color:"inherit",children:t.trackingNumber})]})]})]}),a=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(be.Z,{title:"Shipping",action:(0,G.jsx)(m.Z,{children:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"})})}),(0,G.jsxs)(W.Z,{spacing:1.5,sx:{p:3,typography:"body2"},children:[(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(O.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),o.fullAddress]}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",children:[(0,G.jsx)(O.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),o.phoneNumber]})]})]}),l=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(be.Z,{title:"Payment",action:(0,G.jsx)(m.Z,{children:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"})})}),(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",sx:{p:3,typography:"body2"},children:[(0,G.jsx)(O.Z,{component:"span",sx:{color:"text.secondary",flexGrow:1},children:"Phone number"}),r.cardNumber,(0,G.jsx)(C.Z,{icon:"logos:mastercard",width:24,sx:{ml:.5}})]})]});return(0,G.jsxs)(d.Z,{children:[i,(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed"}}),s,(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed"}}),a,(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed"}}),l]})}var we=t(17070);function Ce(e){var n=e.items,t=e.shipping,r=e.discount,i=e.taxes,s=e.subTotal,a=e.totalAmount,l=(0,G.jsxs)(W.Z,{spacing:2,alignItems:"flex-end",sx:{my:3,textAlign:"right",typography:"body2"},children:[(0,G.jsxs)(W.Z,{direction:"row",children:[(0,G.jsx)(O.Z,{sx:{color:"text.secondary"},children:"Subtotal"}),(0,G.jsx)(O.Z,{sx:{width:160,typography:"subtitle2"},children:(0,we.e_)(s)||"-"})]}),(0,G.jsxs)(W.Z,{direction:"row",children:[(0,G.jsx)(O.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,G.jsx)(O.Z,{sx:(0,o.Z)({width:160},t&&{color:"error.main"}),children:t?"- ".concat((0,we.e_)(t)):"-"})]}),(0,G.jsxs)(W.Z,{direction:"row",children:[(0,G.jsx)(O.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,G.jsx)(O.Z,{sx:(0,o.Z)({width:160},r&&{color:"error.main"}),children:r?"- ".concat((0,we.e_)(r)):"-"})]}),(0,G.jsxs)(W.Z,{direction:"row",children:[(0,G.jsx)(O.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,G.jsx)(O.Z,{sx:{width:160},children:i?(0,we.e_)(i):"-"})]}),(0,G.jsxs)(W.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,G.jsx)(O.Z,{children:"Total"}),(0,G.jsx)(O.Z,{sx:{width:160},children:(0,we.e_)(a)||"-"})]})]});return(0,G.jsxs)(d.Z,{children:[(0,G.jsx)(be.Z,{title:"Details"}),(0,G.jsxs)(W.Z,{sx:{px:3},children:[(0,G.jsx)(S.Z,{children:n.map((function(e){return(0,G.jsxs)(W.Z,{direction:"row",alignItems:"center",sx:{py:3,minWidth:640,borderBottom:function(e){return"dashed 2px ".concat(e.palette.background.neutral)}},children:[(0,G.jsx)(ye.Z,{src:e.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),(0,G.jsx)(M.Z,{primary:e.name,secondary:e.sku,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),(0,G.jsxs)(O.Z,{sx:{typography:"body2"},children:["x",e.quantity]}),(0,G.jsx)(O.Z,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:(0,we.e_)(e.price)})]},e.id)}))}),l]})]})}var Se=t(83854);function De(e){var n=e.status,t=e.backLink,r=e.createdAt,o=e.orderNumber,i=e.statusOptions,s=e.onChangeStatus,a=(0,U.S)();return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(W.Z,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[(0,G.jsxs)(W.Z,{spacing:1,direction:"row",alignItems:"flex-start",children:[(0,G.jsx)(m.Z,{component:Se.r,href:t,children:(0,G.jsx)(C.Z,{icon:"eva:arrow-ios-back-fill"})}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsxs)(W.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,G.jsxs)(L.Z,{variant:"h4",children:[" Order ",o," "]}),(0,G.jsx)(w.Z,{variant:"soft",color:("completed"===n?"success":"pending"===n&&"warning")||"cancelled"===n&&"error"||"default",children:n})]}),(0,G.jsx)(L.Z,{variant:"body2",sx:{color:"text.disabled"},children:(0,b.zM)(r)})]})]}),(0,G.jsxs)(W.Z,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[(0,G.jsx)(x.Z,{color:"inherit",variant:"outlined",endIcon:(0,G.jsx)(C.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:a.onOpen,sx:{textTransform:"capitalize"},children:n}),(0,G.jsx)(x.Z,{color:"inherit",variant:"outlined",startIcon:(0,G.jsx)(C.Z,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),(0,G.jsx)(x.Z,{color:"inherit",variant:"contained",startIcon:(0,G.jsx)(C.Z,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),(0,G.jsx)(U.Z,{open:a.open,onClose:a.onClose,arrow:"top-right",sx:{width:140},children:i.map((function(e){return(0,G.jsx)(A.Z,{selected:e.value===n,onClick:function(){a.onClose(),s(e.value)},children:e.label},e.value)}))})]})}var ke=t(36562),Pe=t(35651),Re=t(27454),Oe=t(28666),Fe=t(65552),Ae=t(21658),Ie=t(23454);function Te(e){var n=e.history,t=(0,G.jsxs)(W.Z,{spacing:2,component:B.Z,variant:"outlined",sx:{p:2.5,minWidth:260,flexShrink:0,borderRadius:2,typography:"body2",borderStyle:"dashed"},children:[(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Order time"}),(0,b.zM)(n.orderTime)]}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Payment time"}),(0,b.zM)(n.orderTime)]}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Delivery time for the carrier"}),(0,b.zM)(n.orderTime)]}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Completion time"}),(0,b.zM)(n.orderTime)]})]}),o=(0,G.jsx)(ke.Z,{sx:(0,r.Z)({p:0,m:0},"& .".concat(Ae.Z.root,":before"),{flex:0,padding:0}),children:n.timeline.map((function(e,t){var r=0===t,o=t===n.timeline.length-1;return(0,G.jsxs)(Ie.Z,{children:[(0,G.jsxs)(Oe.Z,{children:[(0,G.jsx)(Pe.Z,{color:r?"primary":"grey"}),o?null:(0,G.jsx)(Fe.Z,{})]}),(0,G.jsxs)(Re.Z,{children:[(0,G.jsx)(L.Z,{variant:"subtitle2",children:e.title}),(0,G.jsx)(O.Z,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:(0,b.zM)(e.time)})]})]},e.title)}))});return(0,G.jsxs)(d.Z,{children:[(0,G.jsx)(be.Z,{title:"History"}),(0,G.jsxs)(W.Z,{spacing:3,alignItems:{md:"flex-start"},direction:{xs:"column-reverse",md:"row"},sx:{p:3},children:[o,t]})]})}function Me(e){var n=e.id,t=(0,k.K$)(),r=y._Q.filter((function(e){return e.id===n}))[0],o=(0,c.useState)(r.status),i=(0,a.Z)(o,2),s=i[0],l=i[1],d=(0,c.useCallback)((function(e){l(e)}),[]);return(0,G.jsxs)(h.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,G.jsx)(De,{backLink:j.H.dashboard.order.root,orderNumber:r.orderNumber,createdAt:r.createdAt,status:s,onChangeStatus:d,statusOptions:y.s8}),(0,G.jsxs)(je.Z,{container:!0,spacing:3,children:[(0,G.jsx)(je.Z,{xs:12,md:8,children:(0,G.jsxs)(W.Z,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:[(0,G.jsx)(Ce,{items:r.items,taxes:r.taxes,shipping:r.shipping,discount:r.discount,subTotal:r.subTotal,totalAmount:r.totalAmount}),(0,G.jsx)(Te,{history:r.history})]})}),(0,G.jsx)(je.Z,{xs:12,md:4,children:(0,G.jsx)(ve,{customer:r.customer,delivery:r.delivery,payment:r.payment,shippingAddress:r.shippingAddress})})]})]})}var Ue=t(12065),Be=t(61474),We=t(2101);function Le(e){var n=e.row,t=e.openDialogBox,r=e.setOpenDialogBox,o=e.setOpenAppointmentBox,i=n.dateOrdered,s=n.labOrderId,a=(n.appointmentDate,n.providerContact,n.patientContact,n.providerName,n.labItems);new Date(i).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"});return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(N.Z,{open:t,onClose:function(){return r(!1)},sx:{"& .MuiDialog-paper":{width:"50%",maxWidth:"none",maxHeight:"90vh"}},children:[(0,G.jsx)(q.Z,{align:"center",children:(0,G.jsx)(M.Z,{primary:s,secondary:"General Laboratory Request Form",primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsx)(_.Z,{children:(0,G.jsxs)(W.Z,{spacing:2,component:B.Z,variant:"outlined",sx:{p:2.5,minWidth:300,flexShrink:0,borderRadius:5,typography:"body1",borderStyle:"dashed"},children:[(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Patient Name"}),n.patientName]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Patient Phone Number"}),null===n||void 0===n?void 0:n.patientContact.phoneNumber]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Patient Email"}),null===n||void 0===n?void 0:n.patientContact.email]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Provider Name"}),n.providerName]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Provider Phone Number"}),null===n||void 0===n?void 0:n.providerContact.phoneNumber]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Provider Email"}),null===n||void 0===n?void 0:n.providerContact.email]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Appointment Date"}),(0,Q.Z)(new Date(i),"dd/MM/yyyy")]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Priority"}),n.priority]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Message"}),n.description]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed",my:1,borderColor:"primary.main"}}),(0,G.jsxs)(W.Z,{spacing:.5,children:[(0,G.jsx)(O.Z,{sx:{color:"text.disabled"},children:"Category and Test Type"}),(0,G.jsx)(g.Z,{sx:{border:"0.5px solid #bdbdbd",borderRadius:"10px"},children:(0,G.jsxs)(u.Z,{children:[(0,G.jsx)(H.Z,{children:(0,G.jsxs)(I.Z,{children:[(0,G.jsx)(T.Z,{children:"Category"})," ",(0,G.jsx)(T.Z,{children:"Test"})]})}),(0,G.jsx)(Z.Z,{children:a.map((function(e,n){return(0,G.jsxs)(I.Z,{children:[(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(L.Z,{children:e.category})}),(0,G.jsx)(T.Z,{sx:{borderBottomStyle:"solid"},children:(0,G.jsx)(L.Z,{sx:{color:"primary.main"},children:e.test})})]},n)}))})]})})]})]})}),(0,G.jsxs)(E.Z,{children:[(0,G.jsx)(x.Z,{onClick:function(){return o(!0)},variant:"outlined",color:"inherit",children:"pending"===n.status?"Schedule":"Reschedule"}),(0,G.jsx)(x.Z,{onClick:function(){return r(!1)},variant:"outlined",color:"inherit",children:"Cancel"})]})]})})}function Ne(e){var n=e.row,t=e.selected,r=e.onViewRow,o=(e.onSelectRow,e.onDeleteRow),i=e.fetchAllOrders,s=(n.orderNo,n.doctor,n.reqDate,n.labItems),d=n.priority,u=(n.photo,n.status),p=(n.appointmentTime,n._id,n.providerID,n.userID,n.patientName),h=(n.facilityID,n.description,n.appointmentID,n.dateOrdered),Z=(n.result,n.feeAmount,n.paid,n.labOrderId),g=(0,v.k)(),j=(0,U.S)(),f=(0,c.useState)(!1),y=(0,a.Z)(f,2),b=y[0],S=y[1],k=(0,c.useState)(!1),P=(0,a.Z)(k,2),R=P[0],B=P[1],W=(0,l.Z)(new Set(s.map((function(e){return e.category})))),L=(0,G.jsxs)(I.Z,{hover:!0,selected:t,children:[(0,G.jsx)(T.Z,{children:(0,G.jsx)(O.Z,{onClick:r,sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"".concat(Z)})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(M.Z,{primary:p,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"},sx:{whiteSpace:"nowrap"}})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(M.Z,{primary:(0,Q.Z)(new Date(h),"dd/MM/yyyy"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsx)(T.Z,{align:"center",children:W.join(", ")}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:("approved"===u?"success":"pending"===u&&"warning")||"default",children:u})}),(0,G.jsx)(T.Z,{children:(0,G.jsx)(w.Z,{variant:"soft",color:("regular"===d?"success":"urgent"===d&&"warning")||"emergency"===d&&"error"||"default",children:d})}),(0,G.jsx)(T.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,G.jsx)(m.Z,{color:j.open?"inherit":"default",onClick:j.onOpen,children:(0,G.jsx)(C.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,G.jsxs)(G.Fragment,{children:[L,(0,G.jsxs)(U.Z,{open:j.open,onClose:j.onClose,arrow:"right-top",sx:{width:160},children:[(0,G.jsxs)(A.Z,{onClick:function(){S(!0),j.onClose()},children:[(0,G.jsx)(C.Z,{icon:"solar:eye-bold"}),"View Order"]}),(0,G.jsx)(F.Z,{sx:{borderStyle:"dashed"}}),(0,G.jsxs)(A.Z,{onClick:function(){alert("Cancel Order")},children:[(0,G.jsx)(C.Z,{icon:"flat-color-icons:cancel"}),"Cancel Order"]})]}),(0,G.jsx)(Le,{row:n,openDialogBox:b,setOpenDialogBox:S,setOpenAppointmentBox:B}),(0,G.jsx)(Y,{openAppointmentBox:R,setOpenAppointmentBox:B,row:n,fetchAllOrders:function(){return i()}}),(0,G.jsx)(D.Q,{open:g.value,onClose:g.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var qe=[{value:"all",label:"All"}].concat([{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"cancelled",label:"Cancelled"}]),Ee=[{id:"orderNumber",label:"Order",width:120},{id:"name",label:"Patient",width:120},{id:"createdAt",label:"Requested Date (MM/DD/YYYY)",width:120},{id:"totalQuantity",label:"Order Type",width:200,align:"center"},{id:"totalAmount",label:"Status",width:110},{id:"status",label:"Priority",width:110},{id:"",width:88}],_e={labOrderId:"",status:"all",startDate:null,endDate:null,orderType:""};function ze(){var e=(0,R.x6)({defaultOrderBy:"orderNo"}),n=(0,k.K$)(),t=(0,f.tv)(),l=(0,v.k)(),y=(0,c.useState)([]),O=(0,a.Z)(y,2),F=O[0],A=O[1],I=(0,c.useState)(_e),T=(0,a.Z)(I,2),M=T[0],U=T[1],B=(0,he.E)().user,W=(0,c.useState)([]),L=(0,a.Z)(W,2),N=(L[0],L[1],function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.Z.get("/medical-labs/faclity/pending/".concat(null===B||void 0===B?void 0:B.facilityID));case 3:n=e.sent,t=n.data,A(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}());console.log(F),(0,c.useEffect)((function(){N()}),[]);var q=!(!M.startDate||!M.endDate)&&M.startDate.getTime()>M.endDate.getTime(),E=function(e){var n=e.inputData,t=e.comparator,r=e.filters,o=e.dateError,i=r.status,s=r.startDate,a=r.endDate,l=(r.labOrderId,r.orderType),c=n.map((function(e,n){return[e,n]}));c.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n=c.map((function(e){return e[0]})),l&&(n=n.filter((function(e){return-1!==e.orderType.toLowerCase().indexOf(l.toLowerCase())})));"all"!==i&&(n=n.filter((function(e){return e.status===i})));o||s&&a&&(n=n.filter((function(e){return(0,b.IO)(e.createdAt)>=(0,b.IO)(s)&&(0,b.IO)(e.createdAt)<=(0,b.IO)(a)})));return n}({inputData:F,comparator:(0,R.sQ)(e.order,e.orderBy),filters:M,dateError:q}),_=E.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),Q=e.dense?52:72,H=!!M.name||"all"!==M.status||!!M.startDate&&!!M.endDate,V=!E.length&&H||!E.length,K=(0,c.useCallback)((function(n,t){e.onResetPage(),U((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},n,t))}))}),[e]),$=(0,c.useCallback)((function(n){var t=F.filter((function(e){return e.id!==n}));A(t),e.onUpdatePageDeleteRow(_.length)}),[_.length,e,F]),Y=(0,c.useCallback)((function(){var n=F.filter((function(n){return!e.selected.includes(n.id)}));A(n),e.onUpdatePageDeleteRows({totalRows:F.length,totalRowsInPage:_.length,totalRowsFiltered:E.length})}),[E.length,_.length,e,F]),J=(0,c.useCallback)((function(){U(_e)}),[]),X=(0,c.useCallback)((function(e){t.push(j.H.dashboard.order.details(e))}),[t]),ee=(0,c.useCallback)((function(e,n){K("status",n)}),[K]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(h.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,G.jsx)(P.Z,{heading:"All Orders",links:[{name:"Dashboard",href:j.H.dashboard.root},{name:"Orders",href:j.H.dashboard.order.root},{name:"List"}],sx:{mb:{xs:3,md:5}}}),(0,G.jsxs)(d.Z,{children:[(0,G.jsx)(We.Z,{value:M.status,onChange:ee,sx:{px:2.5,boxShadow:function(e){return"inset 0 -2px 0 0 ".concat((0,Ue.Fq)(e.palette.grey[500],.08))}},children:qe.map((function(e){return(0,G.jsx)(Be.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,G.jsxs)(w.Z,{variant:"all"===e.value||e.value===M.status?"filled":"soft",color:("approved"===e.value?"success":"pending"===e.value&&"warning")||"cancelled"===e.value&&"error"||"default",children:["all"===e.value&&F.length,"approved"===e.value&&F.filter((function(e){return"approved"===e.status})).length,"pending"===e.value&&F.filter((function(e){return"pending"===e.status})).length,"cancelled"===e.value&&F.filter((function(e){return"cancelled"===e.status})).length]})},e.value)}))}),(0,G.jsx)(se,{filters:M,onFilters:K,canReset:H,onResetFilters:J}),H&&(0,G.jsx)(xe,{filters:M,onFilters:K,onResetFilters:J,results:E.length,sx:{p:2.5,pt:0}}),(0,G.jsxs)(g.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,G.jsx)(R.Z4,{dense:e.dense,numSelected:e.selected.length,rowCount:F.length,onSelectAllRows:function(n){return e.onSelectAllRows(n,F.map((function(e){return e.id})))},action:(0,G.jsx)(p.Z,{title:"Delete",children:(0,G.jsx)(m.Z,{color:"primary",onClick:l.onTrue,children:(0,G.jsx)(C.Z,{icon:"solar:trash-bin-trash-bold"})})})}),(0,G.jsx)(S.Z,{children:(0,G.jsxs)(u.Z,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[(0,G.jsx)(R.K,{order:e.order,orderBy:e.orderBy,headLabel:Ee,rowCount:F.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:function(n){return e.onSelectAllRows(n,F.map((function(e){return e.id})))}}),(0,G.jsxs)(Z.Z,{children:[E.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).sort((function(e,n){return new Date(n.dateOrdered)-new Date(e.dateOrdered)})).map((function(n){return(0,G.jsx)(Ne,{row:n,fetchAllOrders:N,selected:e.selected.includes(n.id),onSelectRow:function(){return e.onSelectRow(n.id)},onDeleteRow:function(){return $(n.id)},onViewRow:function(){return X(n.id)}},n.id)})),(0,G.jsx)(R.$W,{height:Q,emptyRows:(0,R.fQ)(e.page,e.rowsPerPage,F.length)}),(0,G.jsx)(R.et,{notFound:V})]})]})})]}),(0,G.jsx)(R.S_,{count:E.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,G.jsx)(D.Q,{open:l.value,onClose:l.onFalse,title:"Delete",content:(0,G.jsxs)(G.Fragment,{children:["Are you sure want to delete"," ",(0,G.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,G.jsx)(x.Z,{variant:"contained",color:"error",onClick:function(){Y(),l.onFalse()},children:"Delete"})})]})}},17070:function(e,n,t){t.d(n,{FK:function(){return i},e_:function(){return s},f2:function(){return a},oe:function(){return c},v1:function(){return l}});var r=t(26098),o=t.n(r);function i(e){return o()(e).format()}function s(e){return d(e?o()(e).format("$0,0.00"):"",".00")}function a(e){return d(e?o()(Number(e)/100).format("0.0%"):"",".0")}function l(e){return d(e?o()(e).format("0.00a"):"",".00")}function c(e){return d(e?o()(e).format("0.0 b"):"",".0")}function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".00";return e.includes(n)?e.replace(n,""):e}}}]);
//# sourceMappingURL=3889.35ffcb0b.chunk.js.map