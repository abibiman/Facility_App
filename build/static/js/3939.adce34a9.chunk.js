"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[3939],{73939:function(e,t,n){n.d(t,{o:function(){return Be},H2:function(){return Oe},Mb:function(){return Ze}});var l=n(4942),r=n(1413),i=n(29439),s=n(31357),o=n.n(s),a=n(72791),c=n(13967),d=n(12065),u=n(61474),x=n(2101),h=n(57621),p=n(79836),m=n(36314),j=n(5849),f=n(94721),g=n(20068),b=n(89164),v=n(53382),y=n(13400),Z=n(39281),w=n(38072),C=n(19208),D=n(83854),P=n(22459),S=n(9145),k=n(57062),R=n(80160),G=n(40268),F=n(47974),I=n(3352),T=n(60720),_=n(50933),A=n(1382),W=n(64554),z=n(4567),N=n(13239),O=n(17070),B=n(80184);function q(e){var t=e.title,n=e.total,l=e.icon,r=e.color,i=e.percent,s=e.price;return(0,B.jsxs)(m.Z,{spacing:2.5,direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,B.jsxs)(m.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,B.jsx)(G.Z,{icon:l,width:32,sx:{color:r,position:"absolute"}}),(0,B.jsx)(N.Z,{variant:"determinate",value:i,size:56,thickness:2,sx:{color:r,opacity:.48}}),(0,B.jsx)(N.Z,{variant:"determinate",value:100,size:56,thickness:3,sx:{top:0,left:0,opacity:.48,position:"absolute",color:function(e){return(0,d.Fq)(e.palette.grey[500],.16)}}})]}),(0,B.jsxs)(m.Z,{spacing:.5,children:[(0,B.jsx)(z.Z,{variant:"subtitle1",children:t}),(0,B.jsxs)(W.Z,{component:"span",sx:{color:"text.disabled",typography:"body2"},children:[(0,O.v1)(n)," lab orders"]}),(0,B.jsx)(z.Z,{variant:"subtitle2",children:(0,O.e_)(s)})]})]})}var E=n(16386),H=n(50533),M=n(60220),L=n(9195),$=n(68745),Q=n(49900),K=n(52115);function V(e){var t=e.row,n=e.selected,l=(e.onSelectRow,e.onViewRow),r=(e.onEditRow,e.onDeleteRow,t.sent),i=t.invoiceNumber,s=t.createDate,o=t.dueDate,a=t.status,c=t.invoiceTo,d=t.totalAmount;(0,P.k)(),(0,K.S)();return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(L.Z,{hover:!0,selected:n,children:[(0,B.jsxs)($.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(M.Z,{alt:c.name,sx:{mr:2},children:c.name.charAt(0).toUpperCase()}),(0,B.jsx)(Q.Z,{disableTypography:!0,primary:(0,B.jsx)(z.Z,{variant:"body2",noWrap:!0,children:c.name}),secondary:(0,B.jsx)(H.Z,{noWrap:!0,variant:"body2",onClick:l,sx:{color:"text.disabled",cursor:"pointer"},children:i})})]}),(0,B.jsx)($.Z,{children:(0,B.jsx)(Q.Z,{primary:(0,E.Z)(new Date(s),"dd MMM yyyy"),secondary:(0,E.Z)(new Date(s),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,B.jsx)($.Z,{children:(0,B.jsx)(Q.Z,{primary:(0,E.Z)(new Date(o),"dd MMM yyyy"),secondary:(0,E.Z)(new Date(o),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,B.jsx)($.Z,{children:(0,O.e_)(d)}),(0,B.jsx)($.Z,{align:"center",children:r}),(0,B.jsx)($.Z,{children:(0,B.jsx)(R.Z,{variant:"soft",color:("paid"===a?"success":"pending"===a&&"warning")||"overdue"===a&&"error"||"default",children:a})})]})})}var U=n(53106),X=n(82626),J=n(48550),Y=n(63466),ee=n(5574),te=n(97123),ne=n(96851);ne.Zx.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});var le=function(){return(0,a.useMemo)((function(){return ne.mM.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",padding:"40px 24px 120px 24px"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}})}),[])};function re(e){var t=e.invoice,n=e.currentStatus,l=t.items,r=t.taxes,i=t.dueDate,s=t.discount,o=t.shipping,a=t.invoiceTo,c=t.createDate,d=t.totalAmount,u=t.invoiceFrom,x=t.invoiceNumber,h=t.subTotal,p=le();return(0,B.jsx)(ne.BB,{children:(0,B.jsxs)(ne.T3,{size:"A4",style:p.page,children:[(0,B.jsxs)(ne.G7,{style:[p.gridContainer,p.mb40],children:[(0,B.jsx)(ne.Ee,{source:"../../components/logo/logo-icon.png",style:{width:48,height:48}}),(0,B.jsxs)(ne.G7,{style:{alignItems:"flex-end",flexDirection:"column"},children:[(0,B.jsx)(ne.xv,{style:p.h3,children:n}),(0,B.jsxs)(ne.xv,{children:[" ",x," "]})]})]}),(0,B.jsxs)(ne.G7,{style:[p.gridContainer,p.mb40],children:[(0,B.jsxs)(ne.G7,{style:p.col6,children:[(0,B.jsx)(ne.xv,{style:[p.subtitle2,p.mb4],children:"Invoice from"}),(0,B.jsx)(ne.xv,{style:p.body2,children:u.name}),(0,B.jsx)(ne.xv,{style:p.body2,children:u.fullAddress}),(0,B.jsx)(ne.xv,{style:p.body2,children:u.phoneNumber})]}),(0,B.jsxs)(ne.G7,{style:p.col6,children:[(0,B.jsx)(ne.xv,{style:[p.subtitle2,p.mb4],children:"Invoice to"}),(0,B.jsx)(ne.xv,{style:p.body2,children:a.name}),(0,B.jsx)(ne.xv,{style:p.body2,children:a.fullAddress}),(0,B.jsx)(ne.xv,{style:p.body2,children:a.phoneNumber})]})]}),(0,B.jsxs)(ne.G7,{style:[p.gridContainer,p.mb40],children:[(0,B.jsxs)(ne.G7,{style:p.col6,children:[(0,B.jsx)(ne.xv,{style:[p.subtitle2,p.mb4],children:"Date create"}),(0,B.jsx)(ne.xv,{style:p.body2,children:(0,S.Mu)(c)})]}),(0,B.jsxs)(ne.G7,{style:p.col6,children:[(0,B.jsx)(ne.xv,{style:[p.subtitle2,p.mb4],children:"Due date"}),(0,B.jsx)(ne.xv,{style:p.body2,children:(0,S.Mu)(i)})]})]}),(0,B.jsx)(ne.xv,{style:[p.subtitle1,p.mb8],children:"Invoice Details"}),(0,B.jsxs)(ne.G7,{style:p.table,children:[(0,B.jsx)(ne.G7,{children:(0,B.jsxs)(ne.G7,{style:p.tableRow,children:[(0,B.jsx)(ne.G7,{style:p.tableCell_1,children:(0,B.jsx)(ne.xv,{style:p.subtitle2,children:"#"})}),(0,B.jsx)(ne.G7,{style:p.tableCell_2,children:(0,B.jsx)(ne.xv,{style:p.subtitle2,children:"Description"})}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{style:p.subtitle2,children:"Qty"})}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{style:p.subtitle2,children:"Unit price"})}),(0,B.jsx)(ne.G7,{style:[p.tableCell_3,p.alignRight],children:(0,B.jsx)(ne.xv,{style:p.subtitle2,children:"Total"})})]})}),(0,B.jsxs)(ne.G7,{children:[l.map((function(e,t){return(0,B.jsxs)(ne.G7,{style:p.tableRow,children:[(0,B.jsx)(ne.G7,{style:p.tableCell_1,children:(0,B.jsx)(ne.xv,{children:t+1})}),(0,B.jsxs)(ne.G7,{style:p.tableCell_2,children:[(0,B.jsx)(ne.xv,{style:p.subtitle2,children:e.title}),(0,B.jsx)(ne.xv,{children:e.description})]}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{children:e.quantity})}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{children:e.price})}),(0,B.jsx)(ne.G7,{style:[p.tableCell_3,p.alignRight],children:(0,B.jsx)(ne.xv,{children:(0,O.e_)(e.price*e.quantity)})})]},e.id)})),(0,B.jsxs)(ne.G7,{style:[p.tableRow,p.noBorder],children:[(0,B.jsx)(ne.G7,{style:p.tableCell_1}),(0,B.jsx)(ne.G7,{style:p.tableCell_2}),(0,B.jsx)(ne.G7,{style:p.tableCell_3}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{children:"Subtotal"})}),(0,B.jsx)(ne.G7,{style:[p.tableCell_3,p.alignRight],children:(0,B.jsx)(ne.xv,{children:(0,O.e_)(h)})})]}),(0,B.jsxs)(ne.G7,{style:[p.tableRow,p.noBorder],children:[(0,B.jsx)(ne.G7,{style:p.tableCell_1}),(0,B.jsx)(ne.G7,{style:p.tableCell_2}),(0,B.jsx)(ne.G7,{style:p.tableCell_3}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{children:"Shipping"})}),(0,B.jsx)(ne.G7,{style:[p.tableCell_3,p.alignRight],children:(0,B.jsx)(ne.xv,{children:(0,O.e_)(-o)})})]}),(0,B.jsxs)(ne.G7,{style:[p.tableRow,p.noBorder],children:[(0,B.jsx)(ne.G7,{style:p.tableCell_1}),(0,B.jsx)(ne.G7,{style:p.tableCell_2}),(0,B.jsx)(ne.G7,{style:p.tableCell_3}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{children:"Discount"})}),(0,B.jsx)(ne.G7,{style:[p.tableCell_3,p.alignRight],children:(0,B.jsx)(ne.xv,{children:(0,O.e_)(-s)})})]}),(0,B.jsxs)(ne.G7,{style:[p.tableRow,p.noBorder],children:[(0,B.jsx)(ne.G7,{style:p.tableCell_1}),(0,B.jsx)(ne.G7,{style:p.tableCell_2}),(0,B.jsx)(ne.G7,{style:p.tableCell_3}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{children:"Taxes"})}),(0,B.jsx)(ne.G7,{style:[p.tableCell_3,p.alignRight],children:(0,B.jsx)(ne.xv,{children:(0,O.e_)(r)})})]}),(0,B.jsxs)(ne.G7,{style:[p.tableRow,p.noBorder],children:[(0,B.jsx)(ne.G7,{style:p.tableCell_1}),(0,B.jsx)(ne.G7,{style:p.tableCell_2}),(0,B.jsx)(ne.G7,{style:p.tableCell_3}),(0,B.jsx)(ne.G7,{style:p.tableCell_3,children:(0,B.jsx)(ne.xv,{style:p.h4,children:"Total"})}),(0,B.jsx)(ne.G7,{style:[p.tableCell_3,p.alignRight],children:(0,B.jsx)(ne.xv,{style:p.h4,children:(0,O.e_)(d)})})]})]})]}),(0,B.jsxs)(ne.G7,{style:[p.gridContainer,p.footer],fixed:!0,children:[(0,B.jsxs)(ne.G7,{style:p.col8,children:[(0,B.jsx)(ne.xv,{style:p.subtitle2,children:"NOTES"}),(0,B.jsx)(ne.xv,{children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,B.jsxs)(ne.G7,{style:[p.col4,p.alignRight],children:[(0,B.jsx)(ne.xv,{style:p.subtitle2,children:"Have a Question?"}),(0,B.jsx)(ne.xv,{children:"support@abcapp.com"})]})]})]})})}function ie(e){var t=e.filters,n=e.onFilters,l=e.dateError,r=(e.serviceOptions,(0,K.S)()),i=(0,a.useCallback)((function(e){n("name",e.target.value)}),[n]),s=((0,a.useCallback)((function(e){n("service","string"===typeof e.target.value?e.target.value.split(","):e.target.value)}),[n]),(0,a.useCallback)((function(e){n("startDate",e)}),[n])),o=(0,a.useCallback)((function(e){n("endDate",e)}),[n]),c=(0,P.k)(),d=k.Ot.filter((function(e){return"e99f09a7-dd88-49d5-b1c8-1daf80c2d7b20"===e.id}))[0];return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(m.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,B.jsx)(U.M,{label:"Start date",value:t.startDate,onChange:s,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:180}}}),(0,B.jsx)(U.M,{label:"End date",value:t.endDate,onChange:o,slotProps:{textField:{fullWidth:!0,error:l}},sx:{maxWidth:{md:180}}}),(0,B.jsxs)(m.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,B.jsx)(J.Z,{fullWidth:!0,value:t.name,onChange:i,placeholder:"Search customer or invoice number...",InputProps:{startAdornment:(0,B.jsx)(Y.Z,{position:"start",children:(0,B.jsx)(G.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,B.jsx)(y.Z,{onClick:r.onOpen,children:(0,B.jsx)(G.Z,{icon:"eva:more-vertical-fill"})})]})]}),(0,B.jsxs)(K.Z,{open:r.open,onClose:r.onClose,arrow:"right-top",sx:{width:"auto"},children:[(0,B.jsxs)(X.Z,{onClick:function(){r.onClose(),c.onTrue()},children:[(0,B.jsx)(G.Z,{icon:"carbon:view-filled"}),"View"]}),(0,B.jsx)(ne.WD,{document:(0,B.jsx)(re,{invoice:d,currentStatus:"paid"}),fileName:d.invoiceNumber,style:{textDecoration:"none",color:"#000"},children:(0,B.jsxs)(X.Z,{onClick:function(){r.onClose()},children:[(0,B.jsx)(G.Z,{icon:"vscode-icons:file-type-pdf2"}),"Download PDF"]})})]}),(0,B.jsx)(ee.Z,{fullScreen:!0,open:c.value,children:(0,B.jsxs)(W.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,B.jsx)(te.Z,{sx:{p:1.5},children:(0,B.jsx)(j.Z,{color:"inherit",variant:"contained",onClick:c.onFalse,children:"Close"})}),(0,B.jsx)(W.Z,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:(0,B.jsx)(ne.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,B.jsx)(re,{invoice:d,currentStatus:"paid"})})})]})})]})}var se=n(45987),oe=n(85771),ae=n(27938),ce=n(25265),de=["filters","onFilters","onResetFilters","results"],ue=["label","children","sx"];function xe(e){var t=e.filters,n=e.onFilters,l=e.onResetFilters,i=e.results,s=(0,se.Z)(e,de),o=(0,ce.l2)(t.startDate,t.endDate);return(0,B.jsxs)(m.Z,(0,r.Z)((0,r.Z)({spacing:1.5},s),{},{children:[(0,B.jsxs)(W.Z,{sx:{typography:"body2"},children:[(0,B.jsx)("strong",{children:i}),(0,B.jsx)(W.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,B.jsxs)(m.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.service.length&&(0,B.jsx)(he,{label:"Service:",children:t.service.map((function(e){return(0,B.jsx)(oe.Z,{label:e,size:"small",onDelete:function(){return function(e){var l=t.service.filter((function(t){return t!==e}));n("service",l)}(e)}},e)}))}),"all"!==t.status&&(0,B.jsx)(he,{label:"Status:",children:(0,B.jsx)(oe.Z,{size:"small",label:t.status,onDelete:function(){n("status","all")}})}),t.startDate&&t.endDate&&(0,B.jsx)(he,{label:"Date:",children:(0,B.jsx)(oe.Z,{size:"small",label:o,onDelete:function(){n("startDate",null),n("endDate",null)}})}),(0,B.jsx)(j.Z,{color:"error",onClick:l,startIcon:(0,B.jsx)(G.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function he(e){var t=e.label,n=e.children,l=e.sx,i=(0,se.Z)(e,ue);return(0,B.jsxs)(m.Z,(0,r.Z)((0,r.Z)({component:ae.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,r.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},l)},i),{},{children:[(0,B.jsx)(W.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,B.jsx)(m.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]}))}var pe=["label","children","sx"];function me(e){e.filters;var t=e.onFilters,n=e.total,l=e.startDate,r=e.endDate,i=(0,K.S)(),s=(0,ce.l2)(l,r),o=((0,a.useCallback)((function(e){t("name",e.target.value)}),[t]),(0,a.useCallback)((function(e){t("service","string"===typeof e.target.value?e.target.value.split(","):e.target.value)}),[t]),(0,a.useCallback)((function(e){t("startDate",e)}),[t]),(0,a.useCallback)((function(e){t("endDate",e)}),[t]),(0,P.k)()),c=k.Ot.filter((function(e){return"e99f09a7-dd88-49d5-b1c8-1daf80c2d7b20"===e.id}))[0];return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(m.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:(0,B.jsxs)(m.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,B.jsx)(je,{label:"Date:",children:(0,B.jsx)(oe.Z,{size:"small",label:s,icon:(0,B.jsx)(G.Z,{icon:"lets-icons:date-range-fill"}),sx:{padding:"15px !important"}})}),(0,B.jsx)(je,{label:"Total:",children:(0,B.jsx)(oe.Z,{size:"small",label:"GH\u20b5 ".concat(n.toFixed(2)),sx:{padding:"15px !important"}})}),(0,B.jsx)(y.Z,{onClick:i.onOpen,children:(0,B.jsx)(G.Z,{icon:"eva:more-vertical-fill"})})]})}),(0,B.jsxs)(K.Z,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:"auto"},children:[(0,B.jsxs)(X.Z,{onClick:function(){i.onClose(),o.onTrue()},children:[(0,B.jsx)(G.Z,{icon:"carbon:view-filled"}),"View"]}),(0,B.jsx)(ne.WD,{document:(0,B.jsx)(re,{invoice:c,currentStatus:"paid"}),fileName:c.invoiceNumber,style:{textDecoration:"none",color:"#000"},children:(0,B.jsxs)(X.Z,{onClick:function(){i.onClose()},children:[(0,B.jsx)(G.Z,{icon:"vscode-icons:file-type-pdf2"}),"Download PDF"]})})]}),(0,B.jsx)(ee.Z,{fullScreen:!0,open:o.value,children:(0,B.jsxs)(W.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,B.jsx)(te.Z,{sx:{p:1.5},children:(0,B.jsx)(j.Z,{color:"inherit",variant:"contained",onClick:o.onFalse,children:"Close"})}),(0,B.jsx)(W.Z,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:(0,B.jsx)(ne.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,B.jsx)(re,{invoice:c,currentStatus:"paid"})})})]})})]})}function je(e){var t=e.label,n=e.children,l=e.sx,i=(0,se.Z)(e,pe);return(0,B.jsxs)(m.Z,(0,r.Z)((0,r.Z)({component:ae.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,r.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",justifyContent:"center",alignItems:"center"},l)},i),{},{children:[(0,B.jsx)(W.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,B.jsx)(m.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]}))}var fe=[{id:"invoiceNumber",label:"Customer"},{id:"createDate",label:"Create"},{id:"dueDate",label:"Due"},{id:"price",label:"Amount"},{id:"sent",label:"Sent",align:"center"},{id:"status",label:"Status"}],ge={name:"",service:[],status:"all",startDate:null,endDate:null};function be(e){var t=e.data,n=e.startDate,s=e.endDate,f=(0,c.Z)(),_=(0,T.K$)(),W=(0,C.tv)(),z=(0,A.x6)({defaultOrderBy:"createDate"}),N=(0,P.k)(),O=(0,a.useState)(t),q=(0,i.Z)(O,2),E=q[0],H=q[1],M=(0,a.useState)(ge),L=(0,i.Z)(M,2),$=L[0],Q=L[1],K=!(!$.startDate||!$.endDate)&&$.startDate.getTime()>$.endDate.getTime(),U=function(e){var t=e.inputData,n=e.comparator,l=e.filters,r=e.dateError,i=l.name,s=l.status,o=l.service,a=l.startDate,c=l.endDate,d=t.map((function(e,t){return[e,t]}));d.sort((function(e,t){var l=n(e[0],t[0]);return 0!==l?l:e[1]-t[1]})),t=d.map((function(e){return e[0]})),i&&(t=t.filter((function(e){return-1!==e.invoiceNumber.toLowerCase().indexOf(i.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(i.toLowerCase())})));"all"!==s&&(t=t.filter((function(e){return e.status===s})));o.length&&(t=t.filter((function(e){return e.items.some((function(e){return o.includes(e.service)}))})));r||a&&c&&(t=t.filter((function(e){return(0,S.IO)(e.createDate)>=(0,S.IO)(a)&&(0,S.IO)(e.createDate)<=(0,S.IO)(c)})));return t}({inputData:E,comparator:(0,A.sQ)(z.order,z.orderBy),filters:$,dateError:K}),X=U.slice(z.page*z.rowsPerPage,z.page*z.rowsPerPage+z.rowsPerPage),J=z.dense?56:76,Y=!!$.name||!!$.service.length||"all"!==$.status||!!$.startDate&&!!$.endDate,ee=!U.length&&Y||!U.length,te=function(e){return E.filter((function(t){return t.status===e})).length},ne=[{value:"all",label:"All",color:"default",count:E.length},{value:"paid",label:"Paid",color:"success",count:te("paid")},{value:"pending",label:"Pending",color:"warning",count:te("pending")},{value:"overdue",label:"Overdue",color:"error",count:te("overdue")},{value:"draft",label:"Draft",color:"default",count:te("draft")}],le=(0,a.useCallback)((function(e,t){z.onResetPage(),Q((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,l.Z)({},e,t))}))}),[z]),re=(0,a.useCallback)((function(e){var t=E.filter((function(t){return t.id!==e}));H(t),z.onUpdatePageDeleteRow(X.length)}),[X.length,z,E]),ie=(0,a.useCallback)((function(){var e=E.filter((function(e){return!z.selected.includes(e.id)}));H(e),z.onUpdatePageDeleteRows({totalRows:E.length,totalRowsInPage:X.length,totalRowsFiltered:U.length})}),[U.length,X.length,z,E]),se=(0,a.useCallback)((function(e){W.push(w.H.dashboard.invoice.edit(e))}),[W]),oe=(0,a.useCallback)((function(e){W.push(w.H.dashboard.invoice.details(e))}),[W]),ae=(0,a.useCallback)((function(e,t){le("status",t)}),[le]),ce=(0,a.useCallback)((function(){Q(ge)}),[]),de=o()(E,"subTotal");return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(b.Z,{maxWidth:!_.themeStretch&&"lg",children:[(0,B.jsx)(m.Z,{sx:{flexDirection:"row",justifyContent:"flex-end",py:"20px"},children:(0,B.jsx)(j.Z,{component:D.r,href:w.H.dashboard.invoice.new,variant:"outlined",sx:{width:"150px"},children:"Request Payout"})}),(0,B.jsxs)(h.Z,{children:[(0,B.jsx)(x.Z,{value:$.status,onChange:ae,sx:{px:2.5,boxShadow:"inset 0 -2px 0 0 ".concat((0,d.Fq)(f.palette.grey[500],.08))},children:ne.map((function(e){return(0,B.jsx)(u.Z,{value:e.value,label:e.label,iconPosition:"end",icon:(0,B.jsx)(R.Z,{variant:"all"===e.value||e.value===$.status?"filled":"soft",color:e.color,children:e.count})},e.value)}))}),(0,B.jsx)(me,{filters:$,onFilters:le,total:de,endDate:s,startDate:n,dateError:K,serviceOptions:k.PI.map((function(e){return e.name}))}),Y&&(0,B.jsx)(xe,{filters:$,onFilters:le,onResetFilters:ce,results:U.length,sx:{p:2.5,pt:0}}),(0,B.jsxs)(Z.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,B.jsx)(A.Z4,{dense:z.dense,numSelected:z.selected.length,rowCount:E.length,onSelectAllRows:function(e){return z.onSelectAllRows(e,E.map((function(e){return e.id})))},action:(0,B.jsxs)(m.Z,{direction:"row",children:[(0,B.jsx)(g.Z,{title:"Sent",children:(0,B.jsx)(y.Z,{color:"primary",children:(0,B.jsx)(G.Z,{icon:"iconamoon:send-fill"})})}),(0,B.jsx)(g.Z,{title:"Download",children:(0,B.jsx)(y.Z,{color:"primary",children:(0,B.jsx)(G.Z,{icon:"eva:download-outline"})})}),(0,B.jsx)(g.Z,{title:"Print",children:(0,B.jsx)(y.Z,{color:"primary",children:(0,B.jsx)(G.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,B.jsx)(g.Z,{title:"Delete",children:(0,B.jsx)(y.Z,{color:"primary",onClick:N.onTrue,children:(0,B.jsx)(G.Z,{icon:"solar:trash-bin-trash-bold"})})})]})}),(0,B.jsx)(F.Z,{children:(0,B.jsxs)(p.Z,{size:z.dense?"small":"medium",sx:{minWidth:800},children:[(0,B.jsx)(A.K,{order:z.order,orderBy:z.orderBy,headLabel:fe,rowCount:E.length,numSelected:z.selected.length,onSort:z.onSort,onSelectAllRows:function(e){return z.onSelectAllRows(e,E.map((function(e){return e.id})))}}),(0,B.jsxs)(v.Z,{children:[E.slice(z.page*z.rowsPerPage,z.page*z.rowsPerPage+z.rowsPerPage).map((function(e){return(0,B.jsx)(V,{row:e,selected:z.selected.includes(e.id),onSelectRow:function(){return z.onSelectRow(e.id)},onViewRow:function(){return oe(e.id)},onEditRow:function(){return se(e.id)},onDeleteRow:function(){return re(e.id)}},e.id)})),(0,B.jsx)(A.$W,{height:J,emptyRows:(0,A.fQ)(z.page,z.rowsPerPage,E.length)}),(0,B.jsx)(A.et,{notFound:ee})]})]})})]}),(0,B.jsx)(A.S_,{count:U.length,page:z.page,rowsPerPage:z.rowsPerPage,onPageChange:z.onChangePage,onRowsPerPageChange:z.onChangeRowsPerPage,dense:z.dense,onChangeDense:z.onChangeDense})]})]}),(0,B.jsx)(I.Q,{open:N.value,onClose:N.onFalse,title:"Delete",content:(0,B.jsxs)(B.Fragment,{children:["Are you sure want to delete"," ",(0,B.jsxs)("strong",{children:[" ",z.selected.length," "]})," items?"]}),action:(0,B.jsx)(j.Z,{variant:"contained",color:"error",onClick:function(){ie(),N.onFalse()},children:"Delete"})})]})}var ve=[{id:"invoiceNumber",label:"Customer"},{id:"createDate",label:"Create"},{id:"dueDate",label:"Due"},{id:"price",label:"Amount"},{id:"sent",label:"Sent",align:"center"},{id:"status",label:"Status"}],ye={name:"",service:[],status:"all",startDate:null,endDate:null};function Ze(){var e=(0,c.Z)(),t=(0,T.K$)(),n=(0,C.tv)(),s=(0,A.x6)({defaultOrderBy:"createDate"}),z=(0,P.k)(),N=(0,a.useState)(k.Ot),O=(0,i.Z)(N,2),E=O[0],H=O[1],M=(0,a.useState)(ye),L=(0,i.Z)(M,2),$=L[0],Q=L[1],K=$.startDate,U=$.endDate,X=null!==K&&null!==U,J=!(!$.startDate||!$.endDate)&&$.startDate.getTime()>$.endDate.getTime(),Y=function(e){var t=e.inputData,n=e.comparator,l=e.filters,r=e.dateError,i=l.name,s=l.status,o=l.service,a=l.startDate,c=l.endDate,d=t.map((function(e,t){return[e,t]}));d.sort((function(e,t){var l=n(e[0],t[0]);return 0!==l?l:e[1]-t[1]})),t=d.map((function(e){return e[0]})),i&&(t=t.filter((function(e){return-1!==e.invoiceNumber.toLowerCase().indexOf(i.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(i.toLowerCase())})));"all"!==s&&(t=t.filter((function(e){return e.status===s})));o.length&&(t=t.filter((function(e){return e.items.some((function(e){return o.includes(e.service)}))})));r||a&&c&&(t=t.filter((function(e){return(0,S.IO)(e.createDate)>=(0,S.IO)(a)&&(0,S.IO)(e.createDate)<=(0,S.IO)(c)})));return t}({inputData:E,comparator:(0,A.sQ)(s.order,s.orderBy),filters:$,dateError:J}),ne=Y.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage),le=s.dense?56:76,re=!!$.name||!!$.service.length||"all"!==$.status||!!$.startDate&&!!$.endDate,se=!Y.length&&re||!Y.length,oe=function(e){return E.filter((function(t){return t.status===e})).length},ae=function(e){return o()(E.filter((function(t){return t.status===e})),"totalAmount")},ce=function(e){return oe(e)/E.length*100},de=[{value:"all",label:"All",color:"default",count:E.length},{value:"paid",label:"Paid",color:"success",count:oe("paid")},{value:"pending",label:"Pending",color:"warning",count:oe("pending")},{value:"overdue",label:"Overdue",color:"error",count:oe("overdue")},{value:"draft",label:"Draft",color:"default",count:oe("draft")}],ue=(0,a.useCallback)((function(e,t){s.onResetPage(),Q((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,l.Z)({},e,t))}))}),[s]),he=(0,a.useCallback)((function(e){var t=E.filter((function(t){return t.id!==e}));H(t),s.onUpdatePageDeleteRow(ne.length)}),[ne.length,s,E]),pe=(0,a.useCallback)((function(){var e=E.filter((function(e){return!s.selected.includes(e.id)}));H(e),s.onUpdatePageDeleteRows({totalRows:E.length,totalRowsInPage:ne.length,totalRowsFiltered:Y.length})}),[Y.length,ne.length,s,E]),me=(0,a.useCallback)((function(e){n.push(w.H.dashboard.invoice.edit(e))}),[n]),je=(0,a.useCallback)((function(e){n.push(w.H.dashboard.invoice.details(e))}),[n]),fe=(0,a.useCallback)((function(e,t){ue("status",t)}),[ue]),ge=(0,a.useCallback)((function(){Q(ye)}),[]),Ze=o()(Y,"subTotal"),we=Y.length/E.length*100;return console.log(e),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(b.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,B.jsx)(_.Z,{heading:"Transactions",links:[{name:"Dashboard",href:w.H.dashboard.root},{name:"Transactions"}],action:(0,B.jsx)(j.Z,{component:D.r,href:w.H.dashboard.invoice.new,variant:"contained",children:"Request Payout"}),sx:{mb:{xs:3,md:5}}}),(0,B.jsx)(h.Z,{sx:{mb:{xs:3,md:5}},children:(0,B.jsx)(F.Z,{children:(0,B.jsxs)(m.Z,{direction:"row",divider:(0,B.jsx)(f.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,B.jsx)(q,{title:"Total",total:E.length,percent:100,price:o()(E,"totalAmount"),icon:"solar:bill-list-bold-duotone",color:e.palette.primary.main}),(0,B.jsx)(q,{title:"Filtered Total",total:Y.length,percent:we,price:Ze,icon:"lets-icons:filter",color:e.palette.info.main}),(0,B.jsx)(q,{title:"Paid",total:oe("paid"),percent:ce("paid"),price:ae("paid"),icon:"solar:file-check-bold-duotone",color:e.palette.success.main}),(0,B.jsx)(q,{title:"Pending",total:oe("pending"),percent:ce("pending"),price:ae("pending"),icon:"solar:sort-by-time-bold-duotone",color:e.palette.warning.main})]})})}),(0,B.jsxs)(h.Z,{children:[(0,B.jsx)(x.Z,{value:$.status,onChange:fe,sx:{px:2.5,boxShadow:"inset 0 -2px 0 0 ".concat((0,d.Fq)(e.palette.grey[500],.08))},children:de.map((function(e){return(0,B.jsx)(u.Z,{value:e.value,label:e.label,iconPosition:"end",icon:(0,B.jsx)(R.Z,{variant:"all"===e.value||e.value===$.status?"filled":"soft",color:e.color,children:e.count})},e.value)}))}),(0,B.jsx)(ie,{filters:$,onFilters:ue,dateError:J,serviceOptions:k.PI.map((function(e){return e.name}))}),re&&(0,B.jsx)(xe,{filters:$,onFilters:ue,onResetFilters:ge,results:Y.length,sx:{p:2.5,pt:0}}),(0,B.jsxs)(Z.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,B.jsx)(A.Z4,{dense:s.dense,numSelected:s.selected.length,rowCount:E.length,onSelectAllRows:function(e){return s.onSelectAllRows(e,E.map((function(e){return e.id})))},action:(0,B.jsxs)(m.Z,{direction:"row",children:[(0,B.jsx)(g.Z,{title:"Sent",children:(0,B.jsx)(y.Z,{color:"primary",children:(0,B.jsx)(G.Z,{icon:"iconamoon:send-fill"})})}),(0,B.jsx)(g.Z,{title:"Download",children:(0,B.jsx)(y.Z,{color:"primary",children:(0,B.jsx)(G.Z,{icon:"eva:download-outline"})})}),(0,B.jsx)(g.Z,{title:"Print",children:(0,B.jsx)(y.Z,{color:"primary",children:(0,B.jsx)(G.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,B.jsx)(g.Z,{title:"Delete",children:(0,B.jsx)(y.Z,{color:"primary",onClick:z.onTrue,children:(0,B.jsx)(G.Z,{icon:"solar:trash-bin-trash-bold"})})})]})}),(0,B.jsx)(F.Z,{children:(0,B.jsxs)(p.Z,{size:s.dense?"small":"medium",sx:{minWidth:800},children:[(0,B.jsx)(A.K,{order:s.order,orderBy:s.orderBy,headLabel:ve,rowCount:E.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:function(e){return s.onSelectAllRows(e,E.map((function(e){return e.id})))}}),(0,B.jsxs)(v.Z,{children:[Y.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map((function(e){return(0,B.jsx)(V,{row:e,selected:s.selected.includes(e.id),onSelectRow:function(){return s.onSelectRow(e.id)},onViewRow:function(){return je(e.id)},onEditRow:function(){return me(e.id)},onDeleteRow:function(){return he(e.id)}},e.id)})),(0,B.jsx)(A.$W,{height:le,emptyRows:(0,A.fQ)(s.page,s.rowsPerPage,E.length)}),(0,B.jsx)(A.et,{notFound:se})]})]})})]}),(0,B.jsx)(A.S_,{count:Y.length,page:s.page,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,onRowsPerPageChange:s.onChangeRowsPerPage,dense:s.dense,onChangeDense:s.onChangeDense})]})]}),(0,B.jsx)(I.Q,{open:z.value,onClose:z.onFalse,title:"Delete",content:(0,B.jsxs)(B.Fragment,{children:["Are you sure want to delete"," ",(0,B.jsxs)("strong",{children:[" ",s.selected.length," "]})," items?"]}),action:(0,B.jsx)(j.Z,{variant:"contained",color:"error",onClick:function(){pe(),z.onFalse()},children:"Delete"})}),(0,B.jsx)(ee.Z,{fullScreen:!0,open:X,children:(0,B.jsxs)(W.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,B.jsx)(te.Z,{sx:{p:1.5},children:(0,B.jsx)(j.Z,{color:"inherit",onClick:function(){Q((function(e){return(0,r.Z)((0,r.Z)({},e),{},{startDate:null,endDate:null})}))},children:(0,B.jsx)(G.Z,{icon:"zondicons:close-solid",color:"red"})})}),(0,B.jsx)(W.Z,{sx:{flexGrow:1,height:1,paddingBottom:"150px",overflowX:"auto !important"},children:(0,B.jsx)(be,{data:Y,startDate:K,endDate:U})})]})})]})}var we=n(74165),Ce=n(15861),De=n(8007),Pe=n(61134),Se=n(44695),ke=n(12258),Re=n(39231),Ge=n(87151),Fe=n.n(Ge),Ie=n(55891);function Te(){var e=(0,Pe.Gc)(),t=e.control,n=e.setValue,i=e.watch,s=e.resetField,o=(0,Pe.Dq)({control:t,name:"items"}),c=o.fields,d=o.append,u=o.remove,x=i(),h=x.items.map((function(e){return e.quantity*e.price})),p=Fe()(h),g=p-x.discount-x.shipping+x.taxes;(0,a.useEffect)((function(){n("totalAmount",g)}),[n,g]);var b=(0,a.useCallback)((function(e){s("items[".concat(e,"].quantity")),s("items[".concat(e,"].price")),s("items[".concat(e,"].total"))}),[s]),v=(0,a.useCallback)((function(e,t){var l;n("items[".concat(e,"].price"),null===(l=k.PI.find((function(e){return e.name===t})))||void 0===l?void 0:l.price),n("items[".concat(e,"].total"),x.items.map((function(e){return e.quantity*e.price}))[e])}),[n,x.items]),y=(0,a.useCallback)((function(e,t){n("items[".concat(t,"].quantity"),Number(e.target.value)),n("items[".concat(t,"].total"),x.items.map((function(e){return e.quantity*e.price}))[t])}),[n,x.items]),Z=(0,a.useCallback)((function(e,t){n("items[".concat(t,"].price"),Number(e.target.value)),n("items[".concat(t,"].total"),x.items.map((function(e){return e.quantity*e.price}))[t])}),[n,x.items]),w=(0,B.jsxs)(m.Z,{spacing:2,alignItems:"flex-end",sx:{mt:3,textAlign:"right",typography:"body2"},children:[(0,B.jsxs)(m.Z,{direction:"row",children:[(0,B.jsx)(W.Z,{sx:{color:"text.secondary"},children:"Subtotal"}),(0,B.jsx)(W.Z,{sx:{width:160,typography:"subtitle2"},children:(0,O.e_)(p)||"-"})]}),(0,B.jsxs)(m.Z,{direction:"row",children:[(0,B.jsx)(W.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,B.jsx)(W.Z,{sx:(0,r.Z)({width:160},x.shipping&&{color:"error.main"}),children:x.shipping?"- ".concat((0,O.e_)(x.shipping)):"-"})]}),(0,B.jsxs)(m.Z,{direction:"row",children:[(0,B.jsx)(W.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,B.jsx)(W.Z,{sx:(0,r.Z)({width:160},x.discount&&{color:"error.main"}),children:x.discount?"- ".concat((0,O.e_)(x.discount)):"-"})]}),(0,B.jsxs)(m.Z,{direction:"row",children:[(0,B.jsx)(W.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,B.jsx)(W.Z,{sx:{width:160},children:x.taxes?(0,O.e_)(x.taxes):"-"})]}),(0,B.jsxs)(m.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,B.jsx)(W.Z,{children:"Total"}),(0,B.jsx)(W.Z,{sx:{width:160},children:(0,O.e_)(g)||"-"})]})]});return(0,B.jsxs)(W.Z,{sx:{p:3},children:[(0,B.jsx)(z.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"Details:"}),(0,B.jsx)(m.Z,{divider:(0,B.jsx)(f.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:c.map((function(e,t){return(0,B.jsxs)(m.Z,{alignItems:"flex-end",spacing:1.5,children:[(0,B.jsxs)(m.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1},children:[(0,B.jsx)(Re.au,{size:"small",name:"items[".concat(t,"].title"),label:"Title",InputLabelProps:{shrink:!0}}),(0,B.jsx)(Re.au,{size:"small",name:"items[".concat(t,"].description"),label:"Description",InputLabelProps:{shrink:!0}}),(0,B.jsxs)(Re.Cc,{name:"items[".concat(t,"].service"),size:"small",label:"Service",InputLabelProps:{shrink:!0},sx:{maxWidth:{md:160}},children:[(0,B.jsx)(X.Z,{value:"",onClick:function(){return b(t)},sx:{fontStyle:"italic",color:"text.secondary"},children:"None"}),(0,B.jsx)(f.Z,{sx:{borderStyle:"dashed"}}),k.PI.map((function(e){return(0,B.jsx)(X.Z,{value:e.name,onClick:function(){return v(t,e.name)},children:e.name},e.id)}))]}),(0,B.jsx)(Re.au,{size:"small",type:"number",name:"items[".concat(t,"].quantity"),label:"Quantity",placeholder:"0",onChange:function(e){return y(e,t)},InputLabelProps:{shrink:!0},sx:{maxWidth:{md:96}}}),(0,B.jsx)(Re.au,{size:"small",type:"number",name:"items[".concat(t,"].price"),label:"Price",placeholder:"0.00",onChange:function(e){return Z(e,t)},InputProps:{startAdornment:(0,B.jsx)(Y.Z,{position:"start",children:(0,B.jsx)(W.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:{maxWidth:{md:96}}}),(0,B.jsx)(Re.au,{disabled:!0,size:"small",type:"number",name:"items[".concat(t,"].total"),label:"Total",placeholder:"0.00",value:0===x.items[t].total?"":x.items[t].total.toFixed(2),onChange:function(e){return Z(e,t)},InputProps:{startAdornment:(0,B.jsx)(Y.Z,{position:"start",children:(0,B.jsx)(W.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:(0,l.Z)({maxWidth:{md:104}},"& .".concat(Ie.Z.input),{textAlign:{md:"right"}})})]}),(0,B.jsx)(j.Z,{size:"small",color:"error",startIcon:(0,B.jsx)(G.Z,{icon:"solar:trash-bin-trash-bold"}),onClick:function(){return function(e){u(e)}(t)},children:"Remove"})]},e.id)}))}),(0,B.jsx)(f.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,B.jsxs)(m.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[(0,B.jsx)(j.Z,{size:"small",color:"primary",startIcon:(0,B.jsx)(G.Z,{icon:"mingcute:add-line"}),onClick:function(){d({title:"",description:"",service:"",quantity:1,price:0,total:0})},sx:{flexShrink:0},children:"Add Item"}),(0,B.jsxs)(m.Z,{spacing:2,justifyContent:"flex-end",direction:{xs:"column",md:"row"},sx:{width:1},children:[(0,B.jsx)(Re.au,{size:"small",label:"Shipping($)",name:"shipping",type:"number",sx:{maxWidth:{md:120}}}),(0,B.jsx)(Re.au,{size:"small",label:"Discount($)",name:"discount",type:"number",sx:{maxWidth:{md:120}}}),(0,B.jsx)(Re.au,{size:"small",label:"Taxes(%)",name:"taxes",type:"number",sx:{maxWidth:{md:120}}})]})]}),w]})}var _e=n(38887),Ae=n(21435);function We(){var e,t=(0,Pe.Gc)(),n=t.watch,l=t.setValue,r=t.formState.errors,i=(0,_e.F)("up","md"),s=n(),o=s.invoiceFrom,a=s.invoiceTo,c=(0,P.k)(),d=(0,P.k)();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(m.Z,{spacing:{xs:3,md:5},direction:{xs:"column",md:"row"},divider:(0,B.jsx)(f.Z,{flexItem:!0,orientation:i?"vertical":"horizontal",sx:{borderStyle:"dashed"}}),sx:{p:3},children:[(0,B.jsxs)(m.Z,{sx:{width:1},children:[(0,B.jsxs)(m.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,B.jsx)(z.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"From:"}),(0,B.jsx)(y.Z,{onClick:c.onTrue,children:(0,B.jsx)(G.Z,{icon:"solar:pen-bold"})})]}),(0,B.jsxs)(m.Z,{spacing:1,children:[(0,B.jsx)(z.Z,{variant:"subtitle2",children:o.name}),(0,B.jsx)(z.Z,{variant:"body2",children:o.fullAddress}),(0,B.jsxs)(z.Z,{variant:"body2",children:[" ",o.phoneNumber]})]})]}),(0,B.jsxs)(m.Z,{sx:{width:1},children:[(0,B.jsxs)(m.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,B.jsx)(z.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"To:"}),(0,B.jsx)(y.Z,{onClick:d.onTrue,children:(0,B.jsx)(G.Z,{icon:a?"solar:pen-bold":"mingcute:add-line"})})]}),a?(0,B.jsxs)(m.Z,{spacing:1,children:[(0,B.jsx)(z.Z,{variant:"subtitle2",children:a.name}),(0,B.jsx)(z.Z,{variant:"body2",children:a.fullAddress}),(0,B.jsxs)(z.Z,{variant:"body2",children:[" ",a.phoneNumber]})]}):(0,B.jsx)(z.Z,{typography:"caption",sx:{color:"error.main"},children:null===(e=r.invoiceTo)||void 0===e?void 0:e.message})]})]}),(0,B.jsx)(Ae.IJ,{title:"Customers",open:c.value,onClose:c.onFalse,selected:function(e){return(null===o||void 0===o?void 0:o.id)===e},onSelect:function(e){return l("invoiceFrom",e)},list:k.PX,action:(0,B.jsx)(j.Z,{size:"small",startIcon:(0,B.jsx)(G.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})}),(0,B.jsx)(Ae.IJ,{title:"Customers",open:d.value,onClose:d.onFalse,selected:function(e){return(null===a||void 0===a?void 0:a.id)===e},onSelect:function(e){return l("invoiceTo",e)},list:k.PX,action:(0,B.jsx)(j.Z,{size:"small",startIcon:(0,B.jsx)(G.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}function ze(){var e=(0,Pe.Gc)(),t=e.control,n=(0,e.watch)();return(0,B.jsxs)(m.Z,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3,bgcolor:"background.neutral"},children:[(0,B.jsx)(Re.au,{disabled:!0,name:"invoiceNumber",label:"Invoice number",value:n.invoiceNumber}),(0,B.jsx)(Re.Cc,{fullWidth:!0,name:"status",label:"Status",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["paid","pending","overdue","draft"].map((function(e){return(0,B.jsx)(X.Z,{value:e,children:e},e)}))}),(0,B.jsx)(Pe.Qr,{name:"createDate",control:t,render:function(e){var t=e.field,n=e.fieldState.error;return(0,B.jsx)(U.M,{label:"Date create",value:t.value,onChange:function(e){t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}}),(0,B.jsx)(Pe.Qr,{name:"dueDate",control:t,render:function(e){var t=e.field,n=e.fieldState.error;return(0,B.jsx)(U.M,{label:"Due date",value:t.value,onChange:function(e){t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}})]})}function Ne(e){var t=e.currentInvoice,n=(0,C.tv)(),l=(0,P.k)(),r=(0,P.k)(),i=De.Ry().shape({invoiceTo:De.nK().nullable().required("Invoice to is required"),createDate:De.nK().nullable().required("Create date is required"),dueDate:De.nK().required("Due date is required").test("date-min","Due date must be later than create date",(function(e,t){var n=t.parent;return e.getTime()>n.createDate.getTime()})),taxes:De.Rx(),status:De.Z_(),discount:De.Rx(),shipping:De.Rx(),invoiceFrom:De.nK(),totalAmount:De.Rx(),invoiceNumber:De.Z_()}),s=(0,a.useMemo)((function(){return{invoiceNumber:(null===t||void 0===t?void 0:t.invoiceNumber)||"INV-1990",createDate:(null===t||void 0===t?void 0:t.createDate)||new Date,dueDate:(null===t||void 0===t?void 0:t.dueDate)||null,taxes:(null===t||void 0===t?void 0:t.taxes)||0,shipping:(null===t||void 0===t?void 0:t.shipping)||0,status:(null===t||void 0===t?void 0:t.status)||"draft",discount:(null===t||void 0===t?void 0:t.discount)||0,invoiceFrom:(null===t||void 0===t?void 0:t.invoiceFrom)||k.PX[0],invoiceTo:(null===t||void 0===t?void 0:t.invoiceTo)||null,items:(null===t||void 0===t?void 0:t.items)||[{title:"",description:"",service:"",quantity:1,price:0,total:0}],totalAmount:(null===t||void 0===t?void 0:t.totalAmount)||0}}),[t]),o=(0,Pe.cI)({resolver:(0,Se.X)(i),defaultValues:s}),c=o.reset,d=o.handleSubmit,u=o.formState.isSubmitting,x=d(function(){var e=(0,Ce.Z)((0,we.Z)().mark((function e(t){return(0,we.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.onTrue(),e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:c(),l.onFalse(),n.push(w.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(t,null,2)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),l.onFalse();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),p=d(function(){var e=(0,Ce.Z)((0,we.Z)().mark((function e(t){return(0,we.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.onTrue(),e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:c(),r.onFalse(),n.push(w.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(t,null,2)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),r.onFalse();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}());return(0,B.jsxs)(Re.ZP,{methods:o,children:[(0,B.jsxs)(h.Z,{children:[(0,B.jsx)(We,{}),(0,B.jsx)(ze,{}),(0,B.jsx)(Te,{})]}),(0,B.jsxs)(m.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:[(0,B.jsx)(ke.Z,{color:"inherit",size:"large",variant:"outlined",loading:l.value&&u,onClick:x,children:"Save as Draft"}),(0,B.jsxs)(ke.Z,{size:"large",variant:"contained",loading:r.value&&u,onClick:p,children:[t?"Update":"Create"," & Send"]})]})]})}function Oe(e){var t=e.id,n=(0,T.K$)(),l=k.Ot.find((function(e){return e.id===t}));return(0,B.jsxs)(b.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,B.jsx)(_.Z,{heading:"Edit",links:[{name:"Dashboard",href:w.H.dashboard.root},{name:"Invoice",href:w.H.dashboard.invoice.root},{name:null===l||void 0===l?void 0:l.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,B.jsx)(Ne,{currentInvoice:l})]})}function Be(){var e=(0,T.K$)();return(0,B.jsxs)(b.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,B.jsx)(_.Z,{heading:"Create a new invoice",links:[{name:"Dashboard",href:w.H.dashboard.root},{name:"Invoice",href:w.H.dashboard.invoice.root},{name:"New Invoice"}],sx:{mb:{xs:3,md:5}}}),(0,B.jsx)(Ne,{})]})}(0,n(66934).ZP)(L.Z)((function(e){var t=e.theme;return{"& td":{textAlign:"right",borderBottom:"none",paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}}))}}]);
//# sourceMappingURL=3939.adce34a9.chunk.js.map