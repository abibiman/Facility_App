"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[8494],{88494:function(e,r,n){n.d(r,{Gh:function(){return N},QS:function(){return q},HD:function(){return W},$y:function(){return z},rZ:function(){return H},jD:function(){return V}});var t=n(74165),i=n(15861),s=n(29439),a=n(8007),o=n(61134),l=n(72791),c=n(44695),d=n(12258),u=n(50533),h=n(63515),p=n(36314),x=n(13400),m=n(4567),f=n(63466),g=n(38072),Z=n(83854),v=n(19208),j=n(33805),b=n(22459),w=n(32869),y=n(8976),P=n(40268),S=n(39231),k=n(80184);function q(){var e=(0,y.E)().login,r=(0,w.Ds)().enqueueSnackbar,n=(0,v.tv)(),q=(0,l.useState)(""),R=(0,s.Z)(q,2),D=R[0],I=(R[1],(0,v.lr)().get("returnTo")),C=(0,b.k)(),_=a.Ry().shape({email:a.Z_().required("Email Or Phone Number is required"),password:a.Z_().required("Password is required")}),z=(0,o.cI)({resolver:(0,c.X)(_),defaultValues:{email:"",password:""}}),E=z.reset,N=z.handleSubmit,F=z.formState.isSubmitting,H=N(function(){var s=(0,i.Z)((0,t.Z)().mark((function i(s){var a;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===e||void 0===e?void 0:e(s.email,s.password);case 3:a=t.sent,"completed"!==a.data.data.onBoarding?n.push(g.H.onboarding):n.push(I||j.wd),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),r(t.t0.response.data.message),E();case 12:case"end":return t.stop()}}),i,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()),A=(0,k.jsxs)(p.Z,{spacing:2,sx:{mb:5},children:[(0,k.jsx)(m.Z,{variant:"h4",children:"Sign in to Telical"}),(0,k.jsxs)(p.Z,{direction:"row",spacing:.5,children:[(0,k.jsx)(m.Z,{variant:"body2",children:"New user?"}),(0,k.jsx)(u.Z,{component:Z.r,href:g.H.auth.jwt.register,variant:"subtitle2",children:"Create an account"})]})]}),L=(0,k.jsxs)(p.Z,{spacing:2.5,children:[!!D&&(0,k.jsx)(h.Z,{severity:"error",children:D}),(0,k.jsx)(S.au,{name:"email",label:"Email address or Phone Number"}),(0,k.jsx)(S.au,{name:"password",label:"Password",type:C.value?"text":"password",InputProps:{endAdornment:(0,k.jsx)(f.Z,{position:"end",children:(0,k.jsx)(x.Z,{onClick:C.onToggle,edge:"end",children:(0,k.jsx)(P.Z,{icon:C.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,k.jsx)(u.Z,{variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},href:"forgot-password",children:"Forgot password?"}),(0,k.jsx)(d.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:F,children:"Login"})]});return(0,k.jsxs)(S.ZP,{methods:z,onSubmit:H,children:[A,L]})}var R=n(57689),D=n(58406),I=n(61889),C=n(82626),_=n(66964);function z(){var e=(0,y.E)().register,r=((0,v.tv)(),(0,l.useState)("")),n=(0,s.Z)(r,2),j=n[0],q=n[1],z=((0,v.lr)().get("returnTo"),(0,R.s0)()),E=(0,b.k)(),N=(0,w.Ds)().enqueueSnackbar,F=(0,l.useState)(""),H=(0,s.Z)(F,2),A=H[0],L=H[1],T=a.Ry().shape({firstName:a.Z_().required("First name required"),lastName:a.Z_().required("Last name required"),email:a.Z_().required("Email is required").email("Email must be a valid email address"),password:a.Z_().required("Password is required"),confirmPassword:a.Z_().required("Confirm Password is required"),phone:a.Z_().required("Phone number is required").matches(/^\+\d+(\s\d+)*$/,"Invalid phone number")}),V=(0,o.cI)({resolver:(0,c.X)(T),defaultValues:{firstName:"",lastName:"",email:"",password:"",phone:""}}),W=V.reset,X=V.handleSubmit,M=V.formState.isSubmitting;(0,l.useEffect)((function(){var e=_.h.find((function(e){return e.code===A}));e&&V.setValue("phone","+".concat(e.phone," "))}),[A,V]);var B=X(function(){var r=(0,i.Z)((0,t.Z)().mark((function r(n){var i,s;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n.password!==n.confirmPassword){r.next=8;break}return r.next=4,null===e||void 0===e?void 0:e(n.email,n.password,n.firstName,n.lastName,n.phone);case 4:r.sent?(N("Registration successful"),z(g.H.auth.jwt.otpVerify)):q("Registration failed"),r.next=9;break;case 8:q("Passwords do not match");case 9:r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),W(),N(null===(i=r.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()),G=(0,k.jsxs)(p.Z,{spacing:2,sx:{mb:5,position:"relative"},children:[(0,k.jsx)(m.Z,{variant:"h4",children:"Get started absolutely free"}),(0,k.jsxs)(p.Z,{direction:"row",spacing:.5,children:[(0,k.jsx)(m.Z,{variant:"body2",children:" Already have an account? "}),(0,k.jsx)(u.Z,{href:g.H.auth.jwt.login,component:Z.r,variant:"subtitle2",children:"Sign in"})]})]}),O=(0,k.jsxs)(m.Z,{component:"div",sx:{color:"text.secondary",mt:2.5,typography:"caption",textAlign:"center"},children:["By signing up, I agree to ",(0,k.jsx)(u.Z,{underline:"always",color:"text.primary",children:"Terms of Service"})," and ",(0,k.jsx)(u.Z,{underline:"always",color:"text.primary",children:"Privacy Policy"}),"."]}),Y=(0,k.jsx)(S.ZP,{methods:V,onSubmit:B,children:(0,k.jsxs)(p.Z,{spacing:2.5,children:[!!j&&(0,k.jsx)(h.Z,{severity:"error",children:j}),(0,k.jsxs)(p.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,k.jsx)(S.au,{name:"firstName",label:"First name"}),(0,k.jsx)(S.au,{name:"lastName",label:"Last name"})]}),(0,k.jsx)(S.au,{name:"email",label:"Email address"}),(0,k.jsx)(S.au,{name:"phone",label:"Phone Number",InputProps:{startAdornment:(0,k.jsx)(f.Z,{position:"start",children:(0,k.jsxs)(D.Z,{value:A,onChange:function(e){return L(e.target.value)},sx:{padding:"8px",display:"flex",flexDirection:"row",height:"40px",border:"none"},renderValue:function(e){var r=_.h.find((function(r){return r.code===e}));if(r){var n=r.code;return(0,k.jsx)(p.Z,{container:!0,alignItems:"center",sx:{display:"flex",flexDirection:"row !important"},children:(0,k.jsx)(I.ZP,{item:!0,children:(0,k.jsx)(P.Z,{icon:"circle-flags:".concat(n.toLowerCase()),width:28,sx:{mr:1}})})})}return null},children:[(0,k.jsx)(C.Z,{value:"",disabled:!0,children:"Select Country"}),_.h.map((function(e){var r=e.code,n=e.label,t=e.phone;return(0,k.jsx)(C.Z,{value:r,children:(0,k.jsxs)(p.Z,{container:!0,alignItems:"center",sx:{display:"flex",flexDirection:"row !important"},children:[(0,k.jsx)(I.ZP,{item:!0,children:(0,k.jsx)(P.Z,{icon:"circle-flags:".concat(r.toLowerCase()),width:28,sx:{mr:1}})}),(0,k.jsx)(I.ZP,{item:!0,children:"".concat(n," +").concat(t," ")})]})},r)}))]})})}}),(0,k.jsx)(S.au,{name:"password",label:"Password",type:E.value?"text":"password",InputProps:{endAdornment:(0,k.jsx)(f.Z,{position:"end",children:(0,k.jsx)(x.Z,{onClick:E.onToggle,edge:"end",children:(0,k.jsx)(P.Z,{icon:E.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,k.jsx)(S.au,{name:"confirmPassword",label:"Confirm Password",type:E.value?"text":"password",InputProps:{endAdornment:(0,k.jsx)(f.Z,{position:"end",children:(0,k.jsx)(x.Z,{onClick:E.onToggle,edge:"end",children:(0,k.jsx)(P.Z,{icon:E.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,k.jsx)(d.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:M,children:"Create account"})]})});return(0,k.jsxs)(k.Fragment,{children:[G,Y,O]})}var E=n(2102);function N(){var e=(0,v.tv)(),r=a.Ry().shape({email:a.Z_().required("Email is required").email("Email must be a valid email address")}),n=(0,o.cI)({resolver:(0,c.X)(r),defaultValues:{email:""}}),s=n.handleSubmit,l=n.formState.isSubmitting,h=s(function(){var r=(0,i.Z)((0,t.Z)().mark((function r(n){var i,s,a,o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,E.Z.post("/users/forget-password",{email:n.email});case 3:i=r.sent,s=i.data.authorization,a=new URLSearchParams({email:n.email,authorization:s}).toString(),o="".concat(g.H.auth.jwt.resetPassword,"?").concat(a),e.push(o),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()),x=(0,k.jsxs)(p.Z,{spacing:3,alignItems:"center",children:[(0,k.jsx)(S.au,{name:"email",label:"Email address"}),(0,k.jsx)(d.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:l,children:"Send Request"}),(0,k.jsxs)(u.Z,{component:Z.r,href:g.H.auth.jwt.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[(0,k.jsx)(P.Z,{icon:"eva:arrow-ios-back-fill",width:16}),"Return to sign in"]})]}),f=(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(p.Z,{spacing:1,sx:{my:5},children:[(0,k.jsx)(m.Z,{variant:"h3",children:"Forgot your password?"}),(0,k.jsx)(m.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Enter your account's email, and we'll send a password reset link."})]})});return(0,k.jsxs)(S.ZP,{methods:n,onSubmit:h,children:[f,x]})}var F=n(48550);function H(){var e=(0,v.lr)(),r=e.get("email"),n=(0,w.Ds)().enqueueSnackbar,h=e.get("authorization"),x=a.Ry().shape({email:a.Z_().required("Email is required").email("Email must be a valid email address"),newPassword:a.Z_().required("Password is required"),confirmPassword:a.Z_().required("Password confirmation is required")}),f=(0,o.cI)({resolver:(0,c.X)(x),defaultValues:{newPassword:"",confirmPassword:""}}),j=(0,l.useState)(""),b=(0,s.Z)(j,2),y=b[0],q=b[1],R=(0,l.useState)(""),D=(0,s.Z)(R,2),I=D[0],C=D[1],_=(0,l.useState)(!1),z=(0,s.Z)(_,2),N=z[0],H=z[1],A=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(i){var s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!1),s={email:r,confirmPassword:I,newPassword:y},e.prev=2,y!==I){e.next=11;break}return e.next=6,E.Z.post("/users/user-reset-password",s,{headers:{authorization:h}});case 6:a=e.sent,H(!0),C(""),q(""),console.log(a);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n(e.t0.response.data.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(r){return e.apply(this,arguments)}}(),L=(0,k.jsxs)(p.Z,{spacing:3,alignItems:"center",children:[(0,k.jsx)(F.Z,{autoFocus:!0,fullWidth:!0,type:"text",margin:"dense",variant:"outlined",label:"New Password",value:y,onChange:function(e){return q(e.target.value)}}),(0,k.jsx)(F.Z,{autoFocus:!0,fullWidth:!0,type:"email",margin:"dense",variant:"outlined",label:"Confirm Password",value:I,onChange:function(e){return C(e.target.value)}}),(0,k.jsx)(d.Z,{fullWidth:!0,size:"large",variant:"contained",onClick:A,children:"Reset my password"}),(0,k.jsxs)(u.Z,{component:Z.r,href:g.H.auth.jwt.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[(0,k.jsx)(P.Z,{icon:"eva:arrow-ios-back-fill",width:16}),"Return to sign in"]})]}),T=(0,k.jsx)(p.Z,{spacing:1,sx:{my:5},children:(0,k.jsx)(m.Z,{variant:"h3",children:"Reset your password"})}),V=(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(p.Z,{spacing:1,sx:{my:5},children:[(0,k.jsx)(m.Z,{variant:"h3",children:"Successful password reset"}),(0,k.jsx)(m.Z,{variant:"body5",sx:{color:"text.secondary"},children:"You can now login to your account with your new password."}),(0,k.jsx)(d.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",href:g.H.auth.jwt.login,sx:{marginTop:"15px"},children:"Login"})]})});return(0,k.jsx)(S.ZP,{methods:f,children:N?V:(0,k.jsxs)(k.Fragment,{children:[T,L]})})}var A=n(64554),L=n(5849),T=n(80237);function V(){var e=(0,v.lr)().get("email"),r=(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(T.yj,{sx:{mb:5,height:96}}),(0,k.jsx)(m.Z,{variant:"h3",sx:{mb:1},children:"Please check your email!"}),(0,k.jsxs)(p.Z,{spacing:1,sx:{color:"text.secondary",typography:"body2",mb:5},children:[(0,k.jsx)(A.Z,{component:"span",children:" We have sent a confirmation link to"}),(0,k.jsx)(A.Z,{component:"strong",sx:{color:"text.primary"},children:e}),(0,k.jsx)(A.Z,{component:"div",children:"Please check your inbox/spam."})]})]});return(0,k.jsxs)(k.Fragment,{children:[r,(0,k.jsx)(L.Z,{component:Z.r,href:g.H.auth.jwt.login,size:"large",color:"inherit",variant:"contained",startIcon:(0,k.jsx)(P.Z,{icon:"eva:arrow-ios-back-fill"}),sx:{alignSelf:"center"},children:"Return to sign in"})]})}n(57459);function W(){var e=(0,w.Ds)().enqueueSnackbar,r=(0,v.tv)(),n=(0,l.useState)(""),x=(0,s.Z)(n,2),f=x[0],j=x[1],b=(0,v.lr)().get("returnTo"),y=sessionStorage.getItem("email-temporary"),P=(0,l.useRef)(),q=(0,l.useRef)(),R=(0,l.useRef)(),D=(0,l.useRef)(),I=a.Ry().shape({}),C=(0,o.cI)({resolver:(0,c.X)(I)}),_=C.reset,z=C.handleSubmit,N=C.formState.isSubmitting,F=z(function(){var n=(0,i.Z)((0,t.Z)().mark((function n(i){var s,a,o,l,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=i.firstDigit,a=i.secondDigit,o=i.thirdDigit,l=i.fourthDigit,console.log(i),n.prev=2,n.next=5,E.Z.post("/users/tests/verify-otp",{email:y,otp:"".concat(s).concat(a).concat(o).concat(l)});case 5:c=n.sent,console.log("OTP Verified:",c),r.push(b||g.H.auth.jwt.login),n.next=16;break;case 10:n.prev=10,n.t0=n.catch(2),console.error(n.t0),j("string"===typeof n.t0?n.t0:n.t0.response.data.message),e("There seems to be an issue verifying your account"),_();case 16:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()),H=(0,k.jsxs)(p.Z,{spacing:2,sx:{mb:5,px:1},children:[(0,k.jsx)(m.Z,{variant:"h4",children:"Verify Your Account"}),(0,k.jsx)(p.Z,{direction:"row",spacing:.5,children:(0,k.jsx)(m.Z,{variant:"body2",sx:{width:"100%"},children:"We sent you a four-digit code. Enter the code to confirm your email."})})]}),A=(0,k.jsxs)(p.Z,{spacing:2.5,children:[!!f&&(0,k.jsx)(h.Z,{severity:"error",children:f}),(0,k.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"row",gap:"10px",mb:"15px"},children:[(0,k.jsx)(S.au,{name:"firstDigit",type:"text",inputProps:{inputMode:"numeric",pattern:"[0-9]",maxLength:1,style:{textAlign:"center",fontSize:"16px",border:"1px solid #00000040",borderRadius:"8px"},ref:P},required:!0}),(0,k.jsx)(S.au,{name:"secondDigit",type:"text",inputProps:{inputMode:"numeric",pattern:"[0-9]",maxLength:1,style:{textAlign:"center",fontSize:"16px",border:"1px solid #00000040",borderRadius:"8px"},ref:q},required:!0}),(0,k.jsx)(S.au,{name:"thirdDigit",type:"text",inputProps:{inputMode:"numeric",pattern:"[0-9]",maxLength:1,style:{textAlign:"center",fontSize:"16px",border:"1px solid #00000040",borderRadius:"8px"},ref:R},required:!0}),(0,k.jsx)(S.au,{name:"fourthDigit",type:"text",inputProps:{inputMode:"numeric",pattern:"[0-9]",maxLength:1,style:{textAlign:"center",fontSize:"16px",border:"1px solid #00000040",borderRadius:"8px"},ref:D},required:!0})]}),(0,k.jsx)(d.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:N,"aria-label":"Verify",children:"Verify"}),(0,k.jsxs)(p.Z,{direction:"row",spacing:.5,children:[(0,k.jsx)(m.Z,{variant:"body2",children:"Didn't receive a code?"}),(0,k.jsx)(u.Z,{component:Z.r,href:g.H.auth.jwt.register,variant:"subtitle2",children:"Resend"})]})]});return(0,k.jsxs)(S.ZP,{methods:C,onSubmit:F,children:[H,A]})}}}]);
//# sourceMappingURL=8494.95c015dd.chunk.js.map