"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[2e3],{22476:function(e,t,n){n.d(t,{o:function(){return Ue},H2:function(){return Ke},Mb:function(){return Ae}});var i=n(4942),r=n(74165),l=n(1413),s=n(15861),o=n(29439),a=n(31357),c=n.n(a),d=n(72791),u=n(13967),x=n(12065),h=n(61474),p=n(2101),m=n(57621),j=n(79836),f=n(36314),g=n(5849),v=n(94721),b=n(20068),Z=n(89164),y=n(53382),w=n(13400),C=n(39281),D=n(38072),P=n(19208),S=n(83854),k=n(22459),R=n(9145),G=n(57062),F=n(80160),I=n(40268),_=n(47974),T=n(3352),A=n(60720),W=n(50933),z=n(1382),N=n(64554),O=n(4567),B=n(17070),q=n(32471),E=n(80184);function H(e){var t=e.title,n=e.total,i=e.icon,r=(e.color,e.percent,e.price);return(0,E.jsxs)(f.Z,{spacing:2.5,direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,E.jsx)(f.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:(0,E.jsx)(q.Z,{alt:t,src:i,height:45,width:45})}),(0,E.jsxs)(f.Z,{spacing:.5,children:[(0,E.jsx)(O.Z,{variant:"subtitle1",children:t}),(0,E.jsxs)(N.Z,{component:"span",sx:{color:"text.disabled",typography:"body2"},children:[(0,B.v1)(n)," lab orders"]}),(0,E.jsxs)(O.Z,{variant:"subtitle2",children:["GH\u20b5 ",(0,B.e_)(r)]})]})]})}var L=n(53106),M=n(82626),V=n(48550),$=n(63466),Q=n(5574),K=n(97123),U=n(52115),X=n(96851);X.Zx.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});var J=function(){return(0,d.useMemo)((function(){return X.mM.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",padding:"40px 24px 120px 24px"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}})}),[])};function Y(e){var t=e.invoice,n=e.currentStatus,i=t.items,r=t.taxes,l=t.dueDate,s=t.discount,o=t.shipping,a=t.invoiceTo,c=t.createDate,d=t.totalAmount,u=t.invoiceFrom,x=t.invoiceNumber,h=t.subTotal,p=J();return(0,E.jsx)(X.BB,{children:(0,E.jsxs)(X.T3,{size:"A4",style:p.page,children:[(0,E.jsxs)(X.G7,{style:[p.gridContainer,p.mb40],children:[(0,E.jsx)(X.Ee,{source:"../../components/logo/logo-icon.png",style:{width:48,height:48}}),(0,E.jsxs)(X.G7,{style:{alignItems:"flex-end",flexDirection:"column"},children:[(0,E.jsx)(X.xv,{style:p.h3,children:n}),(0,E.jsxs)(X.xv,{children:[" ",x," "]})]})]}),(0,E.jsxs)(X.G7,{style:[p.gridContainer,p.mb40],children:[(0,E.jsxs)(X.G7,{style:p.col6,children:[(0,E.jsx)(X.xv,{style:[p.subtitle2,p.mb4],children:"Invoice from"}),(0,E.jsx)(X.xv,{style:p.body2,children:u.name}),(0,E.jsx)(X.xv,{style:p.body2,children:u.fullAddress}),(0,E.jsx)(X.xv,{style:p.body2,children:u.phoneNumber})]}),(0,E.jsxs)(X.G7,{style:p.col6,children:[(0,E.jsx)(X.xv,{style:[p.subtitle2,p.mb4],children:"Invoice to"}),(0,E.jsx)(X.xv,{style:p.body2,children:a.name}),(0,E.jsx)(X.xv,{style:p.body2,children:a.fullAddress}),(0,E.jsx)(X.xv,{style:p.body2,children:a.phoneNumber})]})]}),(0,E.jsxs)(X.G7,{style:[p.gridContainer,p.mb40],children:[(0,E.jsxs)(X.G7,{style:p.col6,children:[(0,E.jsx)(X.xv,{style:[p.subtitle2,p.mb4],children:"Date create"}),(0,E.jsx)(X.xv,{style:p.body2,children:(0,R.Mu)(c)})]}),(0,E.jsxs)(X.G7,{style:p.col6,children:[(0,E.jsx)(X.xv,{style:[p.subtitle2,p.mb4],children:"Due date"}),(0,E.jsx)(X.xv,{style:p.body2,children:(0,R.Mu)(l)})]})]}),(0,E.jsx)(X.xv,{style:[p.subtitle1,p.mb8],children:"Invoice Details"}),(0,E.jsxs)(X.G7,{style:p.table,children:[(0,E.jsx)(X.G7,{children:(0,E.jsxs)(X.G7,{style:p.tableRow,children:[(0,E.jsx)(X.G7,{style:p.tableCell_1,children:(0,E.jsx)(X.xv,{style:p.subtitle2,children:"#"})}),(0,E.jsx)(X.G7,{style:p.tableCell_2,children:(0,E.jsx)(X.xv,{style:p.subtitle2,children:"Description"})}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{style:p.subtitle2,children:"Qty"})}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{style:p.subtitle2,children:"Unit price"})}),(0,E.jsx)(X.G7,{style:[p.tableCell_3,p.alignRight],children:(0,E.jsx)(X.xv,{style:p.subtitle2,children:"Total"})})]})}),(0,E.jsxs)(X.G7,{children:[i.map((function(e,t){return(0,E.jsxs)(X.G7,{style:p.tableRow,children:[(0,E.jsx)(X.G7,{style:p.tableCell_1,children:(0,E.jsx)(X.xv,{children:t+1})}),(0,E.jsxs)(X.G7,{style:p.tableCell_2,children:[(0,E.jsx)(X.xv,{style:p.subtitle2,children:e.title}),(0,E.jsx)(X.xv,{children:e.description})]}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{children:e.quantity})}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{children:e.price})}),(0,E.jsx)(X.G7,{style:[p.tableCell_3,p.alignRight],children:(0,E.jsx)(X.xv,{children:(0,B.e_)(e.price*e.quantity)})})]},e.id)})),(0,E.jsxs)(X.G7,{style:[p.tableRow,p.noBorder],children:[(0,E.jsx)(X.G7,{style:p.tableCell_1}),(0,E.jsx)(X.G7,{style:p.tableCell_2}),(0,E.jsx)(X.G7,{style:p.tableCell_3}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{children:"Subtotal"})}),(0,E.jsx)(X.G7,{style:[p.tableCell_3,p.alignRight],children:(0,E.jsx)(X.xv,{children:(0,B.e_)(h)})})]}),(0,E.jsxs)(X.G7,{style:[p.tableRow,p.noBorder],children:[(0,E.jsx)(X.G7,{style:p.tableCell_1}),(0,E.jsx)(X.G7,{style:p.tableCell_2}),(0,E.jsx)(X.G7,{style:p.tableCell_3}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{children:"Shipping"})}),(0,E.jsx)(X.G7,{style:[p.tableCell_3,p.alignRight],children:(0,E.jsx)(X.xv,{children:(0,B.e_)(-o)})})]}),(0,E.jsxs)(X.G7,{style:[p.tableRow,p.noBorder],children:[(0,E.jsx)(X.G7,{style:p.tableCell_1}),(0,E.jsx)(X.G7,{style:p.tableCell_2}),(0,E.jsx)(X.G7,{style:p.tableCell_3}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{children:"Discount"})}),(0,E.jsx)(X.G7,{style:[p.tableCell_3,p.alignRight],children:(0,E.jsx)(X.xv,{children:(0,B.e_)(-s)})})]}),(0,E.jsxs)(X.G7,{style:[p.tableRow,p.noBorder],children:[(0,E.jsx)(X.G7,{style:p.tableCell_1}),(0,E.jsx)(X.G7,{style:p.tableCell_2}),(0,E.jsx)(X.G7,{style:p.tableCell_3}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{children:"Taxes"})}),(0,E.jsx)(X.G7,{style:[p.tableCell_3,p.alignRight],children:(0,E.jsx)(X.xv,{children:(0,B.e_)(r)})})]}),(0,E.jsxs)(X.G7,{style:[p.tableRow,p.noBorder],children:[(0,E.jsx)(X.G7,{style:p.tableCell_1}),(0,E.jsx)(X.G7,{style:p.tableCell_2}),(0,E.jsx)(X.G7,{style:p.tableCell_3}),(0,E.jsx)(X.G7,{style:p.tableCell_3,children:(0,E.jsx)(X.xv,{style:p.h4,children:"Total"})}),(0,E.jsx)(X.G7,{style:[p.tableCell_3,p.alignRight],children:(0,E.jsx)(X.xv,{style:p.h4,children:(0,B.e_)(d)})})]})]})]}),(0,E.jsxs)(X.G7,{style:[p.gridContainer,p.footer],fixed:!0,children:[(0,E.jsxs)(X.G7,{style:p.col8,children:[(0,E.jsx)(X.xv,{style:p.subtitle2,children:"NOTES"}),(0,E.jsx)(X.xv,{children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,E.jsxs)(X.G7,{style:[p.col4,p.alignRight],children:[(0,E.jsx)(X.xv,{style:p.subtitle2,children:"Have a Question?"}),(0,E.jsx)(X.xv,{children:"support@abcapp.com"})]})]})]})})}function ee(e){var t=e.filters,n=e.onFilters,i=e.dateError,r=(e.serviceOptions,(0,U.S)()),l=(0,d.useCallback)((function(e){n("name",e.target.value)}),[n]),s=((0,d.useCallback)((function(e){n("service","string"===typeof e.target.value?e.target.value.split(","):e.target.value)}),[n]),(0,d.useCallback)((function(e){n("startDate",e)}),[n])),o=(0,d.useCallback)((function(e){n("endDate",e)}),[n]),a=(0,k.k)(),c=G.Ot.filter((function(e){return"e99f09a7-dd88-49d5-b1c8-1daf80c2d7b20"===e.id}))[0];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(f.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,E.jsx)(L.M,{label:"Start date",value:t.startDate,onChange:s,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:180}}}),(0,E.jsx)(L.M,{label:"End date",value:t.endDate,onChange:o,slotProps:{textField:{fullWidth:!0,error:i}},sx:{maxWidth:{md:180}}}),(0,E.jsxs)(f.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,E.jsx)(V.Z,{fullWidth:!0,value:t.name,onChange:l,placeholder:"Search customer or invoice number...",InputProps:{startAdornment:(0,E.jsx)($.Z,{position:"start",children:(0,E.jsx)(I.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,E.jsx)(w.Z,{onClick:r.onOpen,children:(0,E.jsx)(I.Z,{icon:"eva:more-vertical-fill"})})]})]}),(0,E.jsxs)(U.Z,{open:r.open,onClose:r.onClose,arrow:"right-top",sx:{width:"auto"},children:[(0,E.jsxs)(M.Z,{onClick:function(){r.onClose(),a.onTrue()},children:[(0,E.jsx)(I.Z,{icon:"carbon:view-filled"}),"View"]}),(0,E.jsx)(X.WD,{document:(0,E.jsx)(Y,{invoice:c,currentStatus:"paid"}),fileName:c.invoiceNumber,style:{textDecoration:"none",color:"#000"},children:(0,E.jsxs)(M.Z,{onClick:function(){r.onClose()},children:[(0,E.jsx)(I.Z,{icon:"vscode-icons:file-type-pdf2"}),"Download PDF"]})})]}),(0,E.jsx)(Q.Z,{fullScreen:!0,open:a.value,children:(0,E.jsxs)(N.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,E.jsx)(K.Z,{sx:{p:1.5},children:(0,E.jsx)(g.Z,{color:"inherit",variant:"contained",onClick:a.onFalse,children:"Close"})}),(0,E.jsx)(N.Z,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:(0,E.jsx)(X.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,E.jsx)(Y,{invoice:c,currentStatus:"paid"})})})]})})]})}var te=n(45987),ne=n(85771),ie=n(27938),re=n(25265),le=["filters","onFilters","onResetFilters","results"],se=["label","children","sx"];function oe(e){var t=e.filters,n=e.onFilters,i=e.onResetFilters,r=e.results,s=(0,te.Z)(e,le),o=(0,re.l2)(t.startDate,t.endDate);return(0,E.jsxs)(f.Z,(0,l.Z)((0,l.Z)({spacing:1.5},s),{},{children:[(0,E.jsxs)(N.Z,{sx:{typography:"body2"},children:[(0,E.jsx)("strong",{children:r}),(0,E.jsx)(N.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,E.jsxs)(f.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.service.length&&(0,E.jsx)(ae,{label:"Service:",children:t.service.map((function(e){return(0,E.jsx)(ne.Z,{label:e,size:"small",onDelete:function(){return function(e){var i=t.service.filter((function(t){return t!==e}));n("service",i)}(e)}},e)}))}),"all"!==t.status&&(0,E.jsx)(ae,{label:"Status:",children:(0,E.jsx)(ne.Z,{size:"small",label:t.status,onDelete:function(){n("status","all")}})}),t.startDate&&t.endDate&&(0,E.jsx)(ae,{label:"Date:",children:(0,E.jsx)(ne.Z,{size:"small",label:o,onDelete:function(){n("startDate",null),n("endDate",null)}})}),(0,E.jsx)(g.Z,{color:"error",onClick:i,startIcon:(0,E.jsx)(I.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function ae(e){var t=e.label,n=e.children,i=e.sx,r=(0,te.Z)(e,se);return(0,E.jsxs)(f.Z,(0,l.Z)((0,l.Z)({component:ie.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,l.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},i)},r),{},{children:[(0,E.jsx)(N.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,E.jsx)(f.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]}))}var ce=n(16386),de=n(50533),ue=n(60220),xe=n(9195),he=n(68745),pe=n(49900);function me(e){var t=e.row,n=e.selected,i=(e.onSelectRow,e.onViewRow),r=(e.onEditRow,e.onDeleteRow,t.patientName),l=t.appointmentDate,s=t.appointmentType,o=t.price,a=t.userID;(0,k.k)(),(0,U.S)();return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(xe.Z,{hover:!0,selected:n,children:[(0,E.jsxs)(he.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,E.jsx)(ue.Z,{alt:r,sx:{mr:2},children:r.charAt(0).toUpperCase()}),(0,E.jsx)(pe.Z,{disableTypography:!0,primary:(0,E.jsx)(O.Z,{variant:"body2",noWrap:!0,children:r}),secondary:(0,E.jsx)(de.Z,{noWrap:!0,variant:"body2",onClick:i,sx:{color:"text.disabled",cursor:"pointer"},children:a})})]}),(0,E.jsx)(he.Z,{children:(0,E.jsx)(pe.Z,{primary:(0,ce.Z)(new Date(l),"dd MMM yyyy"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,E.jsx)(he.Z,{children:s}),(0,E.jsx)(he.Z,{children:(0,B.e_)(o)})]})})}var je=["label","children","sx"];function fe(e){e.filters;var t=e.onFilters,n=e.total,i=e.startDate,r=e.endDate,l=(0,U.S)(),s=(0,re.l2)(i,r),o=((0,d.useCallback)((function(e){t("name",e.target.value)}),[t]),(0,d.useCallback)((function(e){t("service","string"===typeof e.target.value?e.target.value.split(","):e.target.value)}),[t]),(0,d.useCallback)((function(e){t("startDate",e)}),[t]),(0,d.useCallback)((function(e){t("endDate",e)}),[t]),(0,k.k)()),a=G.Ot.filter((function(e){return"e99f09a7-dd88-49d5-b1c8-1daf80c2d7b20"===e.id}))[0];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(f.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:(0,E.jsxs)(f.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,E.jsx)(ge,{label:"Date:",children:(0,E.jsx)(ne.Z,{size:"small",label:s,icon:(0,E.jsx)(I.Z,{icon:"lets-icons:date-range-fill"}),sx:{padding:"15px !important"}})}),(0,E.jsx)(ge,{label:"Total:",children:(0,E.jsx)(ne.Z,{size:"small",label:"GH\u20b5 ".concat(n.toFixed(2)),sx:{padding:"15px !important"}})}),(0,E.jsx)(w.Z,{onClick:l.onOpen,children:(0,E.jsx)(I.Z,{icon:"eva:more-vertical-fill"})})]})}),(0,E.jsxs)(U.Z,{open:l.open,onClose:l.onClose,arrow:"right-top",sx:{width:"auto"},children:[(0,E.jsxs)(M.Z,{onClick:function(){l.onClose(),o.onTrue()},children:[(0,E.jsx)(I.Z,{icon:"carbon:view-filled"}),"View"]}),(0,E.jsx)(X.WD,{document:(0,E.jsx)(Y,{invoice:a,currentStatus:"paid"}),fileName:a.invoiceNumber,style:{textDecoration:"none",color:"#000"},children:(0,E.jsxs)(M.Z,{onClick:function(){l.onClose()},children:[(0,E.jsx)(I.Z,{icon:"vscode-icons:file-type-pdf2"}),"Download PDF"]})})]}),(0,E.jsx)(Q.Z,{fullScreen:!0,open:o.value,children:(0,E.jsxs)(N.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,E.jsx)(K.Z,{sx:{p:1.5},children:(0,E.jsx)(g.Z,{color:"inherit",variant:"contained",onClick:o.onFalse,children:"Close"})}),(0,E.jsx)(N.Z,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:(0,E.jsx)(X.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,E.jsx)(Y,{invoice:a,currentStatus:"paid"})})})]})})]})}function ge(e){var t=e.label,n=e.children,i=e.sx,r=(0,te.Z)(e,je);return(0,E.jsxs)(f.Z,(0,l.Z)((0,l.Z)({component:ie.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,l.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",justifyContent:"center",alignItems:"center"},i)},r),{},{children:[(0,E.jsx)(N.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,E.jsx)(f.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]}))}var ve=[{id:"invoiceNumber",label:"Customer"},{id:"createDate",label:"Create"},{id:"dueDate",label:"Due"},{id:"price",label:"Amount"},{id:"sent",label:"Sent",align:"center"},{id:"status",label:"Status"}],be={name:"",service:[],status:"all",startDate:null,endDate:null};function Ze(e){var t=e.data,n=e.startDate,r=e.endDate,s=(0,u.Z)(),a=(0,A.K$)(),v=(0,P.tv)(),W=(0,z.x6)({defaultOrderBy:"createDate"}),N=(0,k.k)(),O=(0,d.useState)(t),B=(0,o.Z)(O,2),q=B[0],H=B[1],L=(0,d.useState)(be),M=(0,o.Z)(L,2),V=M[0],$=M[1],Q=!(!V.startDate||!V.endDate)&&V.startDate.getTime()>V.endDate.getTime(),K=function(e){var t=e.inputData,n=e.comparator,i=e.filters,r=e.dateError,l=i.name,s=i.status,o=i.service,a=i.startDate,c=i.endDate,d=t.map((function(e,t){return[e,t]}));d.sort((function(e,t){var i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t=d.map((function(e){return e[0]})),l&&(t=t.filter((function(e){return-1!==e.invoiceNumber.toLowerCase().indexOf(l.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(l.toLowerCase())})));"all"!==s&&(t=t.filter((function(e){return e.status===s})));o.length&&(t=t.filter((function(e){return e.items.some((function(e){return o.includes(e.service)}))})));r||a&&c&&(t=t.filter((function(e){return(0,R.IO)(e.createDate)>=(0,R.IO)(a)&&(0,R.IO)(e.createDate)<=(0,R.IO)(c)})));return t}({inputData:q,comparator:(0,z.sQ)(W.order,W.orderBy),filters:V,dateError:Q}),U=K.slice(W.page*W.rowsPerPage,W.page*W.rowsPerPage+W.rowsPerPage),X=W.dense?56:76,J=!!V.name||!!V.service.length||"all"!==V.status||!!V.startDate&&!!V.endDate,Y=!K.length&&J||!K.length,ee=function(e){return q.filter((function(t){return t.status===e})).length},te=[{value:"all",label:"All",color:"default",count:q.length},{value:"paid",label:"Paid",color:"success",count:ee("paid")},{value:"pending",label:"Pending",color:"warning",count:ee("pending")},{value:"overdue",label:"Overdue",color:"error",count:ee("overdue")},{value:"draft",label:"Draft",color:"default",count:ee("draft")}],ne=(0,d.useCallback)((function(e,t){W.onResetPage(),$((function(n){return(0,l.Z)((0,l.Z)({},n),{},(0,i.Z)({},e,t))}))}),[W]),ie=(0,d.useCallback)((function(e){var t=q.filter((function(t){return t.id!==e}));H(t),W.onUpdatePageDeleteRow(U.length)}),[U.length,W,q]),re=(0,d.useCallback)((function(){var e=q.filter((function(e){return!W.selected.includes(e.id)}));H(e),W.onUpdatePageDeleteRows({totalRows:q.length,totalRowsInPage:U.length,totalRowsFiltered:K.length})}),[K.length,U.length,W,q]),le=(0,d.useCallback)((function(e){v.push(D.H.dashboard.invoice.edit(e))}),[v]),se=(0,d.useCallback)((function(e){v.push(D.H.dashboard.invoice.details(e))}),[v]),ae=(0,d.useCallback)((function(e,t){ne("status",t)}),[ne]),ce=(0,d.useCallback)((function(){$(be)}),[]),de=c()(q,"subTotal");return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(Z.Z,{maxWidth:!a.themeStretch&&"lg",children:[(0,E.jsx)(f.Z,{sx:{flexDirection:"row",justifyContent:"flex-end",py:"20px"},children:(0,E.jsx)(g.Z,{component:S.r,href:D.H.dashboard.invoice.new,variant:"outlined",sx:{width:"150px"},children:"Request Payout"})}),(0,E.jsxs)(m.Z,{children:[(0,E.jsx)(p.Z,{value:V.status,onChange:ae,sx:{px:2.5,boxShadow:"inset 0 -2px 0 0 ".concat((0,x.Fq)(s.palette.grey[500],.08))},children:te.map((function(e){return(0,E.jsx)(h.Z,{value:e.value,label:e.label,iconPosition:"end",icon:(0,E.jsx)(F.Z,{variant:"all"===e.value||e.value===V.status?"filled":"soft",color:e.color,children:e.count})},e.value)}))}),(0,E.jsx)(fe,{filters:V,onFilters:ne,total:de,endDate:r,startDate:n,dateError:Q,serviceOptions:G.PI.map((function(e){return e.name}))}),J&&(0,E.jsx)(oe,{filters:V,onFilters:ne,onResetFilters:ce,results:K.length,sx:{p:2.5,pt:0}}),(0,E.jsxs)(C.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,E.jsx)(z.Z4,{dense:W.dense,numSelected:W.selected.length,rowCount:q.length,onSelectAllRows:function(e){return W.onSelectAllRows(e,q.map((function(e){return e.id})))},action:(0,E.jsxs)(f.Z,{direction:"row",children:[(0,E.jsx)(b.Z,{title:"Sent",children:(0,E.jsx)(w.Z,{color:"primary",children:(0,E.jsx)(I.Z,{icon:"iconamoon:send-fill"})})}),(0,E.jsx)(b.Z,{title:"Download",children:(0,E.jsx)(w.Z,{color:"primary",children:(0,E.jsx)(I.Z,{icon:"eva:download-outline"})})}),(0,E.jsx)(b.Z,{title:"Print",children:(0,E.jsx)(w.Z,{color:"primary",children:(0,E.jsx)(I.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,E.jsx)(b.Z,{title:"Delete",children:(0,E.jsx)(w.Z,{color:"primary",onClick:N.onTrue,children:(0,E.jsx)(I.Z,{icon:"solar:trash-bin-trash-bold"})})})]})}),(0,E.jsx)(_.Z,{children:(0,E.jsxs)(j.Z,{size:W.dense?"small":"medium",sx:{minWidth:800},children:[(0,E.jsx)(z.K,{order:W.order,orderBy:W.orderBy,headLabel:ve,rowCount:q.length,numSelected:W.selected.length,onSort:W.onSort,onSelectAllRows:function(e){return W.onSelectAllRows(e,q.map((function(e){return e.id})))}}),(0,E.jsxs)(y.Z,{children:[q.slice(W.page*W.rowsPerPage,W.page*W.rowsPerPage+W.rowsPerPage).map((function(e){return(0,E.jsx)(me,{row:e,selected:W.selected.includes(e.id),onSelectRow:function(){return W.onSelectRow(e.id)},onViewRow:function(){return se(e.id)},onEditRow:function(){return le(e.id)},onDeleteRow:function(){return ie(e.id)}},e.id)})),(0,E.jsx)(z.$W,{height:X,emptyRows:(0,z.fQ)(W.page,W.rowsPerPage,q.length)}),(0,E.jsx)(z.et,{notFound:Y})]})]})})]}),(0,E.jsx)(z.S_,{count:K.length,page:W.page,rowsPerPage:W.rowsPerPage,onPageChange:W.onChangePage,onRowsPerPageChange:W.onChangeRowsPerPage,dense:W.dense,onChangeDense:W.onChangeDense})]})]}),(0,E.jsx)(T.Q,{open:N.value,onClose:N.onFalse,title:"Delete",content:(0,E.jsxs)(E.Fragment,{children:["Are you sure want to delete"," ",(0,E.jsxs)("strong",{children:[" ",W.selected.length," "]})," items?"]}),action:(0,E.jsx)(g.Z,{variant:"contained",color:"error",onClick:function(){re(),N.onFalse()},children:"Delete"})})]})}var ye=n(2102),we=n(8976),Ce=n(57459),De=n.p+"static/media/net.a70ab1e6157ca99613f3.png",Pe=n.p+"static/media/total.b6ddfa0f1616c19b6563.png",Se=n.p+"static/media/deduction.ab82f983119aac09b0e7.png",ke=n(39157),Re=n.p+"static/media/earning.6635d5ea67d163781d5b.jpg",Ge=n(12258),Fe=n(32869);function Ie(e){var t=e.openDialog,n=e.setOpenDialog,i=e.data,l=function(){return n(!1)},a=(0,d.useState)(!1),c=(0,o.Z)(a,2),u=c[0],x=c[1],h=(0,Fe.Ds)().enqueueSnackbar,p=((0,we.E)(Ce.Vo).user||"").facilityID,m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,ye.Z.post("/transactions/labs/payout",{facilityID:p});case 4:h("Payout request successful"),l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,E.jsxs)(Q.Z,{open:!!t,onClose:l,children:[(0,E.jsxs)(ke.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:{xs:"100%",sm:"425px"},pb:5},children:[(0,E.jsx)(N.Z,{component:"img",src:Re,alt:"mission",sx:{mx:"auto",my:"15px",width:{xs:"100%",sm:250},height:{xs:"100%",sm:250},borderRadius:"50%"}}),(0,E.jsxs)(O.Z,{variant:"body1",textAlign:"center",children:["Net Amount (after 20% deduction) ",(0,E.jsx)("br",{}),(0,E.jsxs)("span",{style:{fontWeight:700,fontSize:"18px"},children:["GH\u20b5 ",null===i||void 0===i?void 0:i.amount]})]})]}),(0,E.jsx)(K.Z,{children:(0,E.jsx)(Ge.Z,{loading:u,onClick:m,variant:"contained",color:"primary",children:"Proceed"})})]})}var _e=[{id:"patient",label:"Patient Name"},{id:"createDate",label:"Appointment Date"},{id:"type",label:"Appointment Type"},{id:"price",label:"Amount (GH\u20b5)"}],Te={name:"",service:[],status:"all",startDate:null,endDate:null};function Ae(){var e=(0,u.Z)(),t=(0,A.K$)(),n=(0,P.tv)(),a=(0,z.x6)({defaultOrderBy:"createDate"}),O=(0,k.k)(),B=(0,we.E)(Ce.Vo).user.facilityID,q=(0,d.useState)([]),L=(0,o.Z)(q,2),M=L[0],V=L[1],$=(0,d.useState)({}),U=(0,o.Z)($,2),X=U[0],J=U[1],Y=(0,d.useState)(Te),te=(0,o.Z)(Y,2),ne=te[0],ie=te[1],re=(0,d.useState)(!1),le=(0,o.Z)(re,2),se=le[0],ae=le[1],ce=ne.startDate,de=ne.endDate,ue=null!==ce&&null!==de,xe=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.Z.get("/transactions/labs/pending/".concat(B));case 2:t=e.sent,n=t.data,console.log(n),i=n.data.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{price:Number(e.price)})})),J(n),V(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){xe()}),[B]);var he=!(!ne.startDate||!ne.endDate)&&ne.startDate.getTime()>ne.endDate.getTime(),pe=function(e){var t=e.inputData,n=e.comparator,i=e.filters,r=e.dateError,l=i.name,s=i.status,o=i.service,a=i.startDate,c=i.endDate,d=t.map((function(e,t){return[e,t]}));d.sort((function(e,t){var i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t=d.map((function(e){return e[0]})),l&&(t=t.filter((function(e){return-1!==e.invoiceNumber.toLowerCase().indexOf(l.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(l.toLowerCase())})));"all"!==s&&(t=t.filter((function(e){return e.status===s})));o.length&&(t=t.filter((function(e){return e.items.some((function(e){return o.includes(e.service)}))})));r||a&&c&&(t=t.filter((function(e){return(0,R.IO)(e.appointmentDate)>=(0,R.IO)(a)&&(0,R.IO)(e.appointmentDate)<=(0,R.IO)(c)})));return t}({inputData:M,comparator:(0,z.sQ)(a.order,a.orderBy),filters:ne,dateError:he}),je=pe.slice(a.page*a.rowsPerPage,a.page*a.rowsPerPage+a.rowsPerPage),fe=a.dense?56:76,ge=!!ne.name||!!ne.service.length||"all"!==ne.status||!!ne.startDate&&!!ne.endDate,ve=!pe.length&&ge||!pe.length,be=function(e){return M.filter((function(t){return t.status===e})).length},ke=[{value:"all",label:"All",color:"default",count:M.length},{value:"paid",label:"Paid",color:"success",count:be("paid")},{value:"pending",label:"Pending",color:"warning",count:be("pending")},{value:"overdue",label:"Overdue",color:"error",count:be("overdue")},{value:"draft",label:"Draft",color:"default",count:be("draft")}],Re=(0,d.useCallback)((function(e,t){a.onResetPage(),ie((function(n){return(0,l.Z)((0,l.Z)({},n),{},(0,i.Z)({},e,t))}))}),[a]),Ge=(0,d.useCallback)((function(e){var t=M.filter((function(t){return t.id!==e}));V(t),a.onUpdatePageDeleteRow(je.length)}),[je.length,a,M]),Fe=(0,d.useCallback)((function(){var e=M.filter((function(e){return!a.selected.includes(e.id)}));V(e),a.onUpdatePageDeleteRows({totalRows:M.length,totalRowsInPage:je.length,totalRowsFiltered:pe.length})}),[pe.length,je.length,a,M]),Ae=(0,d.useCallback)((function(e){n.push(D.H.dashboard.invoice.edit(e))}),[n]),We=(0,d.useCallback)((function(e){n.push(D.H.dashboard.invoice.details(e))}),[n]),ze=(0,d.useCallback)((function(e,t){Re("status",t)}),[Re]),Ne=(0,d.useCallback)((function(){ie(Te)}),[]);c()(pe,"subTotal"),pe.length,M.length;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(Z.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,E.jsx)(W.Z,{heading:"Transactions",links:[{name:"Dashboard",href:D.H.dashboard.root},{name:"Transactions"}],action:(0,E.jsx)(g.Z,{component:S.r,onClick:function(){return ae(!0)},variant:"contained",children:"Request Payout"}),sx:{mb:{xs:3,md:5}}}),(0,E.jsx)(m.Z,{sx:{mb:{xs:3,md:5}},children:(0,E.jsx)(_.Z,{children:(0,E.jsxs)(f.Z,{direction:"row",divider:(0,E.jsx)(v.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,E.jsx)(H,{title:"Gross Earnings",total:M.length,percent:100,price:null===X||void 0===X?void 0:X.total,icon:Pe,color:e.palette.primary.main}),(0,E.jsx)(H,{title:"Total Deduction",percent:20,price:null===X||void 0===X?void 0:X.charges,icon:Se,color:e.palette.info.main}),(0,E.jsx)(H,{title:"Net Earnings",percent:80,price:null===X||void 0===X?void 0:X.amount,icon:De,color:e.palette.success.main})]})})}),(0,E.jsxs)(m.Z,{children:[(0,E.jsx)(p.Z,{value:ne.status,onChange:ze,sx:{px:2.5,boxShadow:"inset 0 -2px 0 0 ".concat((0,x.Fq)(e.palette.grey[500],.08))},children:ke.map((function(e){return(0,E.jsx)(h.Z,{value:e.value,label:e.label,iconPosition:"end",icon:(0,E.jsx)(F.Z,{variant:"all"===e.value||e.value===ne.status?"filled":"soft",color:e.color,children:e.count})},e.value)}))}),(0,E.jsx)(ee,{filters:ne,onFilters:Re,dateError:he,serviceOptions:G.PI.map((function(e){return e.name}))}),ge&&(0,E.jsx)(oe,{filters:ne,onFilters:Re,onResetFilters:Ne,results:pe.length,sx:{p:2.5,pt:0}}),(0,E.jsxs)(C.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,E.jsx)(z.Z4,{dense:a.dense,numSelected:a.selected.length,rowCount:M.length,onSelectAllRows:function(e){return a.onSelectAllRows(e,M.map((function(e){return e.id})))},action:(0,E.jsxs)(f.Z,{direction:"row",children:[(0,E.jsx)(b.Z,{title:"Sent",children:(0,E.jsx)(w.Z,{color:"primary",children:(0,E.jsx)(I.Z,{icon:"iconamoon:send-fill"})})}),(0,E.jsx)(b.Z,{title:"Download",children:(0,E.jsx)(w.Z,{color:"primary",children:(0,E.jsx)(I.Z,{icon:"eva:download-outline"})})}),(0,E.jsx)(b.Z,{title:"Print",children:(0,E.jsx)(w.Z,{color:"primary",children:(0,E.jsx)(I.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,E.jsx)(b.Z,{title:"Delete",children:(0,E.jsx)(w.Z,{color:"primary",onClick:O.onTrue,children:(0,E.jsx)(I.Z,{icon:"solar:trash-bin-trash-bold"})})})]})}),(0,E.jsx)(_.Z,{children:(0,E.jsxs)(j.Z,{size:a.dense?"small":"medium",sx:{minWidth:800},children:[(0,E.jsx)(z.K,{order:a.order,orderBy:a.orderBy,headLabel:_e,rowCount:M.length,numSelected:a.selected.length,onSort:a.onSort,onSelectAllRows:function(e){return a.onSelectAllRows(e,M.map((function(e){return e.id})))}}),(0,E.jsxs)(y.Z,{children:[pe.slice(a.page*a.rowsPerPage,a.page*a.rowsPerPage+a.rowsPerPage).map((function(e){return(0,E.jsx)(me,{row:e,selected:a.selected.includes(e.id),onSelectRow:function(){return a.onSelectRow(e.id)},onViewRow:function(){return We(e.id)},onEditRow:function(){return Ae(e.id)},onDeleteRow:function(){return Ge(e.id)}},e.id)})),(0,E.jsx)(z.$W,{height:fe,emptyRows:(0,z.fQ)(a.page,a.rowsPerPage,M.length)}),(0,E.jsx)(z.et,{notFound:ve})]})]})})]}),(0,E.jsx)(z.S_,{count:pe.length,page:a.page,rowsPerPage:a.rowsPerPage,onPageChange:a.onChangePage,onRowsPerPageChange:a.onChangeRowsPerPage,dense:a.dense,onChangeDense:a.onChangeDense})]})]}),(0,E.jsx)(T.Q,{open:O.value,onClose:O.onFalse,title:"Delete",content:(0,E.jsxs)(E.Fragment,{children:["Are you sure want to delete"," ",(0,E.jsxs)("strong",{children:[" ",a.selected.length," "]})," items?"]}),action:(0,E.jsx)(g.Z,{variant:"contained",color:"error",onClick:function(){Fe(),O.onFalse()},children:"Delete"})}),(0,E.jsx)(Ie,{openDialog:se,setOpenDialog:ae,data:X}),(0,E.jsx)(Q.Z,{fullScreen:!0,open:ue,children:(0,E.jsxs)(N.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,E.jsx)(K.Z,{sx:{p:1.5},children:(0,E.jsx)(g.Z,{color:"inherit",onClick:function(){ie((function(e){return(0,l.Z)((0,l.Z)({},e),{},{startDate:null,endDate:null})}))},children:(0,E.jsx)(I.Z,{icon:"zondicons:close-solid",color:"red"})})}),(0,E.jsx)(N.Z,{sx:{flexGrow:1,height:1,paddingBottom:"150px",overflowX:"auto !important"},children:(0,E.jsx)(Ze,{data:pe,startDate:ce,endDate:de})})]})})]})}var We=n(8007),ze=n(61134),Ne=n(44695),Oe=n(39231),Be=n(87151),qe=n.n(Be),Ee=n(55891);function He(){var e=(0,ze.Gc)(),t=e.control,n=e.setValue,r=e.watch,s=e.resetField,o=(0,ze.Dq)({control:t,name:"items"}),a=o.fields,c=o.append,u=o.remove,x=r(),h=x.items.map((function(e){return e.quantity*e.price})),p=qe()(h),m=p-x.discount-x.shipping+x.taxes;(0,d.useEffect)((function(){n("totalAmount",m)}),[n,m]);var j=(0,d.useCallback)((function(e){s("items[".concat(e,"].quantity")),s("items[".concat(e,"].price")),s("items[".concat(e,"].total"))}),[s]),b=(0,d.useCallback)((function(e,t){var i;n("items[".concat(e,"].price"),null===(i=G.PI.find((function(e){return e.name===t})))||void 0===i?void 0:i.price),n("items[".concat(e,"].total"),x.items.map((function(e){return e.quantity*e.price}))[e])}),[n,x.items]),Z=(0,d.useCallback)((function(e,t){n("items[".concat(t,"].quantity"),Number(e.target.value)),n("items[".concat(t,"].total"),x.items.map((function(e){return e.quantity*e.price}))[t])}),[n,x.items]),y=(0,d.useCallback)((function(e,t){n("items[".concat(t,"].price"),Number(e.target.value)),n("items[".concat(t,"].total"),x.items.map((function(e){return e.quantity*e.price}))[t])}),[n,x.items]),w=(0,E.jsxs)(f.Z,{spacing:2,alignItems:"flex-end",sx:{mt:3,textAlign:"right",typography:"body2"},children:[(0,E.jsxs)(f.Z,{direction:"row",children:[(0,E.jsx)(N.Z,{sx:{color:"text.secondary"},children:"Subtotal"}),(0,E.jsx)(N.Z,{sx:{width:160,typography:"subtitle2"},children:(0,B.e_)(p)||"-"})]}),(0,E.jsxs)(f.Z,{direction:"row",children:[(0,E.jsx)(N.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,E.jsx)(N.Z,{sx:(0,l.Z)({width:160},x.shipping&&{color:"error.main"}),children:x.shipping?"- ".concat((0,B.e_)(x.shipping)):"-"})]}),(0,E.jsxs)(f.Z,{direction:"row",children:[(0,E.jsx)(N.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,E.jsx)(N.Z,{sx:(0,l.Z)({width:160},x.discount&&{color:"error.main"}),children:x.discount?"- ".concat((0,B.e_)(x.discount)):"-"})]}),(0,E.jsxs)(f.Z,{direction:"row",children:[(0,E.jsx)(N.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,E.jsx)(N.Z,{sx:{width:160},children:x.taxes?(0,B.e_)(x.taxes):"-"})]}),(0,E.jsxs)(f.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,E.jsx)(N.Z,{children:"Total"}),(0,E.jsx)(N.Z,{sx:{width:160},children:(0,B.e_)(m)||"-"})]})]});return(0,E.jsxs)(N.Z,{sx:{p:3},children:[(0,E.jsx)(O.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"Details:"}),(0,E.jsx)(f.Z,{divider:(0,E.jsx)(v.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:a.map((function(e,t){return(0,E.jsxs)(f.Z,{alignItems:"flex-end",spacing:1.5,children:[(0,E.jsxs)(f.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1},children:[(0,E.jsx)(Oe.au,{size:"small",name:"items[".concat(t,"].title"),label:"Title",InputLabelProps:{shrink:!0}}),(0,E.jsx)(Oe.au,{size:"small",name:"items[".concat(t,"].description"),label:"Description",InputLabelProps:{shrink:!0}}),(0,E.jsxs)(Oe.Cc,{name:"items[".concat(t,"].service"),size:"small",label:"Service",InputLabelProps:{shrink:!0},sx:{maxWidth:{md:160}},children:[(0,E.jsx)(M.Z,{value:"",onClick:function(){return j(t)},sx:{fontStyle:"italic",color:"text.secondary"},children:"None"}),(0,E.jsx)(v.Z,{sx:{borderStyle:"dashed"}}),G.PI.map((function(e){return(0,E.jsx)(M.Z,{value:e.name,onClick:function(){return b(t,e.name)},children:e.name},e.id)}))]}),(0,E.jsx)(Oe.au,{size:"small",type:"number",name:"items[".concat(t,"].quantity"),label:"Quantity",placeholder:"0",onChange:function(e){return Z(e,t)},InputLabelProps:{shrink:!0},sx:{maxWidth:{md:96}}}),(0,E.jsx)(Oe.au,{size:"small",type:"number",name:"items[".concat(t,"].price"),label:"Price",placeholder:"0.00",onChange:function(e){return y(e,t)},InputProps:{startAdornment:(0,E.jsx)($.Z,{position:"start",children:(0,E.jsx)(N.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:{maxWidth:{md:96}}}),(0,E.jsx)(Oe.au,{disabled:!0,size:"small",type:"number",name:"items[".concat(t,"].total"),label:"Total",placeholder:"0.00",value:0===x.items[t].total?"":x.items[t].total.toFixed(2),onChange:function(e){return y(e,t)},InputProps:{startAdornment:(0,E.jsx)($.Z,{position:"start",children:(0,E.jsx)(N.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:(0,i.Z)({maxWidth:{md:104}},"& .".concat(Ee.Z.input),{textAlign:{md:"right"}})})]}),(0,E.jsx)(g.Z,{size:"small",color:"error",startIcon:(0,E.jsx)(I.Z,{icon:"solar:trash-bin-trash-bold"}),onClick:function(){return function(e){u(e)}(t)},children:"Remove"})]},e.id)}))}),(0,E.jsx)(v.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,E.jsxs)(f.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[(0,E.jsx)(g.Z,{size:"small",color:"primary",startIcon:(0,E.jsx)(I.Z,{icon:"mingcute:add-line"}),onClick:function(){c({title:"",description:"",service:"",quantity:1,price:0,total:0})},sx:{flexShrink:0},children:"Add Item"}),(0,E.jsxs)(f.Z,{spacing:2,justifyContent:"flex-end",direction:{xs:"column",md:"row"},sx:{width:1},children:[(0,E.jsx)(Oe.au,{size:"small",label:"Shipping($)",name:"shipping",type:"number",sx:{maxWidth:{md:120}}}),(0,E.jsx)(Oe.au,{size:"small",label:"Discount($)",name:"discount",type:"number",sx:{maxWidth:{md:120}}}),(0,E.jsx)(Oe.au,{size:"small",label:"Taxes(%)",name:"taxes",type:"number",sx:{maxWidth:{md:120}}})]})]}),w]})}var Le=n(38887),Me=n(21435);function Ve(){var e,t=(0,ze.Gc)(),n=t.watch,i=t.setValue,r=t.formState.errors,l=(0,Le.F)("up","md"),s=n(),o=s.invoiceFrom,a=s.invoiceTo,c=(0,k.k)(),d=(0,k.k)();return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(f.Z,{spacing:{xs:3,md:5},direction:{xs:"column",md:"row"},divider:(0,E.jsx)(v.Z,{flexItem:!0,orientation:l?"vertical":"horizontal",sx:{borderStyle:"dashed"}}),sx:{p:3},children:[(0,E.jsxs)(f.Z,{sx:{width:1},children:[(0,E.jsxs)(f.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,E.jsx)(O.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"From:"}),(0,E.jsx)(w.Z,{onClick:c.onTrue,children:(0,E.jsx)(I.Z,{icon:"solar:pen-bold"})})]}),(0,E.jsxs)(f.Z,{spacing:1,children:[(0,E.jsx)(O.Z,{variant:"subtitle2",children:o.name}),(0,E.jsx)(O.Z,{variant:"body2",children:o.fullAddress}),(0,E.jsxs)(O.Z,{variant:"body2",children:[" ",o.phoneNumber]})]})]}),(0,E.jsxs)(f.Z,{sx:{width:1},children:[(0,E.jsxs)(f.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,E.jsx)(O.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"To:"}),(0,E.jsx)(w.Z,{onClick:d.onTrue,children:(0,E.jsx)(I.Z,{icon:a?"solar:pen-bold":"mingcute:add-line"})})]}),a?(0,E.jsxs)(f.Z,{spacing:1,children:[(0,E.jsx)(O.Z,{variant:"subtitle2",children:a.name}),(0,E.jsx)(O.Z,{variant:"body2",children:a.fullAddress}),(0,E.jsxs)(O.Z,{variant:"body2",children:[" ",a.phoneNumber]})]}):(0,E.jsx)(O.Z,{typography:"caption",sx:{color:"error.main"},children:null===(e=r.invoiceTo)||void 0===e?void 0:e.message})]})]}),(0,E.jsx)(Me.IJ,{title:"Customers",open:c.value,onClose:c.onFalse,selected:function(e){return(null===o||void 0===o?void 0:o.id)===e},onSelect:function(e){return i("invoiceFrom",e)},list:G.PX,action:(0,E.jsx)(g.Z,{size:"small",startIcon:(0,E.jsx)(I.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})}),(0,E.jsx)(Me.IJ,{title:"Customers",open:d.value,onClose:d.onFalse,selected:function(e){return(null===a||void 0===a?void 0:a.id)===e},onSelect:function(e){return i("invoiceTo",e)},list:G.PX,action:(0,E.jsx)(g.Z,{size:"small",startIcon:(0,E.jsx)(I.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}function $e(){var e=(0,ze.Gc)(),t=e.control,n=(0,e.watch)();return(0,E.jsxs)(f.Z,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3,bgcolor:"background.neutral"},children:[(0,E.jsx)(Oe.au,{disabled:!0,name:"invoiceNumber",label:"Invoice number",value:n.invoiceNumber}),(0,E.jsx)(Oe.Cc,{fullWidth:!0,name:"status",label:"Status",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["paid","pending","overdue","draft"].map((function(e){return(0,E.jsx)(M.Z,{value:e,children:e},e)}))}),(0,E.jsx)(ze.Qr,{name:"createDate",control:t,render:function(e){var t=e.field,n=e.fieldState.error;return(0,E.jsx)(L.M,{label:"Date create",value:t.value,onChange:function(e){t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}}),(0,E.jsx)(ze.Qr,{name:"dueDate",control:t,render:function(e){var t=e.field,n=e.fieldState.error;return(0,E.jsx)(L.M,{label:"Due date",value:t.value,onChange:function(e){t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}})]})}function Qe(e){var t=e.currentInvoice,n=(0,P.tv)(),i=(0,k.k)(),l=(0,k.k)(),o=We.Ry().shape({invoiceTo:We.nK().nullable().required("Invoice to is required"),createDate:We.nK().nullable().required("Create date is required"),dueDate:We.nK().required("Due date is required").test("date-min","Due date must be later than create date",(function(e,t){var n=t.parent;return e.getTime()>n.createDate.getTime()})),taxes:We.Rx(),status:We.Z_(),discount:We.Rx(),shipping:We.Rx(),invoiceFrom:We.nK(),totalAmount:We.Rx(),invoiceNumber:We.Z_()}),a=(0,d.useMemo)((function(){return{invoiceNumber:(null===t||void 0===t?void 0:t.invoiceNumber)||"INV-1990",createDate:(null===t||void 0===t?void 0:t.createDate)||new Date,dueDate:(null===t||void 0===t?void 0:t.dueDate)||null,taxes:(null===t||void 0===t?void 0:t.taxes)||0,shipping:(null===t||void 0===t?void 0:t.shipping)||0,status:(null===t||void 0===t?void 0:t.status)||"draft",discount:(null===t||void 0===t?void 0:t.discount)||0,invoiceFrom:(null===t||void 0===t?void 0:t.invoiceFrom)||G.PX[0],invoiceTo:(null===t||void 0===t?void 0:t.invoiceTo)||null,items:(null===t||void 0===t?void 0:t.items)||[{title:"",description:"",service:"",quantity:1,price:0,total:0}],totalAmount:(null===t||void 0===t?void 0:t.totalAmount)||0}}),[t]),c=(0,ze.cI)({resolver:(0,Ne.X)(o),defaultValues:a}),u=c.reset,x=c.handleSubmit,h=c.formState.isSubmitting,p=x(function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.onTrue(),e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:u(),i.onFalse(),n.push(D.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(t,null,2)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),i.onFalse();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),j=x(function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.onTrue(),e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:u(),l.onFalse(),n.push(D.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(t,null,2)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),l.onFalse();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}());return(0,E.jsxs)(Oe.ZP,{methods:c,children:[(0,E.jsxs)(m.Z,{children:[(0,E.jsx)(Ve,{}),(0,E.jsx)($e,{}),(0,E.jsx)(He,{})]}),(0,E.jsxs)(f.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:[(0,E.jsx)(Ge.Z,{color:"inherit",size:"large",variant:"outlined",loading:i.value&&h,onClick:p,children:"Save as Draft"}),(0,E.jsxs)(Ge.Z,{size:"large",variant:"contained",loading:l.value&&h,onClick:j,children:[t?"Update":"Create"," & Send"]})]})]})}function Ke(e){var t=e.id,n=(0,A.K$)(),i=G.Ot.find((function(e){return e.id===t}));return(0,E.jsxs)(Z.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,E.jsx)(W.Z,{heading:"Edit",links:[{name:"Dashboard",href:D.H.dashboard.root},{name:"Invoice",href:D.H.dashboard.invoice.root},{name:null===i||void 0===i?void 0:i.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,E.jsx)(Qe,{currentInvoice:i})]})}function Ue(){var e=(0,A.K$)();return(0,E.jsxs)(Z.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,E.jsx)(W.Z,{heading:"Create a new invoice",links:[{name:"Dashboard",href:D.H.dashboard.root},{name:"Invoice",href:D.H.dashboard.invoice.root},{name:"New Invoice"}],sx:{mb:{xs:3,md:5}}}),(0,E.jsx)(Qe,{})]})}(0,n(66934).ZP)(xe.Z)((function(e){var t=e.theme;return{"& td":{textAlign:"right",borderBottom:"none",paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}}))}}]);
//# sourceMappingURL=2000.1241a65f.chunk.js.map