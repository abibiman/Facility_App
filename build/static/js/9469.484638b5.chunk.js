"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[9469],{96832:function(e,t,n){n(72791),n(22459),n(57459),n(80160),n(40268),n(3352),n(52115),n(2102),n(80184)},89469:function(e,t,n){n.d(t,{Xy:function(){return $},A7:function(){return Ze}});var r=n(72791),l=n(38072),s=n(19208),i=(n(57459),n(83854),n(22459)),o=n(2102),a=(n(14993),n(40268)),c=n(47974),d=n(3352),x=n(60720),h=n(50933),u=n(1382),p=(n(96832),n(52115)),j=n(80184);var b=n(57062),y=(n(8007),n(39231),n(87151),n(17070));n(21435);var m=n(89164),g=n(29439),Z=n(66934),f=n(64554),v=n(57621),w=n(79836),C=n(36314),S=n(94721),D=n(9195),R=n(56890),G=n(68745),_=n(53382),k=n(24308),T=n(4567),P=n(39281),F=n(9145),A=n(80160),W=n(96851),I=n(5849),B=n(5574),M=n(20068),N=n(82626),O=n(48550),H=n(13400),z=n(97123),E=n(13239);W.Zx.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});var Q=function(){return(0,r.useMemo)((function(){return W.mM.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",padding:"40px 24px 120px 24px"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}})}),[])};function L(e){var t=e.invoice,n=e.currentStatus,r=t.items,l=t.taxes,s=t.dueDate,i=t.discount,o=t.shipping,a=t.invoiceTo,c=t.createDate,d=t.totalAmount,x=t.invoiceFrom,h=t.invoiceNumber,u=t.subTotal,p=Q();return(0,j.jsx)(W.BB,{children:(0,j.jsxs)(W.T3,{size:"A4",style:p.page,children:[(0,j.jsxs)(W.G7,{style:[p.gridContainer,p.mb40],children:[(0,j.jsx)(W.Ee,{source:"/logo/logo_single.png",style:{width:48,height:48}}),(0,j.jsxs)(W.G7,{style:{alignItems:"flex-end",flexDirection:"column"},children:[(0,j.jsx)(W.xv,{style:p.h3,children:n}),(0,j.jsxs)(W.xv,{children:[" ",h," "]})]})]}),(0,j.jsxs)(W.G7,{style:[p.gridContainer,p.mb40],children:[(0,j.jsxs)(W.G7,{style:p.col6,children:[(0,j.jsx)(W.xv,{style:[p.subtitle2,p.mb4],children:"Invoice from"}),(0,j.jsx)(W.xv,{style:p.body2,children:x.name}),(0,j.jsx)(W.xv,{style:p.body2,children:x.fullAddress}),(0,j.jsx)(W.xv,{style:p.body2,children:x.phoneNumber})]}),(0,j.jsxs)(W.G7,{style:p.col6,children:[(0,j.jsx)(W.xv,{style:[p.subtitle2,p.mb4],children:"Invoice to"}),(0,j.jsx)(W.xv,{style:p.body2,children:a.name}),(0,j.jsx)(W.xv,{style:p.body2,children:a.fullAddress}),(0,j.jsx)(W.xv,{style:p.body2,children:a.phoneNumber})]})]}),(0,j.jsxs)(W.G7,{style:[p.gridContainer,p.mb40],children:[(0,j.jsxs)(W.G7,{style:p.col6,children:[(0,j.jsx)(W.xv,{style:[p.subtitle2,p.mb4],children:"Date create"}),(0,j.jsx)(W.xv,{style:p.body2,children:(0,F.Mu)(c)})]}),(0,j.jsxs)(W.G7,{style:p.col6,children:[(0,j.jsx)(W.xv,{style:[p.subtitle2,p.mb4],children:"Due date"}),(0,j.jsx)(W.xv,{style:p.body2,children:(0,F.Mu)(s)})]})]}),(0,j.jsx)(W.xv,{style:[p.subtitle1,p.mb8],children:"Invoice Details"}),(0,j.jsxs)(W.G7,{style:p.table,children:[(0,j.jsx)(W.G7,{children:(0,j.jsxs)(W.G7,{style:p.tableRow,children:[(0,j.jsx)(W.G7,{style:p.tableCell_1,children:(0,j.jsx)(W.xv,{style:p.subtitle2,children:"#"})}),(0,j.jsx)(W.G7,{style:p.tableCell_2,children:(0,j.jsx)(W.xv,{style:p.subtitle2,children:"Description"})}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{style:p.subtitle2,children:"Qty"})}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{style:p.subtitle2,children:"Unit price"})}),(0,j.jsx)(W.G7,{style:[p.tableCell_3,p.alignRight],children:(0,j.jsx)(W.xv,{style:p.subtitle2,children:"Total"})})]})}),(0,j.jsxs)(W.G7,{children:[r.map((function(e,t){return(0,j.jsxs)(W.G7,{style:p.tableRow,children:[(0,j.jsx)(W.G7,{style:p.tableCell_1,children:(0,j.jsx)(W.xv,{children:t+1})}),(0,j.jsxs)(W.G7,{style:p.tableCell_2,children:[(0,j.jsx)(W.xv,{style:p.subtitle2,children:e.title}),(0,j.jsx)(W.xv,{children:e.description})]}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{children:e.quantity})}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{children:e.price})}),(0,j.jsx)(W.G7,{style:[p.tableCell_3,p.alignRight],children:(0,j.jsx)(W.xv,{children:(0,y.e_)(e.price*e.quantity)})})]},e.id)})),(0,j.jsxs)(W.G7,{style:[p.tableRow,p.noBorder],children:[(0,j.jsx)(W.G7,{style:p.tableCell_1}),(0,j.jsx)(W.G7,{style:p.tableCell_2}),(0,j.jsx)(W.G7,{style:p.tableCell_3}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{children:"Subtotal"})}),(0,j.jsx)(W.G7,{style:[p.tableCell_3,p.alignRight],children:(0,j.jsx)(W.xv,{children:(0,y.e_)(u)})})]}),(0,j.jsxs)(W.G7,{style:[p.tableRow,p.noBorder],children:[(0,j.jsx)(W.G7,{style:p.tableCell_1}),(0,j.jsx)(W.G7,{style:p.tableCell_2}),(0,j.jsx)(W.G7,{style:p.tableCell_3}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{children:"Shipping"})}),(0,j.jsx)(W.G7,{style:[p.tableCell_3,p.alignRight],children:(0,j.jsx)(W.xv,{children:(0,y.e_)(-o)})})]}),(0,j.jsxs)(W.G7,{style:[p.tableRow,p.noBorder],children:[(0,j.jsx)(W.G7,{style:p.tableCell_1}),(0,j.jsx)(W.G7,{style:p.tableCell_2}),(0,j.jsx)(W.G7,{style:p.tableCell_3}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{children:"Discount"})}),(0,j.jsx)(W.G7,{style:[p.tableCell_3,p.alignRight],children:(0,j.jsx)(W.xv,{children:(0,y.e_)(-i)})})]}),(0,j.jsxs)(W.G7,{style:[p.tableRow,p.noBorder],children:[(0,j.jsx)(W.G7,{style:p.tableCell_1}),(0,j.jsx)(W.G7,{style:p.tableCell_2}),(0,j.jsx)(W.G7,{style:p.tableCell_3}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{children:"Taxes"})}),(0,j.jsx)(W.G7,{style:[p.tableCell_3,p.alignRight],children:(0,j.jsx)(W.xv,{children:(0,y.e_)(l)})})]}),(0,j.jsxs)(W.G7,{style:[p.tableRow,p.noBorder],children:[(0,j.jsx)(W.G7,{style:p.tableCell_1}),(0,j.jsx)(W.G7,{style:p.tableCell_2}),(0,j.jsx)(W.G7,{style:p.tableCell_3}),(0,j.jsx)(W.G7,{style:p.tableCell_3,children:(0,j.jsx)(W.xv,{style:p.h4,children:"Total"})}),(0,j.jsx)(W.G7,{style:[p.tableCell_3,p.alignRight],children:(0,j.jsx)(W.xv,{style:p.h4,children:(0,y.e_)(d)})})]})]})]}),(0,j.jsxs)(W.G7,{style:[p.gridContainer,p.footer],fixed:!0,children:[(0,j.jsxs)(W.G7,{style:p.col8,children:[(0,j.jsx)(W.xv,{style:p.subtitle2,children:"NOTES"}),(0,j.jsx)(W.xv,{children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,j.jsxs)(W.G7,{style:[p.col4,p.alignRight],children:[(0,j.jsx)(W.xv,{style:p.subtitle2,children:"Have a Question?"}),(0,j.jsx)(W.xv,{children:"support@abcapp.com"})]})]})]})})}function q(e){var t=e.invoice,n=e.currentStatus,o=e.statusOptions,c=e.onChangeStatus,d=(0,s.tv)(),x=(0,i.k)(),h=(0,r.useCallback)((function(){d.push(l.H.dashboard.invoice.edit(t.id))}),[t.id,d]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(C.Z,{spacing:3,direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"},sx:{mb:{xs:3,md:5}},children:[(0,j.jsxs)(C.Z,{direction:"row",spacing:1,flexGrow:1,sx:{width:1},children:[(0,j.jsx)(M.Z,{title:"Edit",children:(0,j.jsx)(H.Z,{onClick:h,children:(0,j.jsx)(a.Z,{icon:"solar:pen-bold"})})}),(0,j.jsx)(M.Z,{title:"View",children:(0,j.jsx)(H.Z,{onClick:x.onTrue,children:(0,j.jsx)(a.Z,{icon:"solar:eye-bold"})})}),(0,j.jsx)(W.WD,{document:(0,j.jsx)(L,{invoice:t,currentStatus:n}),fileName:t.invoiceNumber,style:{textDecoration:"none"},children:function(e){var t=e.loading;return(0,j.jsx)(M.Z,{title:"Download",children:(0,j.jsx)(H.Z,{children:t?(0,j.jsx)(E.Z,{size:24,color:"inherit"}):(0,j.jsx)(a.Z,{icon:"eva:cloud-download-fill"})})})}}),(0,j.jsx)(M.Z,{title:"Print",children:(0,j.jsx)(H.Z,{children:(0,j.jsx)(a.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,j.jsx)(M.Z,{title:"Send",children:(0,j.jsx)(H.Z,{children:(0,j.jsx)(a.Z,{icon:"iconamoon:send-fill"})})}),(0,j.jsx)(M.Z,{title:"Share",children:(0,j.jsx)(H.Z,{children:(0,j.jsx)(a.Z,{icon:"solar:share-bold"})})})]}),(0,j.jsx)(O.Z,{fullWidth:!0,select:!0,label:"Status",value:n,onChange:c,sx:{maxWidth:160},children:o.map((function(e){return(0,j.jsx)(N.Z,{value:e.value,children:e.label},e.value)}))})]}),(0,j.jsx)(B.Z,{fullScreen:!0,open:x.value,children:(0,j.jsxs)(f.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,j.jsx)(z.Z,{sx:{p:1.5},children:(0,j.jsx)(I.Z,{color:"inherit",variant:"contained",onClick:x.onFalse,children:"Close"})}),(0,j.jsx)(f.Z,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:(0,j.jsx)(W.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,j.jsx)(L,{invoice:t,currentStatus:n})})})]})})]})}var U=(0,Z.ZP)(D.Z)((function(e){var t=e.theme;return{"& td":{textAlign:"right",borderBottom:"none",paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}}));function V(e){var t=e.invoice,n=(0,r.useState)(t.status),l=(0,g.Z)(n,2),s=l[0],i=l[1],o=(0,r.useCallback)((function(e){i(e.target.value)}),[]),a=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(U,{children:[(0,j.jsx)(G.Z,{colSpan:3}),(0,j.jsxs)(G.Z,{sx:{color:"text.secondary"},children:[(0,j.jsx)(f.Z,{sx:{mt:2}}),"Subtotal"]}),(0,j.jsxs)(G.Z,{width:120,sx:{typography:"subtitle2"},children:[(0,j.jsx)(f.Z,{sx:{mt:2}}),(0,y.e_)(t.subTotal)]})]}),(0,j.jsxs)(U,{children:[(0,j.jsx)(G.Z,{colSpan:3}),(0,j.jsx)(G.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,j.jsx)(G.Z,{width:120,sx:{color:"error.main",typography:"body2"},children:(0,y.e_)(-t.shipping)})]}),(0,j.jsxs)(U,{children:[(0,j.jsx)(G.Z,{colSpan:3}),(0,j.jsx)(G.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,j.jsx)(G.Z,{width:120,sx:{color:"error.main",typography:"body2"},children:(0,y.e_)(-t.discount)})]}),(0,j.jsxs)(U,{children:[(0,j.jsx)(G.Z,{colSpan:3}),(0,j.jsx)(G.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,j.jsx)(G.Z,{width:120,children:(0,y.e_)(t.taxes)})]}),(0,j.jsxs)(U,{children:[(0,j.jsx)(G.Z,{colSpan:3}),(0,j.jsx)(G.Z,{sx:{typography:"subtitle1"},children:"Total"}),(0,j.jsx)(G.Z,{width:140,sx:{typography:"subtitle1"},children:(0,y.e_)(t.totalAmount)})]})]}),d=(0,j.jsxs)(k.Z,{container:!0,children:[(0,j.jsxs)(k.Z,{xs:12,md:9,sx:{py:3},children:[(0,j.jsx)(T.Z,{variant:"subtitle2",children:"NOTES"}),(0,j.jsx)(T.Z,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,j.jsxs)(k.Z,{xs:12,md:3,sx:{py:3,textAlign:"right"},children:[(0,j.jsx)(T.Z,{variant:"subtitle2",children:"Have a Question?"}),(0,j.jsx)(T.Z,{variant:"body2",children:"support@minimals.cc"})]})]}),x=(0,j.jsx)(P.Z,{sx:{overflow:"unset",mt:5},children:(0,j.jsx)(c.Z,{children:(0,j.jsxs)(w.Z,{sx:{minWidth:960},children:[(0,j.jsx)(R.Z,{children:(0,j.jsxs)(D.Z,{children:[(0,j.jsx)(G.Z,{width:40,children:"#"}),(0,j.jsx)(G.Z,{sx:{typography:"subtitle2"},children:"Description"}),(0,j.jsx)(G.Z,{children:"Qty"}),(0,j.jsx)(G.Z,{align:"right",children:"Unit price"}),(0,j.jsx)(G.Z,{align:"right",children:"Total"})]})}),(0,j.jsxs)(_.Z,{children:[t.items.map((function(e,t){return(0,j.jsxs)(D.Z,{children:[(0,j.jsx)(G.Z,{children:t+1}),(0,j.jsx)(G.Z,{children:(0,j.jsxs)(f.Z,{sx:{maxWidth:560},children:[(0,j.jsx)(T.Z,{variant:"subtitle2",children:e.title}),(0,j.jsx)(T.Z,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.description})]})}),(0,j.jsx)(G.Z,{children:e.quantity}),(0,j.jsx)(G.Z,{align:"right",children:(0,y.e_)(e.price)}),(0,j.jsx)(G.Z,{align:"right",children:(0,y.e_)(e.price*e.quantity)})]},t)})),a]})]})})});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(q,{invoice:t,currentStatus:s||"",onChangeStatus:o,statusOptions:b.Dp}),(0,j.jsxs)(v.Z,{sx:{pt:5,px:5},children:[(0,j.jsxs)(f.Z,{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,j.jsx)(f.Z,{component:"img",alt:"logo",src:"/logo/logo_single.svg",sx:{width:48,height:48}}),(0,j.jsxs)(C.Z,{spacing:1,alignItems:{xs:"flex-start",md:"flex-end"},children:[(0,j.jsx)(A.Z,{variant:"soft",color:("paid"===s?"success":"pending"===s&&"warning")||"overdue"===s&&"error"||"default",children:s}),(0,j.jsx)(T.Z,{variant:"h6",children:t.invoiceNumber})]}),(0,j.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,j.jsx)(T.Z,{variant:"subtitle2",sx:{mb:1},children:"Invoice From"}),t.invoiceFrom.name,(0,j.jsx)("br",{}),t.invoiceFrom.fullAddress,(0,j.jsx)("br",{}),"Phone: ",t.invoiceFrom.phoneNumber,(0,j.jsx)("br",{})]}),(0,j.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,j.jsx)(T.Z,{variant:"subtitle2",sx:{mb:1},children:"Invoice To"}),t.invoiceTo.name,(0,j.jsx)("br",{}),t.invoiceTo.fullAddress,(0,j.jsx)("br",{}),"Phone: ",t.invoiceTo.phoneNumber,(0,j.jsx)("br",{})]}),(0,j.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,j.jsx)(T.Z,{variant:"subtitle2",sx:{mb:1},children:"Date Create"}),(0,F.Mu)(t.createDate)]}),(0,j.jsxs)(C.Z,{sx:{typography:"body2"},children:[(0,j.jsx)(T.Z,{variant:"subtitle2",sx:{mb:1},children:"Due Date"}),(0,F.Mu)(t.dueDate)]})]}),x,(0,j.jsx)(S.Z,{sx:{mt:5,borderStyle:"dashed"}}),d]})]})}function $(e){var t=e.id,n=(0,x.K$)(),r=b.Ot.filter((function(e){return e.id===t}))[0];return(0,j.jsxs)(m.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,j.jsx)(h.Z,{heading:null===r||void 0===r?void 0:r.invoiceNumber,links:[{name:"Dashboard",href:l.H.dashboard.root},{name:"Invoice",href:l.H.dashboard.invoice.root},{name:null===r||void 0===r?void 0:r.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,j.jsx)(V,{invoice:r})]})}var K=n(4942),X=n(1413),J=n(74165),Y=n(15861),ee=n(93433),te=n(49900),ne=n(32869),re=n(16386),le=n(12258);function se(e){var t=e.row,n=e.selected,l=e.onViewRow,s=(e.onSelectRow,e.onDeleteRow),c=e.fetchAllOrders,x=(t.orderType,t.priority),h=t.status,u=(t.appointmentDate,t.patientName),b=(t._id,t.dateOrdered),y=t.labItems,m=t.labOrderId,Z=(0,i.k)(),v=(0,p.S)(),w=(0,r.useState)(!1),C=(0,g.Z)(w,2),R=(C[0],C[1],(0,r.useState)(!1)),_=(0,g.Z)(R,2),k=(_[0],_[1],(0,r.useState)(!1)),T=(0,g.Z)(k,2),P=(T[0],T[1],(0,r.useState)(!1)),F=(0,g.Z)(P,2),W=F[0],B=F[1],M=(0,r.useState)(!1),O=(0,g.Z)(M,2),z=O[0],E=(O[1],(0,ne.Ds)().enqueueSnackbar),Q=function(){var e=(0,Y.Z)((0,J.Z)().mark((function e(){var t;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.patch("/medical-labs/facility/result/complete/".concat(m));case 3:(t=e.sent)&&(E("Successfully marked as completed"),c()),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),L=(0,j.jsxs)(D.Z,{hover:!0,selected:n,children:[(0,j.jsx)(G.Z,{children:(0,j.jsx)(f.Z,{onClick:l,sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"".concat(m)})}),(0,j.jsx)(G.Z,{children:(0,j.jsx)(te.Z,{primary:u,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"}})}),(0,j.jsx)(G.Z,{children:(0,j.jsx)(te.Z,{primary:(0,re.Z)(new Date(b),"dd/MM/yyyy"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,j.jsxs)(G.Z,{align:"center",children:[" ",y.map((function(e){return e.category})).join(", ")," "]}),(0,j.jsx)(G.Z,{children:(0,j.jsx)(A.Z,{variant:"soft",color:("approved"===h?"success":"pending"===h&&"warning")||"default",children:h})}),(0,j.jsx)(G.Z,{children:(0,j.jsx)(A.Z,{variant:"soft",color:("regular"===x?"success":"urgent"===x&&"warning")||"emergency"===x&&"error"||"default",children:x})}),(0,j.jsx)(G.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:(0,j.jsx)(H.Z,{color:v.open?"inherit":"default",onClick:v.onOpen,children:(0,j.jsx)(a.Z,{icon:"eva:more-vertical-fill"})})})]});return(0,j.jsxs)(j.Fragment,{children:[L,(0,j.jsxs)(p.Z,{open:v.open,onClose:v.onClose,arrow:"right-top",sx:{maxWidth:200},children:[(0,j.jsxs)(N.Z,{onClick:function(){B(!0)},children:[(0,j.jsx)(a.Z,{icon:"fluent-mdl2:completed-solid"}),"Mark as completed"]}),(0,j.jsx)(S.Z,{sx:{borderStyle:"dashed"}})]}),(0,j.jsx)(d.Q,{open:W,onClose:function(){return B(!1)},title:"Complete Upload of Lab Result",content:"Are you sure you want to set order to complete?",action:(0,j.jsx)(le.Z,{variant:"contained",color:"success",loading:z,onClick:function(){return Q()},children:"Complete"})})," ",(0,j.jsx)(d.Q,{open:Z.value,onClose:Z.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,j.jsx)(I.Z,{variant:"contained",color:"error",onClick:s,children:"Delete"})})]})}var ie=n(53106),oe=n(63466);function ae(e){var t=e.filters,n=e.onFilters,l=e.canReset,s=e.onResetFilters,i=(0,p.S)(),o=(0,r.useCallback)((function(e){n("orderType",e.target.value)}),[n]),c=(0,r.useCallback)((function(e){n("startDate",e)}),[n]),d=(0,r.useCallback)((function(e){n("endDate",e)}),[n]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(C.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,j.jsx)(ie.M,{label:"Start date",value:t.startDate,onChange:c,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,j.jsx)(ie.M,{label:"End date",value:t.endDate,onChange:d,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,j.jsxs)(C.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,j.jsx)(O.Z,{fullWidth:!0,value:t.orderType,onChange:o,placeholder:"Search by order type...",InputProps:{startAdornment:(0,j.jsx)(oe.Z,{position:"start",children:(0,j.jsx)(a.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,j.jsx)(H.Z,{onClick:i.onOpen,children:(0,j.jsx)(a.Z,{icon:"eva:more-vertical-fill"})})]}),l&&(0,j.jsx)(I.Z,{color:"error",sx:{flexShrink:0},onClick:s,startIcon:(0,j.jsx)(a.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]}),(0,j.jsxs)(p.Z,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:140},children:[(0,j.jsxs)(N.Z,{onClick:function(){i.onClose()},children:[(0,j.jsx)(a.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,j.jsxs)(N.Z,{onClick:function(){i.onClose()},children:[(0,j.jsx)(a.Z,{icon:"solar:export-bold"}),"Export"]})]})]})}var ce=n(45987),de=n(85771),xe=n(27938),he=n(25265),ue=["filters","onFilters","onResetFilters","results"],pe=["label","children","sx"];function je(e){var t=e.filters,n=e.onFilters,r=e.onResetFilters,l=e.results,s=(0,ce.Z)(e,ue),i=(0,he.l2)(t.startDate,t.endDate);return(0,j.jsxs)(C.Z,(0,X.Z)((0,X.Z)({spacing:1.5},s),{},{children:[(0,j.jsxs)(f.Z,{sx:{typography:"body2"},children:[(0,j.jsx)("strong",{children:l}),(0,j.jsx)(f.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,j.jsxs)(C.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:["all"!==t.status&&(0,j.jsx)(be,{label:"Status:",children:(0,j.jsx)(de.Z,{size:"small",label:t.status,onDelete:function(){n("status","all")}})}),t.startDate&&t.endDate&&(0,j.jsx)(be,{label:"Date:",children:(0,j.jsx)(de.Z,{size:"small",label:i,onDelete:function(){n("startDate",null),n("endDate",null)}})}),(0,j.jsx)(I.Z,{color:"error",onClick:r,startIcon:(0,j.jsx)(a.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function be(e){var t=e.label,n=e.children,r=e.sx,l=(0,ce.Z)(e,pe);return(0,j.jsxs)(C.Z,(0,X.Z)((0,X.Z)({component:xe.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,X.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},r)},l),{},{children:[(0,j.jsx)(f.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,j.jsx)(C.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]}))}var ye=n(8976),me=([{value:"all",label:"All"}].concat((0,ee.Z)(b.s8)),[{id:"orderNumber",label:"Appointment ID",width:180},{id:"name",label:"Patient",width:120},{id:"createdAt",label:"Date",width:120},{id:"totalQuantity",label:"Order Type",width:200},{id:"totalAmount",label:"Status",width:140},{id:"status",label:"Priority",width:110},{id:"",width:88}]),ge={name:"",status:"all",startDate:null,endDate:null,orderType:"",labOrderId:""};function Ze(){var e=(0,u.x6)({defaultOrderBy:"orderNumber"}),t=(0,x.K$)(),n=(0,s.tv)(),d=(0,i.k)(),p=(0,r.useState)([]),b=(0,g.Z)(p,2),y=b[0],Z=b[1],f=(0,r.useState)(ge),C=(0,g.Z)(f,2),S=C[0],D=C[1],R=(0,ye.E)().user,G=function(){var e=(0,Y.Z)((0,J.Z)().mark((function e(){var t,n;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/medical-labs/facility/result/uncompleted/".concat(null===R||void 0===R?void 0:R.facilityID));case 3:t=e.sent,n=t.data,console.log(n),Z(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){G()}),[]);var k=!(!S.startDate||!S.endDate)&&S.startDate.getTime()>S.endDate.getTime(),T=function(e){var t=e.inputData,n=e.comparator,r=e.filters,l=e.dateError,s=r.status,i=(r.name,r.startDate),o=r.endDate,a=r.orderType,c=(r.labOrderId,t.map((function(e,t){return[e,t]})));c.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t=c.map((function(e){return e[0]})),a&&(t=t.filter((function(e){return-1!==e.orderType.toLowerCase().indexOf(a.toLowerCase())})));"all"!==s&&(t=t.filter((function(e){return e.status===s})));l||i&&o&&(t=t.filter((function(e){return(0,F.IO)(e.createdAt)>=(0,F.IO)(i)&&(0,F.IO)(e.createdAt)<=(0,F.IO)(o)})));return t}({inputData:y,comparator:(0,u.sQ)(e.order,e.orderBy),filters:S,dateError:k}),A=T.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),W=e.dense?52:72,I=!!S.name||"all"!==S.status||!!S.startDate&&!!S.endDate,B=!T.length&&I||!T.length,N=(0,r.useCallback)((function(t,n){e.onResetPage(),D((function(e){return(0,X.Z)((0,X.Z)({},e),{},(0,K.Z)({},t,n))}))}),[e]),O=(0,r.useCallback)((function(t){var n=y.filter((function(e){return e.id!==t}));Z(n),e.onUpdatePageDeleteRow(A.length)}),[A.length,e,y]),z=((0,r.useCallback)((function(){var t=y.filter((function(t){return!e.selected.includes(t.id)}));Z(t),e.onUpdatePageDeleteRows({totalRows:y.length,totalRowsInPage:A.length,totalRowsFiltered:T.length})}),[T.length,A.length,e,y]),(0,r.useCallback)((function(){D(ge)}),[])),E=(0,r.useCallback)((function(e){n.push(l.H.dashboard.order.details(e))}),[n]);(0,r.useCallback)((function(e,t){N("status",t)}),[N]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(m.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,j.jsx)(h.Z,{heading:"All Lab Results",links:[{name:"Dashboard",href:l.H.dashboard.root},{name:"Appointments",href:l.H.dashboard.order.root},{name:"List"}],sx:{mb:{xs:3,md:5}}}),(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(ae,{filters:S,onFilters:N,canReset:I,onResetFilters:z}),I&&(0,j.jsx)(je,{filters:S,onFilters:N,onResetFilters:z,results:T.length,sx:{p:2.5,pt:0}}),(0,j.jsxs)(P.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,j.jsx)(u.Z4,{dense:e.dense,numSelected:e.selected.length,rowCount:y.length,onSelectAllRows:function(t){return e.onSelectAllRows(t,y.map((function(e){return e.id})))},action:(0,j.jsx)(M.Z,{title:"Delete",children:(0,j.jsx)(H.Z,{color:"primary",onClick:d.onTrue,children:(0,j.jsx)(a.Z,{icon:"solar:trash-bin-trash-bold"})})})}),(0,j.jsx)(c.Z,{children:(0,j.jsxs)(w.Z,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[(0,j.jsx)(u.K,{order:e.order,orderBy:e.orderBy,headLabel:me,rowCount:y.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:function(t){return e.onSelectAllRows(t,y.map((function(e){return e.id})))}}),(0,j.jsxs)(_.Z,{children:[T.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((function(t){return(0,j.jsx)(se,{row:t,selected:e.selected.includes(t.id),onSelectRow:function(){return e.onSelectRow(t.id)},onDeleteRow:function(){return O(t.id)},onViewRow:function(){return E(t.id)},fetchAllOrders:G},t.id)})),(0,j.jsx)(u.$W,{height:W,emptyRows:(0,u.fQ)(e.page,e.rowsPerPage,y.length)}),(0,j.jsx)(u.et,{notFound:B})]})]})})]}),(0,j.jsx)(u.S_,{count:T.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]})})}},53382:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(87462),l=n(63366),s=n(72791),i=n(59278),o=n(94419),a=n(829),c=n(31402),d=n(66934),x=n(75878),h=n(21217);function u(e){return(0,h.Z)("MuiTableBody",e)}(0,x.Z)("MuiTableBody",["root"]);var p=n(80184),j=["className","component"],b=(0,d.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-row-group"}),y={variant:"body"},m="tbody",g=s.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiTableBody"}),s=n.className,d=n.component,x=void 0===d?m:d,h=(0,l.Z)(n,j),g=(0,r.Z)({},n,{component:x}),Z=function(e){var t=e.classes;return(0,o.Z)({root:["root"]},u,t)}(g);return(0,p.jsx)(a.Z.Provider,{value:y,children:(0,p.jsx)(b,(0,r.Z)({className:(0,i.Z)(Z.root,s),as:x,ref:t,role:x===m?null:"rowgroup",ownerState:g},h))})}))},39281:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(87462),l=n(63366),s=n(72791),i=n(59278),o=n(94419),a=n(31402),c=n(66934),d=n(75878),x=n(21217);function h(e){return(0,x.Z)("MuiTableContainer",e)}(0,d.Z)("MuiTableContainer",["root"]);var u=n(80184),p=["className","component"],j=(0,c.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,t){return t.root}})({width:"100%",overflowX:"auto"}),b=s.forwardRef((function(e,t){var n=(0,a.Z)({props:e,name:"MuiTableContainer"}),s=n.className,c=n.component,d=void 0===c?"div":c,x=(0,l.Z)(n,p),b=(0,r.Z)({},n,{component:d}),y=function(e){var t=e.classes;return(0,o.Z)({root:["root"]},h,t)}(b);return(0,u.jsx)(j,(0,r.Z)({ref:t,as:d,className:(0,i.Z)(y.root,s),ownerState:b},x))}))},79836:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(63366),l=n(87462),s=n(72791),i=n(59278),o=n(94419),a=n(46646),c=n(31402),d=n(66934),x=n(75878),h=n(21217);function u(e){return(0,h.Z)("MuiTable",e)}(0,x.Z)("MuiTable",["root","stickyHeader"]);var p=n(80184),j=["className","component","padding","size","stickyHeader"],b=(0,d.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,l.Z)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),y="table",m=s.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiTable"}),d=n.className,x=n.component,h=void 0===x?y:x,m=n.padding,g=void 0===m?"normal":m,Z=n.size,f=void 0===Z?"medium":Z,v=n.stickyHeader,w=void 0!==v&&v,C=(0,r.Z)(n,j),S=(0,l.Z)({},n,{component:h,padding:g,size:f,stickyHeader:w}),D=function(e){var t=e.classes,n={root:["root",e.stickyHeader&&"stickyHeader"]};return(0,o.Z)(n,u,t)}(S),R=s.useMemo((function(){return{padding:g,size:f,stickyHeader:w}}),[g,f,w]);return(0,p.jsx)(a.Z.Provider,{value:R,children:(0,p.jsx)(b,(0,l.Z)({as:h,role:h===y?null:"table",ref:t,className:(0,i.Z)(D.root,d),ownerState:S},C))})}))}}]);
//# sourceMappingURL=9469.484638b5.chunk.js.map