"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[2133],{32133:function(e,n,t){t.d(n,{o:function(){return We},H2:function(){return Ae},Mb:function(){return fe}});var r=t(4942),i=t(1413),o=t(29439),s=t(31357),l=t.n(s),a=t(72791),c=t(13967),d=t(12065),u=t(61474),x=t(2101),h=t(57621),p=t(79836),m=t(36314),f=t(5849),v=t(94721),j=t(20068),Z=t(89164),g=t(53382),b=t(13400),y=t(39281),w=t(38072),C=t(19208),D=t(83854),k=t(22459),P=t(9145),S=t(57062),I=t(80160),T=t(40268),F=t(47974),R=t(3352),A=t(60720),W=t(50933),z=t(1382),N=t(64554),q=t(4567),O=t(13239),_=t(17070),M=t(80184);function E(e){var n=e.title,t=e.total,r=e.icon,i=e.color,o=e.percent,s=e.price;return(0,M.jsxs)(m.Z,{spacing:2.5,direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,M.jsxs)(m.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,M.jsx)(T.Z,{icon:r,width:32,sx:{color:i,position:"absolute"}}),(0,M.jsx)(O.Z,{variant:"determinate",value:o,size:56,thickness:2,sx:{color:i,opacity:.48}}),(0,M.jsx)(O.Z,{variant:"determinate",value:100,size:56,thickness:3,sx:{top:0,left:0,opacity:.48,position:"absolute",color:function(e){return(0,d.Fq)(e.palette.grey[500],.16)}}})]}),(0,M.jsxs)(m.Z,{spacing:.5,children:[(0,M.jsx)(q.Z,{variant:"subtitle1",children:n}),(0,M.jsxs)(N.Z,{component:"span",sx:{color:"text.disabled",typography:"body2"},children:[(0,_.v1)(t)," lab orders"]}),(0,M.jsx)(q.Z,{variant:"subtitle2",children:(0,_.e_)(s)})]})]})}var H=t(16386),L=t(50533),K=t(60220),V=t(82626),$=t(9195),B=t(68745),G=t(49900),Q=t(52115);function J(e){var n=e.row,t=e.selected,r=(e.onSelectRow,e.onViewRow),i=e.onEditRow,o=e.onDeleteRow,s=n.sent,l=n.invoiceNumber,a=n.createDate,c=n.dueDate,d=n.status,u=n.invoiceTo,x=n.totalAmount,h=(0,k.k)(),p=(0,Q.S)();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)($.Z,{hover:!0,selected:t,children:[(0,M.jsxs)(B.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,M.jsx)(K.Z,{alt:u.name,sx:{mr:2},children:u.name.charAt(0).toUpperCase()}),(0,M.jsx)(G.Z,{disableTypography:!0,primary:(0,M.jsx)(q.Z,{variant:"body2",noWrap:!0,children:u.name}),secondary:(0,M.jsx)(L.Z,{noWrap:!0,variant:"body2",onClick:r,sx:{color:"text.disabled",cursor:"pointer"},children:l})})]}),(0,M.jsx)(B.Z,{children:(0,M.jsx)(G.Z,{primary:(0,H.Z)(new Date(a),"dd MMM yyyy"),secondary:(0,H.Z)(new Date(a),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,M.jsx)(B.Z,{children:(0,M.jsx)(G.Z,{primary:(0,H.Z)(new Date(c),"dd MMM yyyy"),secondary:(0,H.Z)(new Date(c),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,M.jsx)(B.Z,{children:(0,_.e_)(x)}),(0,M.jsx)(B.Z,{align:"center",children:s}),(0,M.jsx)(B.Z,{children:(0,M.jsx)(I.Z,{variant:"soft",color:("paid"===d?"success":"pending"===d&&"warning")||"overdue"===d&&"error"||"default",children:d})}),(0,M.jsx)(B.Z,{align:"right",sx:{px:1},children:(0,M.jsx)(b.Z,{color:p.open?"inherit":"default",onClick:p.onOpen,children:(0,M.jsx)(T.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,M.jsxs)(Q.Z,{open:p.open,onClose:p.onClose,arrow:"right-top",sx:{width:160},children:[(0,M.jsxs)(V.Z,{onClick:function(){r(),p.onClose()},children:[(0,M.jsx)(T.Z,{icon:"solar:eye-bold"}),"View"]}),(0,M.jsxs)(V.Z,{onClick:function(){i(),p.onClose()},children:[(0,M.jsx)(T.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,M.jsx)(v.Z,{sx:{borderStyle:"dashed"}}),(0,M.jsxs)(V.Z,{onClick:function(){h.onTrue(),p.onClose()},sx:{color:"error.main"},children:[(0,M.jsx)(T.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),(0,M.jsx)(R.Q,{open:h.value,onClose:h.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,M.jsx)(f.Z,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var U=t(53106),X=t(13034),Y=t(48550),ee=t(62861),ne=t(68096),te=t(63466),re=t(77196),ie=t(58406);function oe(e){var n=e.filters,t=e.onFilters,r=e.dateError,i=e.serviceOptions,o=(0,Q.S)(),s=(0,a.useCallback)((function(e){t("name",e.target.value)}),[t]),l=(0,a.useCallback)((function(e){t("service","string"===typeof e.target.value?e.target.value.split(","):e.target.value)}),[t]),c=(0,a.useCallback)((function(e){t("startDate",e)}),[t]),d=(0,a.useCallback)((function(e){t("endDate",e)}),[t]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(m.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,M.jsxs)(ne.Z,{sx:{flexShrink:0,width:{xs:1,md:180}},children:[(0,M.jsx)(ee.Z,{children:"Service"}),(0,M.jsx)(ie.Z,{multiple:!0,value:n.service,onChange:l,input:(0,M.jsx)(re.Z,{label:"Service"}),renderValue:function(e){return e.map((function(e){return e})).join(", ")},sx:{textTransform:"capitalize"},children:i.map((function(e){return(0,M.jsxs)(V.Z,{value:e,children:[(0,M.jsx)(X.Z,{disableRipple:!0,size:"small",checked:n.service.includes(e)}),e]},e)}))})]}),(0,M.jsx)(U.M,{label:"Start date",value:n.startDate,onChange:c,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:180}}}),(0,M.jsx)(U.M,{label:"End date",value:n.endDate,onChange:d,slotProps:{textField:{fullWidth:!0,error:r}},sx:{maxWidth:{md:180}}}),(0,M.jsxs)(m.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,M.jsx)(Y.Z,{fullWidth:!0,value:n.name,onChange:s,placeholder:"Search customer or invoice number...",InputProps:{startAdornment:(0,M.jsx)(te.Z,{position:"start",children:(0,M.jsx)(T.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,M.jsx)(b.Z,{onClick:o.onOpen,children:(0,M.jsx)(T.Z,{icon:"eva:more-vertical-fill"})})]})]}),(0,M.jsxs)(Q.Z,{open:o.open,onClose:o.onClose,arrow:"right-top",sx:{width:140},children:[(0,M.jsxs)(V.Z,{onClick:function(){o.onClose()},children:[(0,M.jsx)(T.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,M.jsxs)(V.Z,{onClick:function(){o.onClose()},children:[(0,M.jsx)(T.Z,{icon:"solar:import-bold"}),"Import"]}),(0,M.jsxs)(V.Z,{onClick:function(){o.onClose()},children:[(0,M.jsx)(T.Z,{icon:"solar:export-bold"}),"Export"]})]})]})}var se=t(45987),le=t(85771),ae=t(27938),ce=t(25265),de=["filters","onFilters","onResetFilters","results"],ue=["label","children","sx"];function xe(e){var n=e.filters,t=e.onFilters,r=e.onResetFilters,o=e.results,s=(0,se.Z)(e,de),l=(0,ce.l2)(n.startDate,n.endDate);return(0,M.jsxs)(m.Z,(0,i.Z)((0,i.Z)({spacing:1.5},s),{},{children:[(0,M.jsxs)(N.Z,{sx:{typography:"body2"},children:[(0,M.jsx)("strong",{children:o}),(0,M.jsx)(N.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,M.jsxs)(m.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!n.service.length&&(0,M.jsx)(he,{label:"Service:",children:n.service.map((function(e){return(0,M.jsx)(le.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.service.filter((function(n){return n!==e}));t("service",r)}(e)}},e)}))}),"all"!==n.status&&(0,M.jsx)(he,{label:"Status:",children:(0,M.jsx)(le.Z,{size:"small",label:n.status,onDelete:function(){t("status","all")}})}),n.startDate&&n.endDate&&(0,M.jsx)(he,{label:"Date:",children:(0,M.jsx)(le.Z,{size:"small",label:l,onDelete:function(){t("startDate",null),t("endDate",null)}})}),(0,M.jsx)(f.Z,{color:"error",onClick:r,startIcon:(0,M.jsx)(T.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function he(e){var n=e.label,t=e.children,r=e.sx,o=(0,se.Z)(e,ue);return(0,M.jsxs)(m.Z,(0,i.Z)((0,i.Z)({component:ae.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,i.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},r)},o),{},{children:[(0,M.jsx)(N.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,M.jsx)(m.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]}))}var pe=[{id:"invoiceNumber",label:"Customer"},{id:"createDate",label:"Create"},{id:"dueDate",label:"Due"},{id:"price",label:"Amount"},{id:"sent",label:"Sent",align:"center"},{id:"status",label:"Status"},{id:""}],me={name:"",service:[],status:"all",startDate:null,endDate:null};function fe(){var e=(0,c.Z)(),n=(0,A.K$)(),t=(0,C.tv)(),s=(0,z.x6)({defaultOrderBy:"createDate"}),N=(0,k.k)(),q=(0,a.useState)(S.Ot),O=(0,o.Z)(q,2),_=O[0],H=O[1],L=(0,a.useState)(me),K=(0,o.Z)(L,2),V=K[0],$=K[1],B=!(!V.startDate||!V.endDate)&&V.startDate.getTime()>V.endDate.getTime(),G=function(e){var n=e.inputData,t=e.comparator,r=e.filters,i=e.dateError,o=r.name,s=r.status,l=r.service,a=r.startDate,c=r.endDate,d=n.map((function(e,n){return[e,n]}));d.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n=d.map((function(e){return e[0]})),o&&(n=n.filter((function(e){return-1!==e.invoiceNumber.toLowerCase().indexOf(o.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(o.toLowerCase())})));"all"!==s&&(n=n.filter((function(e){return e.status===s})));l.length&&(n=n.filter((function(e){return e.items.some((function(e){return l.includes(e.service)}))})));i||a&&c&&(n=n.filter((function(e){return(0,P.IO)(e.createDate)>=(0,P.IO)(a)&&(0,P.IO)(e.createDate)<=(0,P.IO)(c)})));return n}({inputData:_,comparator:(0,z.sQ)(s.order,s.orderBy),filters:V,dateError:B}),Q=G.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage),U=s.dense?56:76,X=!!V.name||!!V.service.length||"all"!==V.status||!!V.startDate&&!!V.endDate,Y=!G.length&&X||!G.length,ee=function(e){return _.filter((function(n){return n.status===e})).length},ne=function(e){return l()(_.filter((function(n){return n.status===e})),"totalAmount")},te=function(e){return ee(e)/_.length*100},re=[{value:"all",label:"All",color:"default",count:_.length},{value:"paid",label:"Paid",color:"success",count:ee("paid")},{value:"pending",label:"Pending",color:"warning",count:ee("pending")},{value:"overdue",label:"Overdue",color:"error",count:ee("overdue")},{value:"draft",label:"Draft",color:"default",count:ee("draft")}],ie=(0,a.useCallback)((function(e,n){s.onResetPage(),$((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},e,n))}))}),[s]),se=(0,a.useCallback)((function(e){var n=_.filter((function(n){return n.id!==e}));H(n),s.onUpdatePageDeleteRow(Q.length)}),[Q.length,s,_]),le=(0,a.useCallback)((function(){var e=_.filter((function(e){return!s.selected.includes(e.id)}));H(e),s.onUpdatePageDeleteRows({totalRows:_.length,totalRowsInPage:Q.length,totalRowsFiltered:G.length})}),[G.length,Q.length,s,_]),ae=(0,a.useCallback)((function(e){t.push(w.H.dashboard.invoice.edit(e))}),[t]),ce=(0,a.useCallback)((function(e){t.push(w.H.dashboard.invoice.details(e))}),[t]),de=(0,a.useCallback)((function(e,n){ie("status",n)}),[ie]),ue=(0,a.useCallback)((function(){$(me)}),[]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(Z.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,M.jsx)(W.Z,{heading:"Transactions",links:[{name:"Dashboard",href:w.H.dashboard.root},{name:"Transactions"}],action:(0,M.jsx)(f.Z,{component:D.r,href:w.H.dashboard.invoice.new,variant:"contained",children:"Request Payout"}),sx:{mb:{xs:3,md:5}}}),(0,M.jsx)(h.Z,{sx:{mb:{xs:3,md:5}},children:(0,M.jsx)(F.Z,{children:(0,M.jsxs)(m.Z,{direction:"row",divider:(0,M.jsx)(v.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,M.jsx)(E,{title:"Total",total:_.length,percent:100,price:l()(_,"totalAmount"),icon:"solar:bill-list-bold-duotone",color:e.palette.info.main}),(0,M.jsx)(E,{title:"Paid",total:ee("paid"),percent:te("paid"),price:ne("paid"),icon:"solar:file-check-bold-duotone",color:e.palette.success.main}),(0,M.jsx)(E,{title:"Pending",total:ee("pending"),percent:te("pending"),price:ne("pending"),icon:"solar:sort-by-time-bold-duotone",color:e.palette.warning.main}),(0,M.jsx)(E,{title:"Overdue",total:ee("overdue"),percent:te("overdue"),price:ne("overdue"),icon:"solar:bell-bing-bold-duotone",color:e.palette.error.main})]})})}),(0,M.jsxs)(h.Z,{children:[(0,M.jsx)(x.Z,{value:V.status,onChange:de,sx:{px:2.5,boxShadow:"inset 0 -2px 0 0 ".concat((0,d.Fq)(e.palette.grey[500],.08))},children:re.map((function(e){return(0,M.jsx)(u.Z,{value:e.value,label:e.label,iconPosition:"end",icon:(0,M.jsx)(I.Z,{variant:"all"===e.value||e.value===V.status?"filled":"soft",color:e.color,children:e.count})},e.value)}))}),(0,M.jsx)(oe,{filters:V,onFilters:ie,dateError:B,serviceOptions:S.PI.map((function(e){return e.name}))}),X&&(0,M.jsx)(xe,{filters:V,onFilters:ie,onResetFilters:ue,results:G.length,sx:{p:2.5,pt:0}}),(0,M.jsxs)(y.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,M.jsx)(z.Z4,{dense:s.dense,numSelected:s.selected.length,rowCount:_.length,onSelectAllRows:function(e){return s.onSelectAllRows(e,_.map((function(e){return e.id})))},action:(0,M.jsxs)(m.Z,{direction:"row",children:[(0,M.jsx)(j.Z,{title:"Sent",children:(0,M.jsx)(b.Z,{color:"primary",children:(0,M.jsx)(T.Z,{icon:"iconamoon:send-fill"})})}),(0,M.jsx)(j.Z,{title:"Download",children:(0,M.jsx)(b.Z,{color:"primary",children:(0,M.jsx)(T.Z,{icon:"eva:download-outline"})})}),(0,M.jsx)(j.Z,{title:"Print",children:(0,M.jsx)(b.Z,{color:"primary",children:(0,M.jsx)(T.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,M.jsx)(j.Z,{title:"Delete",children:(0,M.jsx)(b.Z,{color:"primary",onClick:N.onTrue,children:(0,M.jsx)(T.Z,{icon:"solar:trash-bin-trash-bold"})})})]})}),(0,M.jsx)(F.Z,{children:(0,M.jsxs)(p.Z,{size:s.dense?"small":"medium",sx:{minWidth:800},children:[(0,M.jsx)(z.K,{order:s.order,orderBy:s.orderBy,headLabel:pe,rowCount:_.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:function(e){return s.onSelectAllRows(e,_.map((function(e){return e.id})))}}),(0,M.jsxs)(g.Z,{children:[G.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map((function(e){return(0,M.jsx)(J,{row:e,selected:s.selected.includes(e.id),onSelectRow:function(){return s.onSelectRow(e.id)},onViewRow:function(){return ce(e.id)},onEditRow:function(){return ae(e.id)},onDeleteRow:function(){return se(e.id)}},e.id)})),(0,M.jsx)(z.$W,{height:U,emptyRows:(0,z.fQ)(s.page,s.rowsPerPage,_.length)}),(0,M.jsx)(z.et,{notFound:Y})]})]})})]}),(0,M.jsx)(z.S_,{count:G.length,page:s.page,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,onRowsPerPageChange:s.onChangeRowsPerPage,dense:s.dense,onChangeDense:s.onChangeDense})]})]}),(0,M.jsx)(R.Q,{open:N.value,onClose:N.onFalse,title:"Delete",content:(0,M.jsxs)(M.Fragment,{children:["Are you sure want to delete"," ",(0,M.jsxs)("strong",{children:[" ",s.selected.length," "]})," items?"]}),action:(0,M.jsx)(f.Z,{variant:"contained",color:"error",onClick:function(){le(),N.onFalse()},children:"Delete"})})]})}var ve=t(74165),je=t(15861),Ze=t(8007),ge=t(61134),be=t(44695),ye=t(12258),we=t(39231),Ce=t(87151),De=t.n(Ce),ke=t(55891);function Pe(){var e=(0,ge.Gc)(),n=e.control,t=e.setValue,o=e.watch,s=e.resetField,l=(0,ge.Dq)({control:n,name:"items"}),c=l.fields,d=l.append,u=l.remove,x=o(),h=x.items.map((function(e){return e.quantity*e.price})),p=De()(h),j=p-x.discount-x.shipping+x.taxes;(0,a.useEffect)((function(){t("totalAmount",j)}),[t,j]);var Z=(0,a.useCallback)((function(e){s("items[".concat(e,"].quantity")),s("items[".concat(e,"].price")),s("items[".concat(e,"].total"))}),[s]),g=(0,a.useCallback)((function(e,n){var r;t("items[".concat(e,"].price"),null===(r=S.PI.find((function(e){return e.name===n})))||void 0===r?void 0:r.price),t("items[".concat(e,"].total"),x.items.map((function(e){return e.quantity*e.price}))[e])}),[t,x.items]),b=(0,a.useCallback)((function(e,n){t("items[".concat(n,"].quantity"),Number(e.target.value)),t("items[".concat(n,"].total"),x.items.map((function(e){return e.quantity*e.price}))[n])}),[t,x.items]),y=(0,a.useCallback)((function(e,n){t("items[".concat(n,"].price"),Number(e.target.value)),t("items[".concat(n,"].total"),x.items.map((function(e){return e.quantity*e.price}))[n])}),[t,x.items]),w=(0,M.jsxs)(m.Z,{spacing:2,alignItems:"flex-end",sx:{mt:3,textAlign:"right",typography:"body2"},children:[(0,M.jsxs)(m.Z,{direction:"row",children:[(0,M.jsx)(N.Z,{sx:{color:"text.secondary"},children:"Subtotal"}),(0,M.jsx)(N.Z,{sx:{width:160,typography:"subtitle2"},children:(0,_.e_)(p)||"-"})]}),(0,M.jsxs)(m.Z,{direction:"row",children:[(0,M.jsx)(N.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,M.jsx)(N.Z,{sx:(0,i.Z)({width:160},x.shipping&&{color:"error.main"}),children:x.shipping?"- ".concat((0,_.e_)(x.shipping)):"-"})]}),(0,M.jsxs)(m.Z,{direction:"row",children:[(0,M.jsx)(N.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,M.jsx)(N.Z,{sx:(0,i.Z)({width:160},x.discount&&{color:"error.main"}),children:x.discount?"- ".concat((0,_.e_)(x.discount)):"-"})]}),(0,M.jsxs)(m.Z,{direction:"row",children:[(0,M.jsx)(N.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,M.jsx)(N.Z,{sx:{width:160},children:x.taxes?(0,_.e_)(x.taxes):"-"})]}),(0,M.jsxs)(m.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,M.jsx)(N.Z,{children:"Total"}),(0,M.jsx)(N.Z,{sx:{width:160},children:(0,_.e_)(j)||"-"})]})]});return(0,M.jsxs)(N.Z,{sx:{p:3},children:[(0,M.jsx)(q.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"Details:"}),(0,M.jsx)(m.Z,{divider:(0,M.jsx)(v.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:c.map((function(e,n){return(0,M.jsxs)(m.Z,{alignItems:"flex-end",spacing:1.5,children:[(0,M.jsxs)(m.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1},children:[(0,M.jsx)(we.au,{size:"small",name:"items[".concat(n,"].title"),label:"Title",InputLabelProps:{shrink:!0}}),(0,M.jsx)(we.au,{size:"small",name:"items[".concat(n,"].description"),label:"Description",InputLabelProps:{shrink:!0}}),(0,M.jsxs)(we.Cc,{name:"items[".concat(n,"].service"),size:"small",label:"Service",InputLabelProps:{shrink:!0},sx:{maxWidth:{md:160}},children:[(0,M.jsx)(V.Z,{value:"",onClick:function(){return Z(n)},sx:{fontStyle:"italic",color:"text.secondary"},children:"None"}),(0,M.jsx)(v.Z,{sx:{borderStyle:"dashed"}}),S.PI.map((function(e){return(0,M.jsx)(V.Z,{value:e.name,onClick:function(){return g(n,e.name)},children:e.name},e.id)}))]}),(0,M.jsx)(we.au,{size:"small",type:"number",name:"items[".concat(n,"].quantity"),label:"Quantity",placeholder:"0",onChange:function(e){return b(e,n)},InputLabelProps:{shrink:!0},sx:{maxWidth:{md:96}}}),(0,M.jsx)(we.au,{size:"small",type:"number",name:"items[".concat(n,"].price"),label:"Price",placeholder:"0.00",onChange:function(e){return y(e,n)},InputProps:{startAdornment:(0,M.jsx)(te.Z,{position:"start",children:(0,M.jsx)(N.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:{maxWidth:{md:96}}}),(0,M.jsx)(we.au,{disabled:!0,size:"small",type:"number",name:"items[".concat(n,"].total"),label:"Total",placeholder:"0.00",value:0===x.items[n].total?"":x.items[n].total.toFixed(2),onChange:function(e){return y(e,n)},InputProps:{startAdornment:(0,M.jsx)(te.Z,{position:"start",children:(0,M.jsx)(N.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:(0,r.Z)({maxWidth:{md:104}},"& .".concat(ke.Z.input),{textAlign:{md:"right"}})})]}),(0,M.jsx)(f.Z,{size:"small",color:"error",startIcon:(0,M.jsx)(T.Z,{icon:"solar:trash-bin-trash-bold"}),onClick:function(){return function(e){u(e)}(n)},children:"Remove"})]},e.id)}))}),(0,M.jsx)(v.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,M.jsxs)(m.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[(0,M.jsx)(f.Z,{size:"small",color:"primary",startIcon:(0,M.jsx)(T.Z,{icon:"mingcute:add-line"}),onClick:function(){d({title:"",description:"",service:"",quantity:1,price:0,total:0})},sx:{flexShrink:0},children:"Add Item"}),(0,M.jsxs)(m.Z,{spacing:2,justifyContent:"flex-end",direction:{xs:"column",md:"row"},sx:{width:1},children:[(0,M.jsx)(we.au,{size:"small",label:"Shipping($)",name:"shipping",type:"number",sx:{maxWidth:{md:120}}}),(0,M.jsx)(we.au,{size:"small",label:"Discount($)",name:"discount",type:"number",sx:{maxWidth:{md:120}}}),(0,M.jsx)(we.au,{size:"small",label:"Taxes(%)",name:"taxes",type:"number",sx:{maxWidth:{md:120}}})]})]}),w]})}var Se=t(38887),Ie=t(21435);function Te(){var e,n=(0,ge.Gc)(),t=n.watch,r=n.setValue,i=n.formState.errors,o=(0,Se.F)("up","md"),s=t(),l=s.invoiceFrom,a=s.invoiceTo,c=(0,k.k)(),d=(0,k.k)();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(m.Z,{spacing:{xs:3,md:5},direction:{xs:"column",md:"row"},divider:(0,M.jsx)(v.Z,{flexItem:!0,orientation:o?"vertical":"horizontal",sx:{borderStyle:"dashed"}}),sx:{p:3},children:[(0,M.jsxs)(m.Z,{sx:{width:1},children:[(0,M.jsxs)(m.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,M.jsx)(q.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"From:"}),(0,M.jsx)(b.Z,{onClick:c.onTrue,children:(0,M.jsx)(T.Z,{icon:"solar:pen-bold"})})]}),(0,M.jsxs)(m.Z,{spacing:1,children:[(0,M.jsx)(q.Z,{variant:"subtitle2",children:l.name}),(0,M.jsx)(q.Z,{variant:"body2",children:l.fullAddress}),(0,M.jsxs)(q.Z,{variant:"body2",children:[" ",l.phoneNumber]})]})]}),(0,M.jsxs)(m.Z,{sx:{width:1},children:[(0,M.jsxs)(m.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,M.jsx)(q.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"To:"}),(0,M.jsx)(b.Z,{onClick:d.onTrue,children:(0,M.jsx)(T.Z,{icon:a?"solar:pen-bold":"mingcute:add-line"})})]}),a?(0,M.jsxs)(m.Z,{spacing:1,children:[(0,M.jsx)(q.Z,{variant:"subtitle2",children:a.name}),(0,M.jsx)(q.Z,{variant:"body2",children:a.fullAddress}),(0,M.jsxs)(q.Z,{variant:"body2",children:[" ",a.phoneNumber]})]}):(0,M.jsx)(q.Z,{typography:"caption",sx:{color:"error.main"},children:null===(e=i.invoiceTo)||void 0===e?void 0:e.message})]})]}),(0,M.jsx)(Ie.IJ,{title:"Customers",open:c.value,onClose:c.onFalse,selected:function(e){return(null===l||void 0===l?void 0:l.id)===e},onSelect:function(e){return r("invoiceFrom",e)},list:S.PX,action:(0,M.jsx)(f.Z,{size:"small",startIcon:(0,M.jsx)(T.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})}),(0,M.jsx)(Ie.IJ,{title:"Customers",open:d.value,onClose:d.onFalse,selected:function(e){return(null===a||void 0===a?void 0:a.id)===e},onSelect:function(e){return r("invoiceTo",e)},list:S.PX,action:(0,M.jsx)(f.Z,{size:"small",startIcon:(0,M.jsx)(T.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}function Fe(){var e=(0,ge.Gc)(),n=e.control,t=(0,e.watch)();return(0,M.jsxs)(m.Z,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3,bgcolor:"background.neutral"},children:[(0,M.jsx)(we.au,{disabled:!0,name:"invoiceNumber",label:"Invoice number",value:t.invoiceNumber}),(0,M.jsx)(we.Cc,{fullWidth:!0,name:"status",label:"Status",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["paid","pending","overdue","draft"].map((function(e){return(0,M.jsx)(V.Z,{value:e,children:e},e)}))}),(0,M.jsx)(ge.Qr,{name:"createDate",control:n,render:function(e){var n=e.field,t=e.fieldState.error;return(0,M.jsx)(U.M,{label:"Date create",value:n.value,onChange:function(e){n.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!t,helperText:null===t||void 0===t?void 0:t.message}}})}}),(0,M.jsx)(ge.Qr,{name:"dueDate",control:n,render:function(e){var n=e.field,t=e.fieldState.error;return(0,M.jsx)(U.M,{label:"Due date",value:n.value,onChange:function(e){n.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!t,helperText:null===t||void 0===t?void 0:t.message}}})}})]})}function Re(e){var n=e.currentInvoice,t=(0,C.tv)(),r=(0,k.k)(),i=(0,k.k)(),o=Ze.Ry().shape({invoiceTo:Ze.nK().nullable().required("Invoice to is required"),createDate:Ze.nK().nullable().required("Create date is required"),dueDate:Ze.nK().required("Due date is required").test("date-min","Due date must be later than create date",(function(e,n){var t=n.parent;return e.getTime()>t.createDate.getTime()})),taxes:Ze.Rx(),status:Ze.Z_(),discount:Ze.Rx(),shipping:Ze.Rx(),invoiceFrom:Ze.nK(),totalAmount:Ze.Rx(),invoiceNumber:Ze.Z_()}),s=(0,a.useMemo)((function(){return{invoiceNumber:(null===n||void 0===n?void 0:n.invoiceNumber)||"INV-1990",createDate:(null===n||void 0===n?void 0:n.createDate)||new Date,dueDate:(null===n||void 0===n?void 0:n.dueDate)||null,taxes:(null===n||void 0===n?void 0:n.taxes)||0,shipping:(null===n||void 0===n?void 0:n.shipping)||0,status:(null===n||void 0===n?void 0:n.status)||"draft",discount:(null===n||void 0===n?void 0:n.discount)||0,invoiceFrom:(null===n||void 0===n?void 0:n.invoiceFrom)||S.PX[0],invoiceTo:(null===n||void 0===n?void 0:n.invoiceTo)||null,items:(null===n||void 0===n?void 0:n.items)||[{title:"",description:"",service:"",quantity:1,price:0,total:0}],totalAmount:(null===n||void 0===n?void 0:n.totalAmount)||0}}),[n]),l=(0,ge.cI)({resolver:(0,be.X)(o),defaultValues:s}),c=l.reset,d=l.handleSubmit,u=l.formState.isSubmitting,x=d(function(){var e=(0,je.Z)((0,ve.Z)().mark((function e(n){return(0,ve.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.onTrue(),e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:c(),r.onFalse(),t.push(w.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(n,null,2)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),r.onFalse();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}()),p=d(function(){var e=(0,je.Z)((0,ve.Z)().mark((function e(n){return(0,ve.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.onTrue(),e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:c(),i.onFalse(),t.push(w.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(n,null,2)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),i.onFalse();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}());return(0,M.jsxs)(we.ZP,{methods:l,children:[(0,M.jsxs)(h.Z,{children:[(0,M.jsx)(Te,{}),(0,M.jsx)(Fe,{}),(0,M.jsx)(Pe,{})]}),(0,M.jsxs)(m.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:[(0,M.jsx)(ye.Z,{color:"inherit",size:"large",variant:"outlined",loading:r.value&&u,onClick:x,children:"Save as Draft"}),(0,M.jsxs)(ye.Z,{size:"large",variant:"contained",loading:i.value&&u,onClick:p,children:[n?"Update":"Create"," & Send"]})]})]})}function Ae(e){var n=e.id,t=(0,A.K$)(),r=S.Ot.find((function(e){return e.id===n}));return(0,M.jsxs)(Z.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,M.jsx)(W.Z,{heading:"Edit",links:[{name:"Dashboard",href:w.H.dashboard.root},{name:"Invoice",href:w.H.dashboard.invoice.root},{name:null===r||void 0===r?void 0:r.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,M.jsx)(Re,{currentInvoice:r})]})}function We(){var e=(0,A.K$)();return(0,M.jsxs)(Z.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,M.jsx)(W.Z,{heading:"Create a new invoice",links:[{name:"Dashboard",href:w.H.dashboard.root},{name:"Invoice",href:w.H.dashboard.invoice.root},{name:"New Invoice"}],sx:{mb:{xs:3,md:5}}}),(0,M.jsx)(Re,{})]})}var ze=t(66934);t(96851).Zx.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});(0,ze.ZP)($.Z)((function(e){var n=e.theme;return{"& td":{textAlign:"right",borderBottom:"none",paddingTop:n.spacing(1),paddingBottom:n.spacing(1)}}}))}}]);
//# sourceMappingURL=2133.6af298b0.chunk.js.map