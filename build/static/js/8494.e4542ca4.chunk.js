"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[8494],{88494:function(e,r,n){n.d(r,{Gh:function(){return z},QS:function(){return k},HD:function(){return V},$y:function(){return _},rZ:function(){return H},jD:function(){return T}});var t=n(74165),i=n(15861),s=n(29439),a=n(8007),o=n(61134),c=n(72791),l=n(44695),u=n(12258),d=n(50533),h=n(63515),p=n(36314),m=n(13400),x=n(4567),f=n(63466),g=n(38072),v=n(83854),Z=n(19208),j=(n(33805),n(22459)),b=n(32869),w=n(8976),y=n(40268),P=n(20845),S=n(80184);function k(){var e=(0,w.E)().login,r=(0,b.Ds)().enqueueSnackbar,n=(0,Z.tv)(),k=(0,c.useState)(""),q=(0,s.Z)(k,2),D=q[0],R=(q[1],(0,Z.lr)().get("returnTo"),(0,j.k)()),C=a.Ry().shape({email:a.Z_().required("Email Or Phone Number is required"),password:a.Z_().required("Password is required")}),I=(0,o.cI)({resolver:(0,l.X)(C),defaultValues:{email:"",password:""}}),_=I.reset,E=I.handleSubmit,z=I.formState.isSubmitting,N=E(function(){var s=(0,i.Z)((0,t.Z)().mark((function i(s){var a;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===e||void 0===e?void 0:e(s.email,s.password);case 3:a=t.sent,"completed"!==a.data.data.onBoarding?n.push(g.H.onboarding):n.push(g.H.dashboard.root),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),r(t.t0.response.data.message),_();case 12:case"end":return t.stop()}}),i,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()),H=(0,S.jsxs)(p.Z,{spacing:2,sx:{mb:5},children:[(0,S.jsx)(x.Z,{variant:"h4",children:"Sign in to Telical"}),(0,S.jsxs)(p.Z,{direction:"row",spacing:.5,children:[(0,S.jsx)(x.Z,{variant:"body2",children:"New user?"}),(0,S.jsx)(d.Z,{component:v.r,href:g.H.auth.jwt.register,variant:"subtitle2",children:"Create an account"})]})]}),L=(0,S.jsxs)(p.Z,{spacing:2.5,children:[!!D&&(0,S.jsx)(h.Z,{severity:"error",children:D}),(0,S.jsx)(P.au,{name:"email",label:"Email address or Phone Number"}),(0,S.jsx)(P.au,{name:"password",label:"Password",type:R.value?"text":"password",InputProps:{endAdornment:(0,S.jsx)(f.Z,{position:"end",children:(0,S.jsx)(m.Z,{onClick:R.onToggle,edge:"end",children:(0,S.jsx)(y.Z,{icon:R.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,S.jsx)(d.Z,{variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},href:"forgot-password",children:"Forgot password?"}),(0,S.jsx)(u.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:z,children:"Login"})]});return(0,S.jsxs)(P.ZP,{methods:I,onSubmit:N,children:[H,L]})}var q=n(57689),D=n(58406),R=n(61889),C=n(82626),I=n(66964);function _(){var e=(0,w.E)().register,r=((0,Z.tv)(),(0,c.useState)("")),n=(0,s.Z)(r,2),k=n[0],_=n[1],E=((0,Z.lr)().get("returnTo"),(0,q.s0)()),z=(0,j.k)(),N=(0,b.Ds)().enqueueSnackbar,H=(0,c.useState)(""),L=(0,s.Z)(H,2),F=L[0],A=L[1],T=a.Ry().shape({firstName:a.Z_().required("First name required"),lastName:a.Z_().required("Last name required"),email:a.Z_().required("Email is required").email("Email must be a valid email address"),password:a.Z_().required("Password is required"),confirmPassword:a.Z_().required("Confirm Password is required"),phone:a.Z_().required("Phone number is required").matches(/^\+\d+(\s\d+)*$/,"Invalid phone number")}),V=(0,o.cI)({resolver:(0,l.X)(T),defaultValues:{firstName:"",lastName:"",email:"",password:"",phone:""}}),W=V.reset,X=V.handleSubmit,M=V.formState.isSubmitting;(0,c.useEffect)((function(){var e=I.h.find((function(e){return e.code===F}));e&&V.setValue("phone","+".concat(e.phone," "))}),[F,V]);var B=X(function(){var r=(0,i.Z)((0,t.Z)().mark((function r(n){var i,s;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n.password!==n.confirmPassword){r.next=8;break}return r.next=4,null===e||void 0===e?void 0:e(n.email,n.password,n.firstName,n.lastName,n.phone);case 4:r.sent?(N("Registration successful"),E(g.H.auth.jwt.otpVerify)):_("Registration failed"),r.next=9;break;case 8:_("Passwords do not match");case 9:r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),W(),N(null===(i=r.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()),G=(0,S.jsxs)(p.Z,{spacing:2,sx:{mb:5,position:"relative"},children:[(0,S.jsx)(x.Z,{variant:"h4",children:"Get started absolutely free"}),(0,S.jsxs)(p.Z,{direction:"row",spacing:.5,children:[(0,S.jsx)(x.Z,{variant:"body2",children:" Already have an account? "}),(0,S.jsx)(d.Z,{href:g.H.auth.jwt.login,component:v.r,variant:"subtitle2",children:"Sign in"})]})]}),U=(0,S.jsxs)(x.Z,{component:"div",sx:{color:"text.secondary",mt:2.5,typography:"caption",textAlign:"center"},children:["By signing up, I agree to ",(0,S.jsx)(d.Z,{underline:"always",color:"text.primary",children:"Terms of Service"})," and ",(0,S.jsx)(d.Z,{underline:"always",color:"text.primary",children:"Privacy Policy"}),"."]}),Y=(0,S.jsx)(P.ZP,{methods:V,onSubmit:B,children:(0,S.jsxs)(p.Z,{spacing:2.5,children:[!!k&&(0,S.jsx)(h.Z,{severity:"error",children:k}),(0,S.jsxs)(p.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,S.jsx)(P.au,{name:"firstName",label:"First name"}),(0,S.jsx)(P.au,{name:"lastName",label:"Last name"})]}),(0,S.jsx)(P.au,{name:"email",label:"Email address"}),(0,S.jsx)(P.au,{name:"phone",label:"Phone Number",InputProps:{startAdornment:(0,S.jsx)(f.Z,{position:"start",children:(0,S.jsxs)(D.Z,{value:F,onChange:function(e){return A(e.target.value)},sx:{padding:"8px",display:"flex",flexDirection:"row",height:"40px",border:"none"},renderValue:function(e){var r=I.h.find((function(r){return r.code===e}));if(r){var n=r.code;return(0,S.jsx)(p.Z,{container:!0,alignItems:"center",sx:{display:"flex",flexDirection:"row !important"},children:(0,S.jsx)(R.ZP,{item:!0,children:(0,S.jsx)(y.Z,{icon:"circle-flags:".concat(n.toLowerCase()),width:28,sx:{mr:1}})})})}return null},children:[(0,S.jsx)(C.Z,{value:"",disabled:!0,children:"Select Country"}),I.h.map((function(e){var r=e.code,n=e.label,t=e.phone;return(0,S.jsx)(C.Z,{value:r,children:(0,S.jsxs)(p.Z,{container:!0,alignItems:"center",sx:{display:"flex",flexDirection:"row !important"},children:[(0,S.jsx)(R.ZP,{item:!0,children:(0,S.jsx)(y.Z,{icon:"circle-flags:".concat(r.toLowerCase()),width:28,sx:{mr:1}})}),(0,S.jsx)(R.ZP,{item:!0,children:"".concat(n," +").concat(t," ")})]})},r)}))]})})}}),(0,S.jsx)(P.au,{name:"password",label:"Password",type:z.value?"text":"password",InputProps:{endAdornment:(0,S.jsx)(f.Z,{position:"end",children:(0,S.jsx)(m.Z,{onClick:z.onToggle,edge:"end",children:(0,S.jsx)(y.Z,{icon:z.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,S.jsx)(P.au,{name:"confirmPassword",label:"Confirm Password",type:z.value?"text":"password",InputProps:{endAdornment:(0,S.jsx)(f.Z,{position:"end",children:(0,S.jsx)(m.Z,{onClick:z.onToggle,edge:"end",children:(0,S.jsx)(y.Z,{icon:z.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,S.jsx)(u.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:M,children:"Create account"})]})});return(0,S.jsxs)(S.Fragment,{children:[G,Y,U]})}var E=n(2102);function z(){var e=(0,Z.tv)(),r=a.Ry().shape({email:a.Z_().required("Email is required").email("Email must be a valid email address")}),n=(0,o.cI)({resolver:(0,l.X)(r),defaultValues:{email:""}}),s=n.handleSubmit,c=n.formState.isSubmitting,h=s(function(){var r=(0,i.Z)((0,t.Z)().mark((function r(n){var i,s,a,o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,E.Z.post("/users/forget-password",{email:n.email});case 3:i=r.sent,s=i.data.authorization,a=new URLSearchParams({email:n.email,authorization:s}).toString(),o="".concat(g.H.auth.jwt.resetPassword,"?").concat(a),e.push(o),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()),m=(0,S.jsxs)(p.Z,{spacing:3,alignItems:"center",children:[(0,S.jsx)(P.au,{name:"email",label:"Email address"}),(0,S.jsx)(u.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:c,children:"Send Request"}),(0,S.jsxs)(d.Z,{component:v.r,href:g.H.auth.jwt.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[(0,S.jsx)(y.Z,{icon:"eva:arrow-ios-back-fill",width:16}),"Return to sign in"]})]}),f=(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(p.Z,{spacing:1,sx:{my:5},children:[(0,S.jsx)(x.Z,{variant:"h3",children:"Forgot your password?"}),(0,S.jsx)(x.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Enter your account's email, and we'll send a password reset link."})]})});return(0,S.jsxs)(P.ZP,{methods:n,onSubmit:h,children:[f,m]})}var N=n(48550);function H(){var e=(0,Z.lr)(),r=e.get("email"),n=(0,b.Ds)().enqueueSnackbar,h=e.get("authorization"),m=a.Ry().shape({email:a.Z_().required("Email is required").email("Email must be a valid email address"),newPassword:a.Z_().required("Password is required"),confirmPassword:a.Z_().required("Password confirmation is required")}),f=(0,o.cI)({resolver:(0,l.X)(m),defaultValues:{newPassword:"",confirmPassword:""}}),j=(0,c.useState)(""),w=(0,s.Z)(j,2),k=w[0],q=w[1],D=(0,c.useState)(""),R=(0,s.Z)(D,2),C=R[0],I=R[1],_=(0,c.useState)(!1),z=(0,s.Z)(_,2),H=z[0],L=z[1],F=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(i){var s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!1),s={email:r,confirmPassword:C,newPassword:k},e.prev=2,k!==C){e.next=11;break}return e.next=6,E.Z.post("/users/user-reset-password",s,{headers:{authorization:h}});case 6:a=e.sent,L(!0),I(""),q(""),console.log(a);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n(e.t0.response.data.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(r){return e.apply(this,arguments)}}(),A=(0,S.jsxs)(p.Z,{spacing:3,alignItems:"center",children:[(0,S.jsx)(N.Z,{autoFocus:!0,fullWidth:!0,type:"text",margin:"dense",variant:"outlined",label:"New Password",value:k,onChange:function(e){return q(e.target.value)}}),(0,S.jsx)(N.Z,{autoFocus:!0,fullWidth:!0,type:"email",margin:"dense",variant:"outlined",label:"Confirm Password",value:C,onChange:function(e){return I(e.target.value)}}),(0,S.jsx)(u.Z,{fullWidth:!0,size:"large",variant:"contained",onClick:F,children:"Reset my password"}),(0,S.jsxs)(d.Z,{component:v.r,href:g.H.auth.jwt.login,color:"inherit",variant:"subtitle2",sx:{alignItems:"center",display:"inline-flex"},children:[(0,S.jsx)(y.Z,{icon:"eva:arrow-ios-back-fill",width:16}),"Return to sign in"]})]}),T=(0,S.jsx)(p.Z,{spacing:1,sx:{my:5},children:(0,S.jsx)(x.Z,{variant:"h3",children:"Reset your password"})}),V=(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(p.Z,{spacing:1,sx:{my:5},children:[(0,S.jsx)(x.Z,{variant:"h3",children:"Successful password reset"}),(0,S.jsx)(x.Z,{variant:"body5",sx:{color:"text.secondary"},children:"You can now login to your account with your new password."}),(0,S.jsx)(u.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",href:g.H.auth.jwt.login,sx:{marginTop:"15px"},children:"Login"})]})});return(0,S.jsx)(P.ZP,{methods:f,children:H?V:(0,S.jsxs)(S.Fragment,{children:[T,A]})})}var L=n(64554),F=n(5849),A=n(80237);function T(){var e=(0,Z.lr)().get("email"),r=(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(A.yj,{sx:{mb:5,height:96}}),(0,S.jsx)(x.Z,{variant:"h3",sx:{mb:1},children:"Please check your email!"}),(0,S.jsxs)(p.Z,{spacing:1,sx:{color:"text.secondary",typography:"body2",mb:5},children:[(0,S.jsx)(L.Z,{component:"span",children:" We have sent a confirmation link to"}),(0,S.jsx)(L.Z,{component:"strong",sx:{color:"text.primary"},children:e}),(0,S.jsx)(L.Z,{component:"div",children:"Please check your inbox/spam."})]})]});return(0,S.jsxs)(S.Fragment,{children:[r,(0,S.jsx)(F.Z,{component:v.r,href:g.H.auth.jwt.login,size:"large",color:"inherit",variant:"contained",startIcon:(0,S.jsx)(y.Z,{icon:"eva:arrow-ios-back-fill"}),sx:{alignSelf:"center"},children:"Return to sign in"})]})}n(57459);function V(){var e=(0,b.Ds)().enqueueSnackbar,r=(0,Z.tv)(),n=(0,c.useState)(""),m=(0,s.Z)(n,2),f=m[0],j=m[1],w=(0,q.TH)(),y="true"===new URLSearchParams(w.search).get("fromLoginPage"),k=(0,Z.lr)().get("returnTo"),D=sessionStorage.getItem("email-temporary"),R=sessionStorage.getItem("user_phone"),C=sessionStorage.getItem("user_name"),I=(0,c.useRef)(),_=(0,c.useRef)(),z=(0,c.useRef)(),N=(0,c.useRef)(),H=a.Ry().shape({}),L=(0,o.cI)({resolver:(0,l.X)(H)}),F=L.reset,A=L.handleSubmit,T=L.formState.isSubmitting,V=(L.watch,L.setValue),W=function(e,r){var n=r.target.value;switch(e){case"firstDigit":V("firstDigit",n),1===n.length&&_.current.focus();break;case"secondDigit":V("secondDigit",n),1===n.length?z.current.focus():0===n.length&&I.current.focus();break;case"thirdDigit":V("thirdDigit",n),1===n.length?N.current.focus():0===n.length&&_.current.focus();break;case"fourthDigit":V("fourthDigit",n),1===n.length?I.current.focus():0===n.length&&z.current.focus()}},X=A(function(){var n=(0,i.Z)((0,t.Z)().mark((function n(i){var s,a,o,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=i.firstDigit,a=i.secondDigit,o=i.thirdDigit,c=i.fourthDigit,n.prev=1,n.next=4,E.Z.post("/users/tests/verify-otp",{email:D,otp:"".concat(s).concat(a).concat(o).concat(c)});case 4:n.sent,r.push(k||g.H.auth.jwt.login),n.next=14;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0),j("string"===typeof n.t0?n.t0:n.t0.response.data.message),e("There seem to be an issue verifying your account",{variant:"error"}),F();case 14:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()),M=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:D,phoneNumber:R,name:C},e.prev=1,e.next=4,E.Z.post("/users/tests/resend-otp",r);case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){y&&M()}),[]);var B=(0,S.jsxs)(p.Z,{spacing:2,sx:{mb:5,px:1},children:[(0,S.jsx)(x.Z,{variant:"h4",children:"Verify Your Account"}),(0,S.jsx)(p.Z,{direction:"row",spacing:.5,children:(0,S.jsx)(x.Z,{variant:"body2",sx:{width:"100%"},children:"We sent you a four-digit code. Enter the code to confirm your email."})})]}),G=(0,S.jsxs)(p.Z,{spacing:2.5,children:[!!f&&(0,S.jsx)(h.Z,{severity:"error",children:f}),(0,S.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"row",gap:"10px",mb:"15px"},children:[(0,S.jsx)(P.au,{name:"firstDigit",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]",maxLength:1,style:{textAlign:"center",fontSize:"16px",border:"1px solid #00000040",borderRadius:"8px"},ref:I},onChange:function(e){return W("firstDigit",e)},required:!0}),(0,S.jsx)(P.au,{name:"secondDigit",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]",maxLength:1,style:{textAlign:"center",fontSize:"16px",border:"1px solid #00000040",borderRadius:"8px"},ref:_},onChange:function(e){return W("secondDigit",e)},required:!0}),(0,S.jsx)(P.au,{name:"thirdDigit",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]",maxLength:1,style:{textAlign:"center",fontSize:"16px",border:"1px solid #00000040",borderRadius:"8px"},ref:z},onChange:function(e){return W("thirdDigit",e)},required:!0}),(0,S.jsx)(P.au,{name:"fourthDigit",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]",maxLength:1,style:{textAlign:"center",fontSize:"16px",border:"1px solid #00000040",borderRadius:"8px"},ref:N},onChange:function(e){return W("fourthDigit",e)},required:!0})]}),(0,S.jsx)(u.Z,{fullWidth:!0,color:"primary",size:"large",type:"submit",variant:"contained",loading:T,"aria-label":"Verify",children:"Verify"}),(0,S.jsxs)(p.Z,{direction:"row",spacing:.5,children:[(0,S.jsx)(x.Z,{variant:"body2",children:"Didn't receive a code?"}),(0,S.jsx)(d.Z,{component:v.r,onClick:M,variant:"subtitle2",children:"Resend"})]})]});return(0,S.jsxs)(P.ZP,{methods:L,onSubmit:X,children:[B,G]})}}}]);
//# sourceMappingURL=8494.e4542ca4.chunk.js.map