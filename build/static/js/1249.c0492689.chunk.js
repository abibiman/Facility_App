"use strict";(self.webpackChunk_abibiman_telehealth=self.webpackChunk_abibiman_telehealth||[]).push([[1249],{50933:function(e,n,r){r.d(n,{Z:function(){return h}});var s=r(1413),o=r(45987),i=r(64554),t=r(50533),a=r(36314),l=r(4567),c=r(93517),d=r(83854),u=r(80184);function p(e){var n=e.link,r=e.activeLast,o=e.disabled,a=n.name,l=n.href,c=n.icon,p=(0,s.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},o&&!r&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),x=(0,u.jsxs)(u.Fragment,{children:[c&&(0,u.jsx)(i.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:c}),a]});return l?(0,u.jsx)(t.Z,{component:d.r,href:l,sx:p,children:x}):(0,u.jsxs)(i.Z,{sx:p,children:[" ",x," "]})}var x=["links","action","heading","moreLink","activeLast","sx"];function h(e){var n=e.links,r=e.action,d=e.heading,h=e.moreLink,Z=e.activeLast,f=e.sx,j=(0,o.Z)(e,x),v=n[n.length-1].name;return(0,u.jsxs)(i.Z,{sx:(0,s.Z)({},f),children:[(0,u.jsxs)(a.Z,{direction:"row",alignItems:"center",sx:{"@media (max-width: 475px)":{flexDirection:"column"}},children:[(0,u.jsxs)(i.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:d}),!!n.length&&(0,u.jsx)(c.Z,(0,s.Z)((0,s.Z)({separator:(0,u.jsx)(m,{})},j),{},{children:n.map((function(e){return(0,u.jsx)(p,{link:e,activeLast:Z,disabled:e.name===v},e.name||"")}))}))]}),r&&(0,u.jsxs)(i.Z,{sx:{flexShrink:0},children:[" ",r," "]})]}),!!h&&(0,u.jsx)(i.Z,{sx:{mt:2},children:h.map((function(e){return(0,u.jsx)(t.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function m(){return(0,u.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},28776:function(e,n,r){r.r(n),r.d(n,{default:function(){return xe}});var s=r(6907),o=r(29439),i=r(72791),t=r(61474),a=r(2101),l=r(89164),c=r(38072),d=r(57062),u=r(40268),p=r(60720),x=r(50933),h=r(1413),m=r(74165),Z=r(15861),f=r(8007),j=r(31243),v=r(61134),b=r(44695),g=r(12258),y=r(64554),w=r(57621),C=r(36314),k=r(24308),P=r(4567),S=r(57459),I=r(17070),N=r(66964),q=r(14993),L=r(32869),A=r(39231),T=r(89995),R=r(80184);function D(){var e,n,r,s,t=(0,L.Ds)().enqueueSnackbar,a=(0,i.useState)({}),l=(0,o.Z)(a,2),c=l[0],d=l[1],p=(0,i.useContext)(S.Vo).user,x=function(){var e=(0,Z.Z)((0,m.Z)().mark((function e(){var n,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.t)(null===p||void 0===p?void 0:p.facilityID,null===p||void 0===p?void 0:p.token);case 3:n=e.sent,r=n.data.data,d(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){x()}),[]);var D=f.Ry().shape({firstName:f.Z_().required("firstName is required"),lastName:f.Z_().required("lastName is required"),email:f.Z_().required("Email is required").email("Email must be a valid email address"),phoneNumber:f.Z_().required("Phone number is required"),age:f.Z_().required("Age is required"),height:f.Z_().required("Height is required"),weight:f.Z_().required("Weight is required"),isPublic:f.O7()}),_={firstName:null===c||void 0===c?void 0:c.firstName,lastName:null===c||void 0===c?void 0:c.lastName,email:(null===c||void 0===c?void 0:c.email)||"",photoURL:(null===c||void 0===c?void 0:c.photo)||null,phoneNumber:(null===c||void 0===c?void 0:c.phoneNumber)||"",country:(null===(e=c.address)||void 0===e?void 0:e.country)||"",city:(null===(n=c.address)||void 0===n?void 0:n.city)||"",address:(null===(r=c.address)||void 0===r?void 0:r.ghanaPostId)||"",region:(null===(s=c.address)||void 0===s?void 0:s.region)||"",ethnicity:(null===c||void 0===c?void 0:c.ethnicity)||"",age:(null===c||void 0===c?void 0:c.age)||"",weight:(null===c||void 0===c?void 0:c.weight)||"",height:(null===c||void 0===c?void 0:c.height)||"",about:(null===p||void 0===p?void 0:p.about)||"",isPublic:(null===p||void 0===p?void 0:p.isPublic)||!1},B=(0,v.cI)({resolver:(0,b.X)(D),defaultValues:_}),O=B.setValue,z=B.handleSubmit,F=B.formState.isSubmitting,X=B.watch;(0,i.useEffect)((function(){var e,n,r,s;c&&(O("firstName",null===c||void 0===c?void 0:c.firstName),O("lastName",null===c||void 0===c?void 0:c.lastName),O("email",null===c||void 0===c?void 0:c.email),O("photoURL",null===c||void 0===c?void 0:c.photo),O("phoneNumber",null===c||void 0===c?void 0:c.phoneNumber),O("country",null===(e=c.address)||void 0===e?void 0:e.country),O("address",null===(n=c.address)||void 0===n?void 0:n.ghanaPostId),O("region",null===(r=c.address)||void 0===r?void 0:r.region),O("city",null===(s=c.address)||void 0===s?void 0:s.City),O("ethnicity",null===c||void 0===c?void 0:c.ethnicity),O("age",null===c||void 0===c?void 0:c.age),O("weight",null===c||void 0===c?void 0:c.weight),O("height",null===c||void 0===c?void 0:c.height))}),[c,O]);var E=z(function(){var e=(0,Z.Z)((0,m.Z)().mark((function e(n){var r,s,o,i,a,l,d,u,h,Z,f,v,b,g,y;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.firstName,s=n.lastName,o=n.email,i=n.photoURL,a=n.phoneNumber,l=n.country,d=n.address,u=n.region,h=n.ethnicity,Z=n.age,f=n.weight,v=n.height,b=n.city,g={firstName:r,lastName:s,age:Z,address:{City:b,region:u,ghanaPostId:d,Country:l},ethnicity:h,weight:f,height:v,email:o,phoneNumber:a},e.next=5,j.Z.patch("https://abibiman-api.onrender.com/users/".concat(null===p||void 0===p?void 0:p.facilityID),g,{headers:{Authorization:"Basic ".concat(null===p||void 0===p?void 0:p.token)}});case 5:if(i===(null===c||void 0===c?void 0:c.photo)){e.next=10;break}return(y=new FormData).append("image",i),e.next=10,j.Z.patch("https://abibiman-api.onrender.com/imageupload/user/".concat(null===p||void 0===p?void 0:p.facilityID),y,{headers:{Authorization:"Basic ".concat(null===p||void 0===p?void 0:p.token)}});case 10:x(),t("Update success!"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n){return e.apply(this,arguments)}}()),M=(0,i.useCallback)((function(e){var n=e[0];Object.assign(n,{preview:URL.createObjectURL(n)});n&&O("photoURL",n)}),[O]),H=X("firstName");return(0,R.jsx)(R.Fragment,{children:c||void 0!==H?(0,R.jsx)(A.ZP,{methods:B,onSubmit:E,children:(0,R.jsxs)(k.Z,{container:!0,spacing:3,children:[(0,R.jsx)(k.Z,{xs:12,md:4,children:(0,R.jsxs)(w.Z,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:[(0,R.jsx)(A.sX,{name:"photoURL",maxSize:3145728,onDrop:M,helperText:(0,R.jsxs)(P.Z,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,R.jsx)("br",{})," max size of ",(0,I.oe)(3145728)]})}),(0,R.jsx)(A._e,{name:"isPublic",labelPlacement:"start",label:"Public Profile",sx:{mt:5}})]})}),(0,R.jsx)(k.Z,{xs:12,md:8,children:(0,R.jsxs)(w.Z,{sx:{p:3},children:[(0,R.jsxs)(y.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,R.jsx)(A.au,{name:"firstName",label:"Firstname",InputLabelProps:{shrink:!0}}),(0,R.jsx)(A.au,{name:"lastName",label:"Lastname",InputLabelProps:{shrink:!0}}),(0,R.jsx)(A.au,{name:"age",label:"Age",InputLabelProps:{shrink:!0}}),(0,R.jsx)(A.au,{name:"weight",label:"Weight",InputLabelProps:{shrink:!0}}),(0,R.jsx)(A.au,{name:"height",label:"Height",InputLabelProps:{shrink:!0}}),(0,R.jsx)(A.au,{name:"email",label:"Email Address",InputLabelProps:{shrink:!0}}),(0,R.jsx)(A.au,{name:"phoneNumber",label:"Phone Number",InputLabelProps:{shrink:!0}}),(0,R.jsx)(A.au,{name:"address",label:"Address",InputLabelProps:{shrink:!0}}),(0,R.jsx)(A.Fl,{name:"country",label:"Country",options:N.h.map((function(e){return e.label})),getOptionLabel:function(e){return e},renderOption:function(e,n){var r=N.h.filter((function(e){return e.label===n}))[0],s=r.code,o=r.label,t=r.phone;return o?(0,i.createElement)("li",(0,h.Z)((0,h.Z)({},e),{},{key:o}),(0,R.jsx)(u.Z,{icon:"circle-flags:".concat(s.toLowerCase()),width:28,sx:{mr:1}},o),o," (",s,") +",t):null}}),(0,R.jsx)(A.au,{name:"region",label:"State/Region"}),(0,R.jsx)(A.au,{name:"city",label:"City"})]}),(0,R.jsxs)(C.Z,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[(0,R.jsx)(A.au,{name:"about",multiline:!0,rows:4,label:"About"}),(0,R.jsx)(g.Z,{type:"submit",variant:"contained",loading:F,children:"Save Changes"})]})]})})]})}):(0,R.jsx)(q.a,{})})}var _=r(27938),B=r(5849),O=r(94721),z=r(9585),F=r(22459),X=r(80237),E=r(80160),M=r(21435),H=r(5574),U=r(48550),W=r(63466),G=r(96349),V=r(45987),Y=r(82626),J=r(13400),K=r(52115),$=["card","sx"];function Q(e){var n=e.card,r=e.sx,s=(0,V.Z)(e,$),o=(0,K.S)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(C.Z,(0,h.Z)((0,h.Z)({spacing:1,component:_.Z,variant:"outlined",sx:(0,h.Z)({p:2.5,width:1,position:"relative"},r)},s),{},{children:[(0,R.jsxs)(C.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,R.jsx)(u.Z,{icon:"visa"===n.cardType?"logos:visa":"logos:mastercard",width:36}),n.primary&&(0,R.jsx)(E.Z,{color:"info",children:"Default"})]}),(0,R.jsx)(P.Z,{variant:"subtitle2",children:n.cardNumber}),(0,R.jsx)(J.Z,{onClick:o.onOpen,sx:{top:8,right:8,position:"absolute"},children:(0,R.jsx)(u.Z,{icon:"eva:more-vertical-fill"})})]})),(0,R.jsxs)(K.Z,{open:o.open,onClose:o.onClose,children:[(0,R.jsxs)(Y.Z,{onClick:o.onClose,children:[(0,R.jsx)(u.Z,{icon:"eva:star-fill"}),"Set as primary"]}),(0,R.jsxs)(Y.Z,{onClick:o.onClose,children:[(0,R.jsx)(u.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,R.jsxs)(Y.Z,{onClick:o.onClose,sx:{color:"error.main"},children:[(0,R.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function ee(e){var n=e.open,r=e.list,s=e.onClose,t=e.selected,a=e.onSelect,l=(0,i.useState)(""),c=(0,o.Z)(l,2),d=c[0],p=c[1],x=!function(e){var n=e.inputData,r=e.query;if(r)return n.filter((function(e){return-1!==e.cardNumber.toLowerCase().indexOf(r.toLowerCase())}));return n}({inputData:r,query:d}).length&&!!d,m=(0,i.useCallback)((function(e){p(e.target.value)}),[]),Z=(0,i.useCallback)((function(e){a(e),p(""),s()}),[s,a]),f=(0,R.jsx)(C.Z,{spacing:2.5,sx:{p:3},children:r.map((function(e){return(0,R.jsx)(Q,{card:e,onClick:function(){return Z(e)},sx:(0,h.Z)({cursor:"pointer"},t(e.id)&&{boxShadow:function(e){return"0 0 0 2px ".concat(e.palette.text.primary)}})},e.id)}))});return(0,R.jsxs)(H.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:s,children:[(0,R.jsxs)(C.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[(0,R.jsx)(P.Z,{variant:"h6",children:" Cards "}),(0,R.jsx)(B.Z,{size:"small",startIcon:(0,R.jsx)(u.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})]}),(0,R.jsx)(C.Z,{sx:{px:3},children:(0,R.jsx)(U.Z,{value:d,onChange:m,placeholder:"Search...",InputProps:{startAdornment:(0,R.jsx)(W.Z,{position:"start",children:(0,R.jsx)(u.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),x?(0,R.jsx)(G.Z,{query:d,sx:{px:3,pt:5,pb:10}}):f]})}function ne(e){var n=e.cardList,r=e.addressBook,s=e.plans,t=(0,F.k)(),a=(0,F.k)(),l=r.filter((function(e){return e.primary}))[0],c=n.filter((function(e){return e.primary}))[0],d=(0,i.useState)(""),p=(0,o.Z)(d,2),x=p[0],m=p[1],Z=(0,i.useState)(l),f=(0,o.Z)(Z,2),j=f[0],v=f[1],b=(0,i.useState)(c),g=(0,o.Z)(b,2),P=g[0],S=g[1],I=(0,i.useCallback)((function(e){s.filter((function(e){return e.primary}))[0].subscription!==e&&m(e)}),[s]),N=(0,i.useCallback)((function(e){v(e)}),[]),q=(0,i.useCallback)((function(e){S(e)}),[]),L=s.map((function(e){return(0,R.jsx)(k.Z,{xs:12,md:4,children:(0,R.jsxs)(C.Z,{component:_.Z,variant:"outlined",onClick:function(){return I(e.subscription)},sx:(0,h.Z)((0,h.Z)({p:2.5,position:"relative",cursor:"pointer"},e.primary&&{opacity:.48,cursor:"default"}),e.subscription===x&&{boxShadow:function(e){return"0 0 0 2px ".concat(e.palette.text.primary)}}),children:[e.primary&&(0,R.jsx)(E.Z,{color:"info",startIcon:(0,R.jsx)(u.Z,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),(0,R.jsxs)(y.Z,{sx:{width:48,height:48},children:["basic"===e.subscription&&(0,R.jsx)(X.OC,{}),"starter"===e.subscription&&(0,R.jsx)(X.Zk,{}),"premium"===e.subscription&&(0,R.jsx)(X.Ku,{})]}),(0,R.jsx)(y.Z,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:e.subscription}),(0,R.jsxs)(C.Z,{direction:"row",alignItems:"center",sx:{typography:"h4"},children:[e.price||"Free",!!e.price&&(0,R.jsx)(y.Z,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},e.subscription)}));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(w.Z,{children:[(0,R.jsx)(z.Z,{title:"Plan"}),(0,R.jsx)(k.Z,{container:!0,spacing:2,sx:{p:3},children:L}),(0,R.jsxs)(C.Z,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[(0,R.jsxs)(k.Z,{container:!0,spacing:{xs:.5,md:2},children:[(0,R.jsx)(k.Z,{xs:12,md:4,sx:{color:"text.secondary"},children:"Plan"}),(0,R.jsx)(k.Z,{xs:12,md:8,sx:{typography:"subtitle2",textTransform:"capitalize"},children:x||"-"})]}),(0,R.jsxs)(k.Z,{container:!0,spacing:{xs:.5,md:2},children:[(0,R.jsx)(k.Z,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing name"}),(0,R.jsx)(k.Z,{xs:12,md:8,children:(0,R.jsx)(B.Z,{onClick:t.onTrue,endIcon:(0,R.jsx)(u.Z,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:null===j||void 0===j?void 0:j.name})})]}),(0,R.jsxs)(k.Z,{container:!0,spacing:{xs:.5,md:2},children:[(0,R.jsx)(k.Z,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing address"}),(0,R.jsx)(k.Z,{xs:12,md:8,sx:{color:"text.secondary"},children:null===j||void 0===j?void 0:j.fullAddress})]}),(0,R.jsxs)(k.Z,{container:!0,spacing:{xs:.5,md:2},children:[(0,R.jsx)(k.Z,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing phone number"}),(0,R.jsx)(k.Z,{xs:12,md:8,sx:{color:"text.secondary"},children:null===j||void 0===j?void 0:j.phoneNumber})]}),(0,R.jsxs)(k.Z,{container:!0,spacing:{xs:.5,md:2},children:[(0,R.jsx)(k.Z,{xs:12,md:4,sx:{color:"text.secondary"},children:"Payment method"}),(0,R.jsx)(k.Z,{xs:12,md:8,children:(0,R.jsx)(B.Z,{onClick:a.onTrue,endIcon:(0,R.jsx)(u.Z,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:null===P||void 0===P?void 0:P.cardNumber})})]})]}),(0,R.jsx)(O.Z,{sx:{borderStyle:"dashed"}}),(0,R.jsxs)(C.Z,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{p:3},children:[(0,R.jsx)(B.Z,{variant:"outlined",children:"Cancel Plan"}),(0,R.jsx)(B.Z,{variant:"contained",children:"Upgrade Plan"})]})]}),(0,R.jsx)(ee,{list:n,open:a.value,onClose:a.onFalse,selected:function(e){return(null===P||void 0===P?void 0:P.id)===e},onSelect:q}),(0,R.jsx)(M.IJ,{list:r,open:t.value,onClose:t.onFalse,selected:function(e){return(null===j||void 0===j?void 0:j.id)===e},onSelect:N,action:(0,R.jsx)(B.Z,{size:"small",startIcon:(0,R.jsx)(u.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}var re=r(51975);function se(e){var n=e.cards,r=(0,F.k)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(w.Z,{sx:{my:3},children:[(0,R.jsx)(z.Z,{title:"Payment Method",action:(0,R.jsx)(B.Z,{size:"small",color:"primary",startIcon:(0,R.jsx)(u.Z,{icon:"mingcute:add-line"}),onClick:r.onTrue,children:"New Card"})}),(0,R.jsx)(y.Z,{rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{p:3},children:n.map((function(e){return(0,R.jsx)(Q,{card:e},e.id)}))})]}),(0,R.jsx)(re.Z,{open:r.value,onClose:r.onFalse})]})}var oe=r(50533),ie=r(49900),te=r(9145);function ae(e){var n=e.invoices,r=(0,F.k)();return(0,R.jsxs)(w.Z,{children:[(0,R.jsx)(z.Z,{title:"Invoice History"}),(0,R.jsxs)(C.Z,{spacing:1.5,sx:{px:3,pt:3},children:[(r.value?n:n.slice(0,8)).map((function(e){return(0,R.jsxs)(C.Z,{direction:"row",alignItems:"center",children:[(0,R.jsx)(ie.Z,{primary:e.invoiceNumber,secondary:(0,te.Mu)(e.createdAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),(0,R.jsx)(P.Z,{variant:"body2",sx:{textAlign:"right",mr:5},children:(0,I.e_)(e.price)}),(0,R.jsx)(oe.Z,{color:"inherit",underline:"always",variant:"body2",href:"#",children:"PDF"})]},e.id)})),(0,R.jsx)(O.Z,{sx:{borderStyle:"dashed"}})]}),(0,R.jsx)(C.Z,{alignItems:"flex-start",sx:{p:2},children:(0,R.jsx)(B.Z,{size:"small",color:"inherit",startIcon:(0,R.jsx)(u.Z,{icon:r.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),onClick:r.onToggle,children:r.value?"Show Less":"Show More"})})]})}function le(e){var n=e.addressBook,r=(0,i.useState)(""),s=(0,o.Z)(r,2),t=s[0],a=s[1],l=(0,K.S)(),c=(0,F.k)(),d=(0,i.useCallback)((function(e){console.info("ADDRESS",e)}),[]),p=(0,i.useCallback)((function(e,n){l.onOpen(e),a(n)}),[l]),x=(0,i.useCallback)((function(){l.onClose(),a("")}),[l]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(w.Z,{children:[(0,R.jsx)(z.Z,{title:"Address Book",action:(0,R.jsx)(B.Z,{size:"small",color:"primary",startIcon:(0,R.jsx)(u.Z,{icon:"mingcute:add-line"}),onClick:c.onTrue,children:"Address"})}),(0,R.jsx)(C.Z,{spacing:2.5,sx:{p:3},children:n.map((function(e){return(0,R.jsx)(M.Uo,{variant:"outlined",address:e,action:(0,R.jsx)(J.Z,{onClick:function(n){p(n,"".concat(e.id))},sx:{position:"absolute",top:8,right:8},children:(0,R.jsx)(u.Z,{icon:"eva:more-vertical-fill"})}),sx:{p:2.5,borderRadius:1}},e.id)}))})]}),(0,R.jsxs)(K.Z,{open:l.open,onClose:x,children:[(0,R.jsxs)(Y.Z,{onClick:function(){x(),console.info("SET AS PRIMARY",t)},children:[(0,R.jsx)(u.Z,{icon:"eva:star-fill"}),"Set as primary"]}),(0,R.jsxs)(Y.Z,{onClick:function(){x(),console.info("EDIT",t)},children:[(0,R.jsx)(u.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,R.jsxs)(Y.Z,{onClick:function(){x(),console.info("DELETE",t)},sx:{color:"error.main"},children:[(0,R.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),(0,R.jsx)(M.oq,{open:c.value,onClose:c.onFalse,onCreate:d})]})}function ce(e){var n=e.cards,r=e.plans,s=e.invoices,o=e.addressBook;return(0,R.jsxs)(k.Z,{container:!0,spacing:5,disableEqualOverflow:!0,children:[(0,R.jsxs)(k.Z,{xs:12,md:8,children:[(0,R.jsx)(ne,{plans:r,cardList:n,addressBook:o}),(0,R.jsx)(se,{cards:n}),(0,R.jsx)(le,{addressBook:o})]}),(0,R.jsx)(k.Z,{xs:12,md:4,children:(0,R.jsx)(ae,{invoices:s})})]})}function de(){var e=(0,L.Ds)().enqueueSnackbar,n=(0,i.useContext)(S.Vo).user||{},r=n.token,s=n.email,o=(0,F.k)(),t=f.Ry().shape({oldPassword:f.Z_().required("Old Password is required"),newPassword:f.Z_().required("New Password is required").min(6,"Password must be at least 6 characters").test("no-match","New password must be different than old password",(function(e,n){return e!==n.parent.oldPassword})),confirmNewPassword:f.Z_().oneOf([f.iH("newPassword")],"Passwords must match")}),a=(0,v.cI)({resolver:(0,b.X)(t),defaultValues:{oldPassword:"",newPassword:"",confirmNewPassword:""}}),l=a.reset,c=a.handleSubmit,d=a.formState.isSubmitting,p=c(function(){var n=(0,Z.Z)((0,m.Z)().mark((function n(o){var i,t,a,c;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=o.oldPassword,t=o.newPassword,a=o.confirmNewPassword,c={email:s,newPassword:t,confirmPassword:a,oldPassword:i},console.log(c),n.prev=3,n.next=6,j.Z.post("https://abibiman-api.onrender.com/users/user-change-password",c,{headers:{Authorization:"Basic ".concat(r)}});case 6:l(),e("Update success!"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}());return(0,R.jsx)(A.ZP,{methods:a,onSubmit:p,children:(0,R.jsxs)(C.Z,{component:w.Z,spacing:3,sx:{p:3},children:[(0,R.jsx)(A.au,{name:"oldPassword",type:o.value?"text":"password",label:"Old Password",InputProps:{endAdornment:(0,R.jsx)(W.Z,{position:"end",children:(0,R.jsx)(J.Z,{onClick:o.onToggle,edge:"end",children:(0,R.jsx)(u.Z,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,R.jsx)(A.au,{name:"newPassword",label:"New Password",type:o.value?"text":"password",InputProps:{endAdornment:(0,R.jsx)(W.Z,{position:"end",children:(0,R.jsx)(J.Z,{onClick:o.onToggle,edge:"end",children:(0,R.jsx)(u.Z,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:(0,R.jsxs)(C.Z,{component:"span",direction:"row",alignItems:"center",children:[(0,R.jsx)(u.Z,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),(0,R.jsx)(A.au,{name:"confirmNewPassword",type:o.value?"text":"password",label:"Confirm New Password",InputProps:{endAdornment:(0,R.jsx)(W.Z,{position:"end",children:(0,R.jsx)(J.Z,{onClick:o.onToggle,edge:"end",children:(0,R.jsx)(u.Z,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,R.jsx)(g.Z,{type:"submit",variant:"contained",loading:d,sx:{ml:"auto"},children:"Save Changes"})]})})}var ue=[{value:"general",label:"General",icon:(0,R.jsx)(u.Z,{icon:"solar:user-id-bold",width:24})},{value:"billing",label:"Billing",icon:(0,R.jsx)(u.Z,{icon:"solar:bill-list-bold",width:24})},{value:"security",label:"Security",icon:(0,R.jsx)(u.Z,{icon:"ic:round-vpn-key",width:24})}];function pe(){var e=(0,p.K$)(),n=(0,i.useState)("general"),r=(0,o.Z)(n,2),s=r[0],u=r[1],h=(0,i.useCallback)((function(e,n){u(n)}),[]);return(0,R.jsxs)(l.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,R.jsx)(x.Z,{heading:"My Account",links:[{name:"Dashboard",href:c.H.dashboard.root},{name:"Account"}],sx:{mb:{xs:3,md:5}}}),(0,R.jsx)(a.Z,{value:s,onChange:h,sx:{mb:{xs:3,md:5}},children:ue.map((function(e){return(0,R.jsx)(t.Z,{label:e.label,icon:e.icon,value:e.value},e.value)}))}),"general"===s&&(0,R.jsx)(D,{}),"billing"===s&&(0,R.jsx)(ce,{plans:d.Sc,cards:d.Po,invoices:d.aH,addressBook:d.n}),"security"===s&&(0,R.jsx)(de,{})]})}function xe(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.ql,{children:(0,R.jsx)("title",{children:" Dashboard: My Account"})}),(0,R.jsx)(pe,{})]})}},89995:function(e,n,r){r.d(n,{t:function(){return t}});var s=r(74165),o=r(15861),i=r(31243),t=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,r){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("https://abibiman-api.onrender.com/users/".concat(n),{headers:{Authorization:"Basic ".concat(r)}});case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},21435:function(e,n,r){r.d(n,{Uo:function(){return p},IJ:function(){return _},oq:function(){return I}});var s=r(1413),o=r(45987),i=r(64554),t=r(4567),a=r(27938),l=r(36314),c=r(80160),d=r(80184),u=["address","action","sx"];function p(e){var n=e.address,r=e.action,p=e.sx,x=(0,o.Z)(e,u),h=n.name,m=n.fullAddress,Z=n.addressType,f=n.phoneNumber,j=n.primary;return(0,d.jsxs)(l.Z,(0,s.Z)((0,s.Z)({component:a.Z,spacing:2,alignItems:{md:"flex-end"},direction:{xs:"column",md:"row"},sx:(0,s.Z)({position:"relative"},p)},x),{},{children:[(0,d.jsxs)(l.Z,{flexGrow:1,spacing:1,children:[(0,d.jsxs)(l.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(t.Z,{variant:"subtitle2",children:[h,(0,d.jsxs)(i.Z,{component:"span",sx:{ml:.5,typography:"body2",color:"text.secondary"},children:["(",Z,")"]})]}),j&&(0,d.jsx)(c.Z,{color:"info",sx:{ml:1},children:"Default"})]}),(0,d.jsx)(t.Z,{variant:"body2",sx:{color:"text.secondary"},children:m}),(0,d.jsx)(t.Z,{variant:"body2",sx:{color:"text.secondary"},children:f})]}),r&&r]}))}var x=r(74165),h=r(15861),m=r(8007),Z=r(61134),f=r(44695),j=r(12258),v=r(5849),b=r(5574),g=r(65661),y=r(97123),w=r(39157),C=r(66964),k=r(40268),P=r(39231),S=r(72791);function I(e){var n=e.open,r=e.onClose,o=e.onCreate,t=m.Ry().shape({name:m.Z_().required("Fullname is required"),phoneNumber:m.Z_().required("Phone number is required"),address:m.Z_().required("Address is required"),city:m.Z_().required("City is required"),state:m.Z_().required("State is required"),country:m.Z_().required("Country is required"),zipCode:m.Z_().required("Zip code is required"),addressType:m.Z_(),primary:m.O7()}),a=(0,Z.cI)({resolver:(0,f.X)(t),defaultValues:{name:"",city:"",state:"",address:"",zipCode:"",primary:!0,phoneNumber:"",addressType:"Home",country:""}}),c=a.handleSubmit,u=a.formState.isSubmitting,p=c(function(){var e=(0,h.Z)((0,x.Z)().mark((function e(n){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o({name:n.name,phoneNumber:n.phoneNumber,fullAddress:"".concat(n.address,", ").concat(n.city,", ").concat(n.state,", ").concat(n.country,", ").concat(n.zipCode),addressType:n.addressType,primary:n.primary}),r()}catch(s){console.error(s)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return(0,d.jsx)(b.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:r,children:(0,d.jsxs)(P.ZP,{methods:a,onSubmit:p,children:[(0,d.jsx)(g.Z,{children:"New address"}),(0,d.jsx)(w.Z,{dividers:!0,children:(0,d.jsxs)(l.Z,{spacing:3,children:[(0,d.jsx)(P.km,{row:!0,name:"addressType",options:[{label:"Home",value:"Home"},{label:"Office",value:"Office"}]}),(0,d.jsxs)(i.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,d.jsx)(P.au,{name:"name",label:"Full Name"}),(0,d.jsx)(P.au,{name:"phoneNumber",label:"Phone Number"})]}),(0,d.jsx)(P.au,{name:"address",label:"Address"}),(0,d.jsxs)(i.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,d.jsx)(P.au,{name:"city",label:"Town / City"}),(0,d.jsx)(P.au,{name:"state",label:"State"}),(0,d.jsx)(P.au,{name:"zipCode",label:"Zip/Code"})]}),(0,d.jsx)(P.Fl,{name:"country",label:"Country",options:C.h.map((function(e){return e.label})),getOptionLabel:function(e){return e},renderOption:function(e,n){var r=C.h.filter((function(e){return e.label===n}))[0],o=r.code,i=r.label,t=r.phone;return i?(0,S.createElement)("li",(0,s.Z)((0,s.Z)({},e),{},{key:i}),(0,d.jsx)(k.Z,{icon:"circle-flags:".concat(o.toLowerCase()),width:28,sx:{mr:1}},i),i," (",o,") +",t):null}}),(0,d.jsx)(P.jb,{name:"primary",label:"Use this address as default."})]})}),(0,d.jsxs)(y.Z,{children:[(0,d.jsx)(v.Z,{color:"inherit",variant:"outlined",onClick:r,children:"Cancel"}),(0,d.jsx)(j.Z,{type:"submit",variant:"contained",loading:u,children:"Deliver to this Address"})]})]})})}var N=r(4942),q=r(29439),L=r(48550),A=r(63466),T=r(76278),R=r(34065),D=r(96349);function _(e){var n=e.title,r=void 0===n?"Address Book":n,s=e.list,o=e.action,a=e.open,u=e.onClose,p=e.selected,x=e.onSelect,h=(0,S.useState)(""),m=(0,q.Z)(h,2),Z=m[0],f=m[1],j=function(e){var n=e.inputData,r=e.query;if(r)return n.filter((function(e){return-1!==e.name.toLowerCase().indexOf(r.toLowerCase())||-1!==e.fullAddress.toLowerCase().indexOf(r.toLowerCase())||-1!=="".concat(e.company).toLowerCase().indexOf(r.toLowerCase())}));return n}({inputData:s,query:Z}),v=!j.length&&!!Z,g=(0,S.useCallback)((function(e){f(e.target.value)}),[]),y=(0,S.useCallback)((function(e){x(e),f(""),u()}),[u,x]),w=(0,d.jsx)(l.Z,{spacing:.5,sx:{p:.5,maxHeight:640,overflowX:"hidden"},children:j.map((function(e){return(0,d.jsxs)(l.Z,{spacing:.5,component:T.Z,selected:p("".concat(e.id)),onClick:function(){return y(e)},sx:(0,N.Z)({py:1,px:1.5,borderRadius:1,flexDirection:"column",alignItems:"flex-start"},"&.".concat(R.Z.selected),{bgcolor:"action.selected","&:hover":{bgcolor:"action.selected"}}),children:[(0,d.jsxs)(l.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,d.jsx)(t.Z,{variant:"subtitle2",children:e.name}),e.primary&&(0,d.jsx)(c.Z,{color:"info",children:"Default"})]}),e.company&&(0,d.jsx)(i.Z,{sx:{color:"primary.main",typography:"caption"},children:e.company}),(0,d.jsx)(t.Z,{variant:"body2",sx:{color:"text.secondary"},children:e.fullAddress}),e.phoneNumber&&(0,d.jsx)(t.Z,{variant:"body2",sx:{color:"text.secondary"},children:e.phoneNumber})]},e.id)}))});return(0,d.jsxs)(b.Z,{fullWidth:!0,maxWidth:"xs",open:a,onClose:u,children:[(0,d.jsxs)(l.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[(0,d.jsxs)(t.Z,{variant:"h6",children:[" ",r," "]}),o&&o]}),(0,d.jsx)(l.Z,{sx:{p:2,pt:0},children:(0,d.jsx)(L.Z,{value:Z,onChange:g,placeholder:"Search...",InputProps:{startAdornment:(0,d.jsx)(A.Z,{position:"start",children:(0,d.jsx)(k.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),v?(0,d.jsx)(D.Z,{query:Z,sx:{px:3,pt:5,pb:10}}):w]})}},51975:function(e,n,r){r.d(n,{Z:function(){return j}});var s=r(1413),o=r(45987),i=r(36314),t=r(5849),a=r(48550),l=r(13400),c=r(65661),d=r(97123),u=r(39157),p=r(63466),x=r(5574),h=r(40268),m=r(52115),Z=r(80184),f=["onClose"];function j(e){var n=e.onClose,r=(0,o.Z)(e,f),j=(0,m.S)();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(x.Z,(0,s.Z)((0,s.Z)({maxWidth:"sm",onClose:n},r),{},{children:[(0,Z.jsx)(c.Z,{children:" New Card "}),(0,Z.jsx)(u.Z,{sx:{overflow:"unset"},children:(0,Z.jsxs)(i.Z,{spacing:2.5,children:[(0,Z.jsx)(a.Z,{autoFocus:!0,label:"Card Number",placeholder:"XXXX XXXX XXXX XXXX",InputLabelProps:{shrink:!0}}),(0,Z.jsx)(a.Z,{label:"Card Holder",placeholder:"JOHN DOE",InputLabelProps:{shrink:!0}}),(0,Z.jsxs)(i.Z,{spacing:2,direction:"row",children:[(0,Z.jsx)(a.Z,{label:"Expiration Date",placeholder:"MM/YY",InputLabelProps:{shrink:!0}}),(0,Z.jsx)(a.Z,{label:"CVV/CVC",placeholder:"***",InputLabelProps:{shrink:!0},InputProps:{endAdornment:(0,Z.jsx)(p.Z,{position:"end",children:(0,Z.jsx)(l.Z,{size:"small",edge:"end",onClick:j.onOpen,children:(0,Z.jsx)(h.Z,{icon:"eva:info-outline"})})})}})]}),(0,Z.jsxs)(i.Z,{direction:"row",alignItems:"center",sx:{typography:"caption",color:"text.disabled"},children:[(0,Z.jsx)(h.Z,{icon:"carbon:locked",sx:{mr:.5}}),"Your transaction is secured with SSL encryption"]})]})}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(t.Z,{color:"inherit",variant:"outlined",onClick:n,children:"Cancel"}),(0,Z.jsx)(t.Z,{variant:"contained",onClick:n,children:"Add"})]})]})),(0,Z.jsx)(m.Z,{open:j.open,onClose:j.onClose,arrow:"bottom-center",sx:{maxWidth:200,typography:"body2",textAlign:"center"},children:"Three-digit number on the back of your VISA card"})]})}},93517:function(e,n,r){r.d(n,{Z:function(){return T}});var s=r(93433),o=r(29439),i=r(4942),t=r(87462),a=r(63366),l=r(72791),c=(r(57441),r(59278)),d=r(94419),u=r(19735),p=r(66934),x=r(31402),h=r(4567),m=r(12065),Z=r(74223),f=r(80184),j=(0,Z.Z)((0,f.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),v=r(95080),b=["slots","slotProps"],g=(0,p.ZP)(v.Z)((function(e){var n=e.theme;return(0,t.Z)({display:"flex",marginLeft:"calc(".concat(n.spacing(1)," * 0.5)"),marginRight:"calc(".concat(n.spacing(1)," * 0.5)")},"light"===n.palette.mode?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,t.Z)({},"light"===n.palette.mode?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}),"&:active":(0,t.Z)({boxShadow:n.shadows[0]},"light"===n.palette.mode?{backgroundColor:(0,m._4)(n.palette.grey[200],.12)}:{backgroundColor:(0,m._4)(n.palette.grey[600],.12)})})})),y=(0,p.ZP)(j)({width:24,height:16});var w=function(e){var n=e.slots,r=void 0===n?{}:n,s=e.slotProps,o=void 0===s?{}:s,i=(0,a.Z)(e,b),l=e;return(0,f.jsx)("li",{children:(0,f.jsx)(g,(0,t.Z)({focusRipple:!0},i,{ownerState:l,children:(0,f.jsx)(y,(0,t.Z)({as:r.CollapsedIcon,ownerState:l},o.collapsedIcon))}))})},C=r(75878),k=r(21217);function P(e){return(0,k.Z)("MuiBreadcrumbs",e)}var S=(0,C.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),I=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],N=(0,p.ZP)(h.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,n){return[(0,i.Z)({},"& .".concat(S.li),n.li),n.root]}})({}),q=(0,p.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,n){return n.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),L=(0,p.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,n){return n.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function A(e,n,r,s){return e.reduce((function(o,i,t){return t<e.length-1?o=o.concat(i,(0,f.jsx)(L,{"aria-hidden":!0,className:n,ownerState:s,children:r},"separator-".concat(t))):o.push(i),o}),[])}var T=l.forwardRef((function(e,n){var r=(0,x.Z)({props:e,name:"MuiBreadcrumbs"}),i=r.children,p=r.className,h=r.component,m=void 0===h?"nav":h,Z=r.slots,j=void 0===Z?{}:Z,v=r.slotProps,b=void 0===v?{}:v,g=r.expandText,y=void 0===g?"Show path":g,C=r.itemsAfterCollapse,k=void 0===C?1:C,S=r.itemsBeforeCollapse,L=void 0===S?1:S,T=r.maxItems,R=void 0===T?8:T,D=r.separator,_=void 0===D?"/":D,B=(0,a.Z)(r,I),O=l.useState(!1),z=(0,o.Z)(O,2),F=z[0],X=z[1],E=(0,t.Z)({},r,{component:m,expanded:F,expandText:y,itemsAfterCollapse:k,itemsBeforeCollapse:L,maxItems:R,separator:_}),M=function(e){var n=e.classes;return(0,d.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},P,n)}(E),H=(0,u.y)({elementType:j.CollapsedIcon,externalSlotProps:b.collapsedIcon,ownerState:E}),U=l.useRef(null),W=l.Children.toArray(i).filter((function(e){return l.isValidElement(e)})).map((function(e,n){return(0,f.jsx)("li",{className:M.li,children:e},"child-".concat(n))}));return(0,f.jsx)(N,(0,t.Z)({ref:n,component:m,color:"text.secondary",className:(0,c.Z)(M.root,p),ownerState:E},B,{children:(0,f.jsx)(q,{className:M.ol,ref:U,ownerState:E,children:A(F||R&&W.length<=R?W:function(e){return L+k>=e.length?e:[].concat((0,s.Z)(e.slice(0,L)),[(0,f.jsx)(w,{"aria-label":y,slots:{CollapsedIcon:j.CollapsedIcon},slotProps:{collapsedIcon:H},onClick:function(){X(!0);var e=U.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],(0,s.Z)(e.slice(e.length-k,e.length)))}(W),M.separator,_,E)})}))}))}}]);
//# sourceMappingURL=1249.c0492689.chunk.js.map